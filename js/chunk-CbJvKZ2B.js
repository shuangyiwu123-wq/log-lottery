function e(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const t={},n=[],r=()=>{},i=()=>!1,o=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),s=e=>e.startsWith("onUpdate:"),a=Object.assign,l=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},c=Object.prototype.hasOwnProperty,u=(e,t)=>c.call(e,t),h=Array.isArray,f=e=>"[object Map]"===w(e),d=e=>"[object Set]"===w(e),p=e=>"[object Date]"===w(e),m=e=>"[object RegExp]"===w(e),g=e=>"function"==typeof e,v=e=>"string"==typeof e,y=e=>"symbol"==typeof e,_=e=>null!==e&&"object"==typeof e,b=e=>(_(e)||g(e))&&g(e.then)&&g(e.catch),x=Object.prototype.toString,w=e=>x.call(e),S=e=>w(e).slice(8,-1),E=e=>"[object Object]"===w(e),T=e=>v(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,A=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=e("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),C=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},O=/-\w/g,R=C(e=>e.replace(O,e=>e.slice(1).toUpperCase())),I=/\B([A-Z])/g,k=C(e=>e.replace(I,"-$1").toLowerCase()),P=C(e=>e.charAt(0).toUpperCase()+e.slice(1)),N=C(e=>e?`on${P(e)}`:""),D=(e,t)=>!Object.is(e,t),L=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},F=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},U=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B=e=>{const t=v(e)?Number(e):NaN;return isNaN(t)?e:t};let z;const V=()=>z||(z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),j=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;const H={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},W={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},G=e("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol"),q=G;function X(e,t=0,n=e.length){if((t=Math.max(0,Math.min(t,e.length)))>(n=Math.max(0,Math.min(n,e.length))))return"";let r=e.split(/(\r?\n)/);const i=r.filter((e,t)=>t%2==1);r=r.filter((e,t)=>t%2==0);let o=0;const s=[];for(let a=0;a<r.length;a++)if(o+=r[a].length+(i[a]&&i[a].length||0),o>=t){for(let e=a-2;e<=a+2||n>o;e++){if(e<0||e>=r.length)continue;const l=e+1;s.push(`${l}${" ".repeat(Math.max(3-String(l).length,0))}|  ${r[e]}`);const c=r[e].length,u=i[e]&&i[e].length||0;if(e===a){const e=t-(o-(c+u)),r=Math.max(1,n>o?c-e:n-t);s.push("   |  "+" ".repeat(e)+"^".repeat(r))}else if(e>a){if(n>o){const e=Math.max(Math.min(n-o,c),1);s.push("   |  "+"^".repeat(e))}o+=c+u}}break}return s.join("\n")}function Y(e){if(h(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=v(r)?Q(r):Y(r);if(i)for(const e in i)t[e]=i[e]}return t}if(v(e)||_(e))return e}const K=/;(?![^(]*\))/g,Z=/:([^]+)/,J=/\/\*[^]*?\*\//g;function Q(e){const t={};return e.replace(J,"").split(K).forEach(e=>{if(e){const n=e.split(Z);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ee(e){let t="";if(v(e))t=e;else if(h(e))for(let n=0;n<e.length;n++){const r=ee(e[n]);r&&(t+=r+" ")}else if(_(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function te(e){if(!e)return null;let{class:t,style:n}=e;return t&&!v(t)&&(e.class=ee(t)),n&&(e.style=Y(n)),e}const ne=e("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),re=e("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),ie=e("annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics"),oe=e("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),se="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ae=e(se),le=e(se+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function ce(e){return!!e||""===e}const ue=/[>/="'\u0009\u000a\u000c\u0020]/,he={};const fe=e("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),de=e("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),pe=e("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");const me=/["'&<>]/;const ge=/^-?>|<!--|-->|--!>|<!-$/g;const ve=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function ye(e,t){if(e===t)return!0;let n=p(e),r=p(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=y(e),r=y(t),n||r)return e===t;if(n=h(e),r=h(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ye(e[r],t[r]);return n}(e,t);if(n=_(e),r=_(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!ye(e[n],t[n]))return!1}}return String(e)===String(t)}function _e(e,t){return e.findIndex(e=>ye(e,t))}const be=e=>!(!e||!0!==e.__v_isRef),xe=e=>v(e)?e:null==e?"":h(e)||_(e)&&(e.toString===x||!g(e.toString))?be(e)?xe(e.value):JSON.stringify(e,we,2):String(e),we=(e,t)=>be(t)?we(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[Se(t,r)+" =>"]=n,e),{})}:d(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Se(e))}:y(t)?Se(t):!_(t)||h(t)||E(t)?t:String(t),Se=(e,t="")=>{var n;return y(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};function Ee(e){return null==e?"initial":"string"==typeof e?""===e?" ":e:String(e)}const Te=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:n,EMPTY_OBJ:t,NO:i,NOOP:r,PatchFlagNames:H,PatchFlags:{TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},ShapeFlags:{ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},SlotFlags:{STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},camelize:R,capitalize:P,cssVarNameEscapeSymbolsRE:ve,def:F,escapeHtml:function(e){const t=""+e,n=me.exec(t);if(!n)return t;let r,i,o="",s=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==i&&(o+=t.slice(s,i)),s=i+1,o+=r}return s!==i?o+t.slice(s,i):o},escapeHtmlComment:function(e){return e.replace(ge,"")},extend:a,genCacheKey:function(e,t){return e+JSON.stringify(t,(e,t)=>"function"==typeof t?t.toString():t)},genPropsAccessExp:function(e){return j.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`},generateCodeFrame:X,getEscapedCssVarName:function(e,t){return e.replace(ve,e=>t?'"'===e?'\\\\\\"':`\\\\${e}`:`\\${e}`)},getGlobalThis:V,hasChanged:D,hasOwn:u,hyphenate:k,includeBooleanAttr:ce,invokeArrayFns:L,isArray:h,isBooleanAttr:le,isBuiltInDirective:M,isDate:p,isFunction:g,isGloballyAllowed:G,isGloballyWhitelisted:q,isHTMLTag:ne,isIntegerKey:T,isKnownHtmlAttr:fe,isKnownMathMLAttr:pe,isKnownSvgAttr:de,isMap:f,isMathMLTag:ie,isModelListener:s,isObject:_,isOn:o,isPlainObject:E,isPromise:b,isRegExp:m,isRenderableAttrValue:function(e){if(null==e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t},isReservedProp:A,isSSRSafeAttrName:function(e){if(he.hasOwnProperty(e))return he[e];const t=ue.test(e);return he[e]=!t},isSVGTag:re,isSet:d,isSpecialBooleanAttr:ae,isString:v,isSymbol:y,isVoidTag:oe,looseEqual:ye,looseIndexOf:_e,looseToNumber:U,makeMap:e,normalizeClass:ee,normalizeCssVarValue:Ee,normalizeProps:te,normalizeStyle:Y,objectToString:x,parseStringStyle:Q,propsToAttrMap:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},remove:l,slotFlagsText:W,stringifyStyle:function(e){if(!e)return"";if(v(e))return e;let t="";for(const n in e){const r=e[n];if(v(r)||"number"==typeof r){t+=`${n.startsWith("--")?n:k(n)}:${r};`}}return t},toDisplayString:xe,toHandlerKey:N,toNumber:B,toRawType:S,toTypeString:w},Symbol.toStringTag,{value:"Module"}));let Ae,Me;class Ce{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!e&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ae;try{return Ae=this,e()}finally{Ae=t}}}on(){1===++this._on&&(this.prevScope=Ae,Ae=this)}off(){this._on>0&&0===--this._on&&(Ae=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function Oe(e){return new Ce(e)}function Re(){return Ae}function Ie(e,t=!1){Ae&&Ae.cleanups.push(e)}const ke=new WeakSet;class Pe{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ke.has(this)&&(ke.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||Fe(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Ke(this),ze(this);const e=Me,t=qe;Me=this,qe=!0;try{return this.fn()}finally{Ve(this),Me=e,qe=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)We(e);this.deps=this.depsTail=void 0,Ke(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ke.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){je(this)&&this.run()}get dirty(){return je(this)}}let Ne,De,Le=0;function Fe(e,t=!1){if(e.flags|=8,t)return e.next=De,void(De=e);e.next=Ne,Ne=e}function Ue(){Le++}function Be(){if(--Le>0)return;if(De){let e=De;for(De=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;Ne;){let n=Ne;for(Ne=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=r}}if(e)throw e}function ze(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ve(e){let t,n=e.depsTail,r=n;for(;r;){const e=r.prevDep;-1===r.version?(r===n&&(n=e),We(r),Ge(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function je(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(He(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function He(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Ze)return;if(e.globalVersion=Ze,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!je(e)))return;e.flags|=2;const t=e.dep,n=Me,r=qe;Me=e,qe=!0;try{ze(e);const n=e.fn(e._value);(0===t.version||D(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(i){throw t.version++,i}finally{Me=n,qe=r,Ve(e),e.flags&=-3}}function We(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)We(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function Ge(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let qe=!0;const $e=[];function Xe(){$e.push(qe),qe=!1}function Ye(){const e=$e.pop();qe=void 0===e||e}function Ke(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=Me;Me=void 0;try{t()}finally{Me=e}}}let Ze=0;class Je{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Qe{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Me||!qe||Me===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==Me)t=this.activeLink=new Je(Me,this),Me.deps?(t.prevDep=Me.depsTail,Me.depsTail.nextDep=t,Me.depsTail=t):Me.deps=Me.depsTail=t,et(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Me.depsTail,t.nextDep=void 0,Me.depsTail.nextDep=t,Me.depsTail=t,Me.deps===t&&(Me.deps=e)}return t}trigger(e){this.version++,Ze++,this.notify(e)}notify(e){Ue();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Be()}}}function et(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)et(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const tt=new WeakMap,nt=Symbol(""),rt=Symbol(""),it=Symbol("");function ot(e,t,n){if(qe&&Me){let t=tt.get(e);t||tt.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new Qe),r.map=t,r.key=n),r.track()}}function st(e,t,n,r,i,o){const s=tt.get(e);if(!s)return void Ze++;const a=e=>{e&&e.trigger()};if(Ue(),"clear"===t)s.forEach(a);else{const i=h(e),o=i&&T(n);if(i&&"length"===n){const e=Number(r);s.forEach((t,n)=>{("length"===n||n===it||!y(n)&&n>=e)&&a(t)})}else switch((void 0!==n||s.has(void 0))&&a(s.get(n)),o&&a(s.get(it)),t){case"add":i?o&&a(s.get("length")):(a(s.get(nt)),f(e)&&a(s.get(rt)));break;case"delete":i||(a(s.get(nt)),f(e)&&a(s.get(rt)));break;case"set":f(e)&&a(s.get(nt))}}Be()}function at(e){const t=Yt(e);return t===e?t:(ot(t,0,it),$t(e)?t:t.map(Zt))}function lt(e){return ot(e=Yt(e),0,it),e}function ct(e,t){return qt(e)?Jt(Gt(e)?Zt(t):t):Zt(t)}const ut={__proto__:null,[Symbol.iterator](){return ht(this,Symbol.iterator,e=>ct(this,e))},concat(...e){return at(this).concat(...e.map(e=>h(e)?at(e):e))},entries(){return ht(this,"entries",e=>(e[1]=ct(this,e[1]),e))},every(e,t){return dt(this,"every",e,t,void 0,arguments)},filter(e,t){return dt(this,"filter",e,t,e=>e.map(e=>ct(this,e)),arguments)},find(e,t){return dt(this,"find",e,t,e=>ct(this,e),arguments)},findIndex(e,t){return dt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return dt(this,"findLast",e,t,e=>ct(this,e),arguments)},findLastIndex(e,t){return dt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return dt(this,"forEach",e,t,void 0,arguments)},includes(...e){return mt(this,"includes",e)},indexOf(...e){return mt(this,"indexOf",e)},join(e){return at(this).join(e)},lastIndexOf(...e){return mt(this,"lastIndexOf",e)},map(e,t){return dt(this,"map",e,t,void 0,arguments)},pop(){return gt(this,"pop")},push(...e){return gt(this,"push",e)},reduce(e,...t){return pt(this,"reduce",e,t)},reduceRight(e,...t){return pt(this,"reduceRight",e,t)},shift(){return gt(this,"shift")},some(e,t){return dt(this,"some",e,t,void 0,arguments)},splice(...e){return gt(this,"splice",e)},toReversed(){return at(this).toReversed()},toSorted(e){return at(this).toSorted(e)},toSpliced(...e){return at(this).toSpliced(...e)},unshift(...e){return gt(this,"unshift",e)},values(){return ht(this,"values",e=>ct(this,e))}};function ht(e,t,n){const r=lt(e),i=r[t]();return r===e||$t(e)||(i._next=i.next,i.next=()=>{const e=i._next();return e.done||(e.value=n(e.value)),e}),i}const ft=Array.prototype;function dt(e,t,n,r,i,o){const s=lt(e),a=s!==e&&!$t(e),l=s[t];if(l!==ft[t]){const t=l.apply(e,o);return a?Zt(t):t}let c=n;s!==e&&(a?c=function(t,r){return n.call(this,ct(e,t),r,e)}:n.length>2&&(c=function(t,r){return n.call(this,t,r,e)}));const u=l.call(s,c,r);return a&&i?i(u):u}function pt(e,t,n,r){const i=lt(e);let o=n;return i!==e&&($t(e)?n.length>3&&(o=function(t,r,i){return n.call(this,t,r,i,e)}):o=function(t,r,i){return n.call(this,t,ct(e,r),i,e)}),i[t](o,...r)}function mt(e,t,n){const r=Yt(e);ot(r,0,it);const i=r[t](...n);return-1!==i&&!1!==i||!Xt(n[0])?i:(n[0]=Yt(n[0]),r[t](...n))}function gt(e,t,n=[]){Xe(),Ue();const r=Yt(e)[t].apply(e,n);return Be(),Ye(),r}const vt=e("__proto__,__v_isRef,__isVue"),yt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(y));function _t(e){y(e)||(e=String(e));const t=Yt(this);return ot(t,0,e),t.hasOwnProperty(e)}class bt{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(r?i?Bt:Ut:i?Ft:Lt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=h(e);if(!r){let e;if(o&&(e=ut[t]))return e;if("hasOwnProperty"===t)return _t}const s=Reflect.get(e,t,Qt(e)?e:n);if(y(t)?yt.has(t):vt(t))return s;if(r||ot(e,0,t),i)return s;if(Qt(s)){const e=o&&T(t)?s:s.value;return r&&_(e)?jt(e):e}return _(s)?r?jt(s):zt(s):s}}class xt extends bt{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];const o=h(e)&&T(t);if(!this._isShallow){const e=qt(i);if($t(n)||qt(n)||(i=Yt(i),n=Yt(n)),!o&&Qt(i)&&!Qt(n))return e||(i.value=n),!0}const s=o?Number(t)<e.length:u(e,t),a=Reflect.set(e,t,n,Qt(e)?e:r);return e===Yt(r)&&(s?D(n,i)&&st(e,"set",t,n):st(e,"add",t,n)),a}deleteProperty(e,t){const n=u(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&st(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return y(t)&&yt.has(t)||ot(e,0,t),n}ownKeys(e){return ot(e,0,h(e)?"length":nt),Reflect.ownKeys(e)}}class wt extends bt{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const St=new xt,Et=new wt,Tt=new xt(!0),At=new wt(!0),Mt=e=>e,Ct=e=>Reflect.getPrototypeOf(e);function Ot(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Rt(e,t){const n={get(n){const r=this.__v_raw,i=Yt(r),o=Yt(n);e||(D(n,o)&&ot(i,0,n),ot(i,0,o));const{has:s}=Ct(i),a=t?Mt:e?Jt:Zt;return s.call(i,n)?a(r.get(n)):s.call(i,o)?a(r.get(o)):void(r!==i&&r.get(n))},get size(){const t=this.__v_raw;return!e&&ot(Yt(t),0,nt),t.size},has(t){const n=this.__v_raw,r=Yt(n),i=Yt(t);return e||(D(t,i)&&ot(r,0,t),ot(r,0,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){const i=this,o=i.__v_raw,s=t?Mt:e?Jt:Zt;return!e&&ot(Yt(o),0,nt),o.forEach((e,t)=>n.call(r,s(e),s(t),i))}};a(n,e?{add:Ot("add"),set:Ot("set"),delete:Ot("delete"),clear:Ot("clear")}:{add(e){t||$t(e)||qt(e)||(e=Yt(e));const n=Yt(this);return Ct(n).has.call(n,e)||(n.add(e),st(n,"add",e,e)),this},set(e,n){t||$t(n)||qt(n)||(n=Yt(n));const r=Yt(this),{has:i,get:o}=Ct(r);let s=i.call(r,e);s||(e=Yt(e),s=i.call(r,e));const a=o.call(r,e);return r.set(e,n),s?D(n,a)&&st(r,"set",e,n):st(r,"add",e,n),this},delete(e){const t=Yt(this),{has:n,get:r}=Ct(t);let i=n.call(t,e);i||(e=Yt(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&st(t,"delete",e,void 0),o},clear(){const e=Yt(this),t=0!==e.size,n=e.clear();return t&&st(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=function(e,t,n){return function(...r){const i=this.__v_raw,o=Yt(i),s=f(o),l="entries"===e||e===Symbol.iterator&&s,c="keys"===e&&s,u=i[e](...r),h=n?Mt:t?Jt:Zt;return!t&&ot(o,0,c?rt:nt),a(Object.create(u),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}}})}}(r,e,t)}),n}function It(e,t){const n=Rt(e,t);return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(u(n,r)&&r in t?n:t,r,i)}const kt={get:It(!1,!1)},Pt={get:It(!1,!0)},Nt={get:It(!0,!1)},Dt={get:It(!0,!0)},Lt=new WeakMap,Ft=new WeakMap,Ut=new WeakMap,Bt=new WeakMap;function zt(e){return qt(e)?e:Wt(e,!1,St,kt,Lt)}function Vt(e){return Wt(e,!1,Tt,Pt,Ft)}function jt(e){return Wt(e,!0,Et,Nt,Ut)}function Ht(e){return Wt(e,!0,At,Dt,Bt)}function Wt(e,t,n,r,i){if(!_(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=(s=e).__v_skip||!Object.isExtensible(s)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(S(s));var s;if(0===o)return e;const a=i.get(e);if(a)return a;const l=new Proxy(e,2===o?r:n);return i.set(e,l),l}function Gt(e){return qt(e)?Gt(e.__v_raw):!(!e||!e.__v_isReactive)}function qt(e){return!(!e||!e.__v_isReadonly)}function $t(e){return!(!e||!e.__v_isShallow)}function Xt(e){return!!e&&!!e.__v_raw}function Yt(e){const t=e&&e.__v_raw;return t?Yt(t):e}function Kt(e){return!u(e,"__v_skip")&&Object.isExtensible(e)&&F(e,"__v_skip",!0),e}const Zt=e=>_(e)?zt(e):e,Jt=e=>_(e)?jt(e):e;function Qt(e){return!!e&&!0===e.__v_isRef}function en(e){return nn(e,!1)}function tn(e){return nn(e,!0)}function nn(e,t){return Qt(e)?e:new rn(e,t)}class rn{constructor(e,t){this.dep=new Qe,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Yt(e),this._value=t?e:Zt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||$t(e)||qt(e);D(e=n?e:Yt(e),t)&&(this._rawValue=e,this._value=n?e:Zt(e),this.dep.trigger())}}function on(e){return Qt(e)?e.value:e}function sn(e){return g(e)?e():on(e)}const an={get:(e,t,n)=>"__v_raw"===t?e:on(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Qt(i)&&!Qt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function ln(e){return Gt(e)?e:new Proxy(e,an)}class cn{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new Qe,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function un(e){return new cn(e)}function hn(e){const t=h(e)?new Array(e.length):{};for(const n in e)t[n]=mn(e,n);return t}class fn{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Yt(e);let r=!0,i=e;if(!h(e)||!T(String(t)))do{r=!Xt(i)||$t(i)}while(r&&(i=i.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=on(e)),this._value=void 0===e?this._defaultValue:e}set value(e){if(this._shallow&&Qt(this._raw[this._key])){const t=this._object[this._key];if(Qt(t))return void(t.value=e)}this._object[this._key]=e}get dep(){return function(e,t){const n=tt.get(e);return n&&n.get(t)}(this._raw,this._key)}}class dn{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function pn(e,t,n){return Qt(e)?e:g(e)?new dn(e):_(e)&&arguments.length>1?mn(e,t,n):en(e)}function mn(e,t,n){return new fn(e,t,n)}class gn{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Qe(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ze-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&Me!==this)return Fe(this,!0),!0}get value(){const e=this.dep.track();return He(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function vn(e,t,n=!1){let r,i;g(e)?r=e:(r=e.get,i=e.set);return new gn(r,i,n)}const yn={},_n=new WeakMap;let bn;function xn(e,t=!1,n=bn){if(n){let t=_n.get(n);t||_n.set(n,t=[]),t.push(e)}}function wn(e,t=1/0,n){if(t<=0||!_(e)||e.__v_skip)return e;if(((n=n||new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,Qt(e))wn(e.value,t,n);else if(h(e))for(let r=0;r<e.length;r++)wn(e[r],t,n);else if(d(e)||f(e))e.forEach(e=>{wn(e,t,n)});else if(E(e)){for(const r in e)wn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&wn(e[r],t,n)}return e}const Sn=[];const En={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function Tn(e,t,n,r){try{return r?e(...r):e()}catch(i){Mn(i,t,n)}}function An(e,t,n,r){if(g(e)){const i=Tn(e,t,n,r);return i&&b(i)&&i.catch(e=>{Mn(e,t,n)}),i}if(h(e)){const i=[];for(let o=0;o<e.length;o++)i.push(An(e[o],t,n,r));return i}}function Mn(e,n,r,i=!0){n&&n.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:s}=n&&n.appContext.config||t;if(n){let t=n.parent;const i=n.proxy,s=`https://vuejs.org/error-reference/#runtime-${r}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,i,s))return;t=t.parent}if(o)return Xe(),Tn(o,null,10,[e,i,s]),void Ye()}!function(e,t,n,r=!0,i=!1){if(i)throw e}(e,0,0,i,s)}const Cn=[];let On=-1;const Rn=[];let In=null,kn=0;const Pn=Promise.resolve();let Nn=null;function Dn(e){const t=Nn||Pn;return e?t.then(this?e.bind(this):e):t}function Ln(e){if(!(1&e.flags)){const t=Vn(e),n=Cn[Cn.length-1];!n||!(2&e.flags)&&t>=Vn(n)?Cn.push(e):Cn.splice(function(e){let t=On+1,n=Cn.length;for(;t<n;){const r=t+n>>>1,i=Cn[r],o=Vn(i);o<e||o===e&&2&i.flags?t=r+1:n=r}return t}(t),0,e),e.flags|=1,Fn()}}function Fn(){Nn||(Nn=Pn.then(jn))}function Un(e){h(e)?Rn.push(...e):In&&-1===e.id?In.splice(kn+1,0,e):1&e.flags||(Rn.push(e),e.flags|=1),Fn()}function Bn(e,t,n=On+1){for(;n<Cn.length;n++){const t=Cn[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Cn.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function zn(e){if(Rn.length){const e=[...new Set(Rn)].sort((e,t)=>Vn(e)-Vn(t));if(Rn.length=0,In)return void In.push(...e);for(In=e,kn=0;kn<In.length;kn++){const e=In[kn];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}In=null,kn=0}}const Vn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function jn(e){try{for(On=0;On<Cn.length;On++){const e=Cn[On];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),Tn(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;On<Cn.length;On++){const e=Cn[On];e&&(e.flags&=-2)}On=-1,Cn.length=0,zn(),Nn=null,(Cn.length||Rn.length)&&jn()}}let Hn,Wn=[];let Gn=null,qn=null;function $n(e){const t=Gn;return Gn=e,qn=e&&e.type.__scopeId||null,t}function Xn(e){qn=e}function Yn(){qn=null}function Kn(e,t=Gn,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&os(-1);const i=$n(t);let o;try{o=e(...n)}finally{$n(i),r._d&&os(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Zn(e,n){if(null===Gn)return e;const r=Hs(Gn),i=e.dirs||(e.dirs=[]);for(let o=0;o<n.length;o++){let[e,s,a,l=t]=n[o];e&&(g(e)&&(e={mounted:e,updated:e}),e.deep&&wn(s),i.push({dir:e,instance:r,value:s,oldValue:void 0,arg:a,modifiers:l}))}return e}function Jn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(Xe(),An(l,n,8,[e.el,a,e,t]),Ye())}}function Qn(e,t){if(Cs){let n=Cs.provides;const r=Cs.parent&&Cs.parent.provides;r===n&&(n=Cs.provides=Object.create(r)),n[e]=t}}function er(e,t,n=!1){const r=Os();if(r||ro){let i=ro?ro._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&g(t)?t.call(r&&r.proxy):t}}function tr(){return!(!Os()&&!ro)}const nr=Symbol.for("v-scx"),rr=()=>er(nr);function ir(e,t){return lr(e,null,t)}function or(e,t){return lr(e,null,{flush:"post"})}function sr(e,t){return lr(e,null,{flush:"sync"})}function ar(e,t,n){return lr(e,t,n)}function lr(e,n,i=t){const{immediate:o,deep:s,flush:c,once:u}=i,f=a({},i),d=n&&o||!n&&"post"!==c;let p;if(Fs)if("sync"===c){const e=rr();p=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}const m=Cs;f.call=(e,t,n)=>An(e,m,t,n);let v=!1;"post"===c?f.scheduler=e=>{Ro(e,m&&m.suspense)}:"sync"!==c&&(v=!0,f.scheduler=(e,t)=>{t?e():Ln(e)}),f.augmentJob=e=>{n&&(e.flags|=4),v&&(e.flags|=2,m&&(e.id=m.uid,e.i=m))};const y=function(e,n,i=t){const{immediate:o,deep:s,once:a,scheduler:c,augmentJob:u,call:f}=i,d=e=>s?e:$t(e)||!1===s||0===s?wn(e,1):wn(e);let p,m,v,y,_=!1,b=!1;if(Qt(e)?(m=()=>e.value,_=$t(e)):Gt(e)?(m=()=>d(e),_=!0):h(e)?(b=!0,_=e.some(e=>Gt(e)||$t(e)),m=()=>e.map(e=>Qt(e)?e.value:Gt(e)?d(e):g(e)?f?f(e,2):e():void 0)):m=g(e)?n?f?()=>f(e,2):e:()=>{if(v){Xe();try{v()}finally{Ye()}}const t=bn;bn=p;try{return f?f(e,3,[y]):e(y)}finally{bn=t}}:r,n&&s){const e=m,t=!0===s?1/0:s;m=()=>wn(e(),t)}const x=Re(),w=()=>{p.stop(),x&&x.active&&l(x.effects,p)};if(a&&n){const e=n;n=(...t)=>{e(...t),w()}}let S=b?new Array(e.length).fill(yn):yn;const E=e=>{if(1&p.flags&&(p.dirty||e))if(n){const e=p.run();if(s||_||(b?e.some((e,t)=>D(e,S[t])):D(e,S))){v&&v();const t=bn;bn=p;try{const t=[e,S===yn?void 0:b&&S[0]===yn?[]:S,y];S=e,f?f(n,3,t):n(...t)}finally{bn=t}}}else p.run()};return u&&u(E),p=new Pe(m),p.scheduler=c?()=>c(E,!1):E,y=e=>xn(e,!1,p),v=p.onStop=()=>{const e=_n.get(p);if(e){if(f)f(e,4);else for(const t of e)t();_n.delete(p)}},n?o?E(!0):S=p.run():c?c(E.bind(null,!0),!0):p.run(),w.pause=p.pause.bind(p),w.resume=p.resume.bind(p),w.stop=w,w}(e,n,f);return Fs&&(p?p.push(y):d&&y()),y}function cr(e,t,n){const r=this.proxy,i=v(e)?e.includes(".")?ur(r,e):()=>r[e]:e.bind(r,r);let o;g(t)?o=t:(o=t.handler,n=t);const s=ks(this),a=lr(i,o.bind(r),n);return s(),a}function ur(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const hr=Symbol("_vte"),fr=e=>e.__isTeleport,dr=e=>e&&(e.disabled||""===e.disabled),pr=e=>e&&(e.defer||""===e.defer),mr=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,gr=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,vr=(e,t)=>{const n=e&&e.to;if(v(n)){if(t){return t(n)}return null}return n},yr={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:m,createComment:g}}=c,v=dr(t.props);let{shapeFlag:y,children:_,dynamicChildren:b}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");d(e,n,r),d(c,n,r);const h=(e,t)=>{16&y&&u(_,e,t,i,o,s,a,l)},f=()=>{const e=t.target=vr(t.props,p),n=wr(e,t,m,d);e&&("svg"!==s&&mr(e)?s="svg":"mathml"!==s&&gr(e)&&(s="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(e),v||(h(e,n),xr(t,!1)))};v&&(h(n,c),xr(t,!0)),pr(t.props)?(t.el.__isMounted=!1,Ro(()=>{f(),delete t.el.__isMounted},o)):f()}else{if(pr(t.props)&&!1===e.el.__isMounted)return void Ro(()=>{yr.process(e,t,n,r,i,o,s,a,l,c)},o);t.el=e.el,t.targetStart=e.targetStart;const u=t.anchor=e.anchor,d=t.target=e.target,m=t.targetAnchor=e.targetAnchor,g=dr(e.props),y=g?n:d,_=g?u:m;if("svg"===s||mr(d)?s="svg":("mathml"===s||gr(d))&&(s="mathml"),b?(f(e.dynamicChildren,b,y,i,o,s,a),Fo(e,t,!0)):l||h(e,t,y,_,i,o,s,a,!1),v)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):_r(t,n,u,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=vr(t.props,p);e&&_r(t,e,null,c,0)}else g&&_r(t,d,m,c,1);xr(t,v)}},remove(e,t,n,{um:r,o:{remove:i}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:f}=e;if(h&&(i(c),i(u)),o&&i(l),16&s){const e=o||!dr(f);for(let i=0;i<a.length;i++){const o=a[i];r(o,t,n,e,!!o.dynamicChildren)}}},move:_r,hydrate:function(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},h){function f(e,t,l,c){t.anchor=h(s(e),t,a(e),n,r,i,o),t.targetStart=l,t.targetAnchor=c}const d=t.target=vr(t.props,l),p=dr(t.props);if(d){const a=d._lpa||d.firstChild;if(16&t.shapeFlag)if(p)f(e,t,a,a&&s(a));else{t.anchor=s(e);let l=a;for(;l;){if(l&&8===l.nodeType)if("teleport start anchor"===l.data)t.targetStart=l;else if("teleport anchor"===l.data){t.targetAnchor=l,d._lpa=t.targetAnchor&&s(t.targetAnchor);break}l=s(l)}t.targetAnchor||wr(d,t,u,c),h(a&&s(a),t,d,n,r,i,o)}xr(t,p)}else p&&16&t.shapeFlag&&f(e,t,e,s(e));return t.anchor&&s(t.anchor)}};function _r(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,h=2===o;if(h&&r(s,t,n),(!h||dr(u))&&16&l)for(let f=0;f<c.length;f++)i(c[f],t,n,2);h&&r(a,t,n)}const br=yr;function xr(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)1===r.nodeType&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function wr(e,t,n,r){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[hr]=o,e&&(r(i,e),r(o,e)),o}const Sr=Symbol("_leaveCb"),Er=Symbol("_enterCb");function Tr(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return di(()=>{e.isMounted=!0}),gi(()=>{e.isUnmounting=!0}),e}const Ar=[Function,Array],Mr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ar,onEnter:Ar,onAfterEnter:Ar,onEnterCancelled:Ar,onBeforeLeave:Ar,onLeave:Ar,onAfterLeave:Ar,onLeaveCancelled:Ar,onBeforeAppear:Ar,onAppear:Ar,onAfterAppear:Ar,onAppearCancelled:Ar},Cr=e=>{const t=e.subTree;return t.component?Cr(t.component):t};function Or(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==Jo){t=n;break}return t}const Rr={name:"BaseTransition",props:Mr,setup(e,{slots:t}){const n=Os(),r=Tr();return()=>{const i=t.default&&Lr(t.default(),!0);if(!i||!i.length)return;const o=Or(i),s=Yt(e),{mode:a}=s;if(r.isLeaving)return Pr(o);const l=Nr(o);if(!l)return Pr(o);let c=kr(l,s,r,n,e=>c=e);l.type!==Jo&&Dr(l,c);let u=n.subTree&&Nr(n.subTree);if(u&&u.type!==Jo&&!us(u,l)&&Cr(n).type!==Jo){let e=kr(u,s,r,n);if(Dr(u,e),"out-in"===a&&l.type!==Jo)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},Pr(o);"in-out"===a&&l.type!==Jo?e.delayLeave=(e,t,n)=>{Ir(r,u)[String(u.key)]=u,e[Sr]=()=>{t(),e[Sr]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function Ir(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function kr(e,t,n,r,i){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:b}=t,x=String(e.key),w=Ir(n,e),S=(e,t)=>{e&&An(e,r,9,t)},E=(e,t)=>{const n=t[1];S(e,t),h(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},T={mode:s,persisted:a,beforeEnter(t){let r=l;if(!n.isMounted){if(!o)return;r=v||l}t[Sr]&&t[Sr](!0);const i=w[x];i&&us(e,i)&&i.el[Sr]&&i.el[Sr](),S(r,[t])},enter(e){let t=c,r=u,i=f;if(!n.isMounted){if(!o)return;t=y||c,r=_||u,i=b||f}let s=!1;const a=e[Er]=t=>{s||(s=!0,S(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e[Er]=void 0)};t?E(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t[Er]&&t[Er](!0),n.isUnmounting)return r();S(d,[t]);let o=!1;const s=t[Sr]=n=>{o||(o=!0,r(),S(n?g:m,[t]),t[Sr]=void 0,w[i]===e&&delete w[i])};w[i]=e,p?E(p,[t,s]):s()},clone(e){const o=kr(e,t,n,r,i);return i&&i(o),o}};return T}function Pr(e){if(ti(e))return(e=gs(e)).children=null,e}function Nr(e){if(!ti(e))return fr(e.type)&&e.children?Or(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&g(n.default))return n.default()}}function Dr(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Dr(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Lr(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===Ko?(128&s.patchFlag&&i++,r=r.concat(Lr(s.children,t,a))):(t||s.type!==Jo)&&r.push(null!=a?gs(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Fr(e,t){return g(e)?(()=>a({name:e.name},t,{setup:e}))():e}function Ur(){const e=Os();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function Br(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const zr=new WeakMap;function Vr(e,n,r,o,s=!1){if(h(e))return void e.forEach((e,t)=>Vr(e,n&&(h(n)?n[t]:n),r,o,s));if(Qr(o)&&!s)return void(512&o.shapeFlag&&o.type.__asyncResolved&&o.component.subTree.component&&Vr(e,n,r,o.component.subTree));const a=4&o.shapeFlag?Hs(o.component):o.el,c=s?null:a,{i:f,r:d}=e,p=n&&n.r,m=f.refs===t?f.refs={}:f.refs,y=f.setupState,_=Yt(y),b=y===t?i:e=>u(_,e);if(null!=p&&p!==d)if(jr(n),v(p))m[p]=null,b(p)&&(y[p]=null);else if(Qt(p)){p.value=null;const e=n;e.k&&(m[e.k]=null)}if(g(d))Tn(d,f,12,[c,m]);else{const t=v(d),n=Qt(d);if(t||n){const i=()=>{if(e.f){const n=t?b(d)?y[d]:m[d]:d.value;if(s)h(n)&&l(n,a);else if(h(n))n.includes(a)||n.push(a);else if(t)m[d]=[a],b(d)&&(y[d]=m[d]);else{const t=[a];d.value=t,e.k&&(m[e.k]=t)}}else t?(m[d]=c,b(d)&&(y[d]=c)):n&&(d.value=c,e.k&&(m[e.k]=c))};if(c){const t=()=>{i(),zr.delete(e)};t.id=-1,zr.set(e,t),Ro(t,r)}else jr(e),i()}}}function jr(e){const t=zr.get(e);t&&(t.flags|=8,zr.delete(e))}let Hr=!1;const Wr=()=>{Hr||(Hr=!0)},Gr=e=>{if(1===e.nodeType)return(e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName)(e)?"svg":(e=>e.namespaceURI.includes("MathML"))(e)?"mathml":void 0},qr=e=>8===e.nodeType;function $r(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:a,remove:l,insert:c,createComment:u}}=e,h=(n,r,o,l,u,_=!1)=>{_=_||!!r.dynamicChildren;const b=qr(n)&&"["===n.data,x=()=>m(n,r,o,l,u,b),{type:w,ref:S,shapeFlag:E,patchFlag:T}=r;let A=n.nodeType;r.el=n,-2===T&&(_=!1,r.dynamicChildren=null);let M=null;switch(w){case Zo:3!==A?""===r.children?(c(r.el=i(""),a(n),n),M=n):M=x():(n.data!==r.children&&(Wr(),n.data=r.children),M=s(n));break;case Jo:y(n)?(M=s(n),v(r.el=n.content.firstChild,n,o)):M=8!==A||b?x():s(n);break;case Qo:if(b&&(A=(n=s(n)).nodeType),1===A||3===A){M=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===M.nodeType?M.outerHTML:M.data),t===r.staticCount-1&&(r.anchor=M),M=s(M);return b?s(M):M}x();break;case Ko:M=b?p(n,r,o,l,u,_):x();break;default:if(1&E)M=1===A&&r.type.toLowerCase()===n.tagName.toLowerCase()||y(n)?f(n,r,o,l,u,_):x();else if(6&E){r.slotScopeIds=u;const e=a(n);if(M=b?g(n):qr(n)&&"teleport start"===n.data?g(n,n.data,"teleport end"):s(n),t(r,e,null,o,l,Gr(e),_),Qr(r)&&!r.type.__asyncResolved){let t;b?(t=ps(Ko),t.anchor=M?M.previousSibling:e.lastChild):t=3===n.nodeType?vs(""):ps("div"),t.el=n,r.component.subTree=t}}else 64&E?M=8!==A?x():r.type.hydrate(n,r,o,l,u,_,e,d):128&E&&(M=r.type.hydrate(n,r,o,l,Gr(a(n)),u,_,e,h))}return null!=S&&Vr(S,null,l,r),M},f=(e,t,n,i,s,a)=>{a=a||!!t.dynamicChildren;const{type:c,props:u,patchFlag:h,shapeFlag:f,dirs:p,transition:m}=t,g="input"===c||"option"===c;if(g||-1!==h){p&&Jn(t,null,n,"created");let c,_=!1;if(y(e)){_=Lo(null,m)&&n&&n.vnode.props&&n.vnode.props.appear;const r=e.content.firstChild;if(_){const e=r.getAttribute("class");e&&(r.$cls=e),m.beforeEnter(r)}v(r,e,n),t.el=e=r}if(16&f&&(!u||!u.innerHTML&&!u.textContent)){let r=d(e.firstChild,t,e,n,i,s,a);for(;r;){Kr(e,1)||Wr();const t=r;r=r.nextSibling,l(t)}}else if(8&f){let n=t.children;"\n"!==n[0]||"PRE"!==e.tagName&&"TEXTAREA"!==e.tagName||(n=n.slice(1));const{textContent:r}=e;r!==n&&r!==n.replace(/\r\n|\r/g,"\n")&&(Kr(e,0)||Wr(),e.textContent=t.children)}if(u)if(g||!a||48&h){const t=e.tagName.includes("-");for(const i in u)(g&&(i.endsWith("value")||"indeterminate"===i)||o(i)&&!A(i)||"."===i[0]||t&&!A(i))&&r(e,i,null,u[i],void 0,n)}else if(u.onClick)r(e,"onClick",null,u.onClick,void 0,n);else if(4&h&&Gt(u.style))for(const e in u.style)u.style[e];(c=u&&u.onVnodeBeforeMount)&&Es(c,n,t),p&&Jn(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||p||_)&&Xo(()=>{c&&Es(c,n,t),_&&m.enter(e),p&&Jn(t,null,n,"mounted")},i)}return e.nextSibling},d=(e,t,r,o,a,l,u)=>{u=u||!!t.dynamicChildren;const f=t.children,d=f.length;for(let p=0;p<d;p++){const t=u?f[p]:f[p]=bs(f[p]),m=t.type===Zo;e?(m&&!u&&p+1<d&&bs(f[p+1]).type===Zo&&(c(i(e.data.slice(t.children.length)),r,s(e)),e.data=t.children),e=h(e,t,o,a,l,u)):m&&!t.children?c(t.el=i(""),r):(Kr(r,1)||Wr(),n(null,t,r,null,o,a,Gr(r),l))}return e},p=(e,t,n,r,i,o)=>{const{slotScopeIds:l}=t;l&&(i=i?i.concat(l):l);const h=a(e),f=d(s(e),t,h,n,r,i,o);return f&&qr(f)&&"]"===f.data?s(t.anchor=f):(Wr(),c(t.anchor=u("]"),h,f),f)},m=(e,t,r,i,o,c)=>{if(Kr(e.parentElement,1)||Wr(),t.el=null,c){const t=g(e);for(;;){const n=s(e);if(!n||n===t)break;l(n)}}const u=s(e),h=a(e);return l(e),n(null,t,h,u,r,i,Gr(h),o),r&&(r.vnode.el=t.el,mo(r,t.el)),u},g=(e,t="[",n="]")=>{let r=0;for(;e;)if((e=s(e))&&qr(e)&&(e.data===t&&r++,e.data===n)){if(0===r)return s(e);r--}return e},v=(e,t,n)=>{const r=t.parentNode;r&&r.replaceChild(e,t);let i=n;for(;i;)i.vnode.el===t&&(i.vnode.el=i.subTree.el=e),i=i.parent},y=e=>1===e.nodeType&&"TEMPLATE"===e.tagName;return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),zn(),void(t._vnode=e);h(t.firstChild,e,null,null,null),zn(),t._vnode=e},h]}const Xr="data-allow-mismatch",Yr={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Kr(e,t){if(0===t||1===t)for(;e&&!e.hasAttribute(Xr);)e=e.parentElement;const n=e&&e.getAttribute(Xr);if(null==n)return!1;if(""===n)return!0;{const e=n.split(",");return!(0!==t||!e.includes("children"))||e.includes(Yr[t])}}const Zr=V().requestIdleCallback||(e=>setTimeout(e,1)),Jr=V().cancelIdleCallback||(e=>clearTimeout(e));const Qr=e=>!!e.type.__asyncLoader;function ei(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,s=ps(e,r,i);return s.ref=n,s.ce=o,delete t.vnode.ce,s}const ti=e=>e.type.__isKeepAlive,ni={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Os(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,o=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=r,f=h("div");function d(e){li(e),u(e,n,a,!0)}function p(e){i.forEach((t,n)=>{const r=Ws(Qr(t)?t.type.__asyncResolved||{}:t.type);r&&!e(r)&&m(n)})}function m(e){const t=i.get(e);!t||s&&us(t,s)?s&&li(s):d(t),i.delete(e),o.delete(e)}r.activate=(e,t,n,r,i)=>{const o=e.component;c(e,t,n,0,a),l(o.vnode,e,t,n,o,a,r,e.slotScopeIds,i),Ro(()=>{o.isDeactivated=!1,o.a&&L(o.a);const t=e.props&&e.props.onVnodeMounted;t&&Es(t,o.parent,e)},a)},r.deactivate=e=>{const t=e.component;Bo(t.m),Bo(t.a),c(e,f,null,1,a),Ro(()=>{t.da&&L(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Es(n,t.parent,e),t.isDeactivated=!0},a)},ar(()=>[e.include,e.exclude],([e,t])=>{e&&p(t=>ri(e,t)),t&&p(e=>!ri(t,e))},{flush:"post",deep:!0});let g=null;const v=()=>{null!=g&&(Vo(n.subTree.type)?Ro(()=>{i.set(g,ci(n.subTree))},n.subTree.suspense):i.set(g,ci(n.subTree)))};return di(v),mi(v),gi(()=>{i.forEach(e=>{const{subTree:t,suspense:r}=n,i=ci(t);if(e.type===i.type&&e.key===i.key){li(i);const e=i.component.da;return void(e&&Ro(e,r))}d(e)})}),()=>{if(g=null,!t.default)return s=null;const n=t.default(),r=n[0];if(n.length>1)return s=null,n;if(!(cs(r)&&(4&r.shapeFlag||128&r.shapeFlag)))return s=null,r;let a=ci(r);if(a.type===Jo)return s=null,a;const l=a.type,c=Ws(Qr(a)?a.type.__asyncResolved||{}:l),{include:u,exclude:h,max:f}=e;if(u&&(!c||!ri(u,c))||h&&c&&ri(h,c))return a.shapeFlag&=-257,s=a,r;const d=null==a.key?l:a.key,p=i.get(d);return a.el&&(a=gs(a),128&r.shapeFlag&&(r.ssContent=a)),g=d,p?(a.el=p.el,a.component=p.component,a.transition&&Dr(a,a.transition),a.shapeFlag|=512,o.delete(d),o.add(d)):(o.add(d),f&&o.size>parseInt(f,10)&&m(o.values().next().value)),a.shapeFlag|=256,s=a,Vo(r.type)?r:a}}};function ri(e,t){return h(e)?e.some(e=>ri(e,t)):v(e)?e.split(",").includes(t):!!m(e)&&(e.lastIndex=0,e.test(t))}function ii(e,t){si(e,"a",t)}function oi(e,t){si(e,"da",t)}function si(e,t,n=Cs){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(ui(t,r,n),n){let e=n.parent;for(;e&&e.parent;)ti(e.parent.vnode)&&ai(r,t,n,e),e=e.parent}}function ai(e,t,n,r){const i=ui(t,e,r,!0);vi(()=>{l(r[t],i)},n)}function li(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ci(e){return 128&e.shapeFlag?e.ssContent:e}function ui(e,t,n=Cs,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{Xe();const i=ks(n),o=An(t,n,e,r);return i(),Ye(),o});return r?i.unshift(o):i.push(o),o}}const hi=e=>(t,n=Cs)=>{Fs&&"sp"!==e||ui(e,(...e)=>t(...e),n)},fi=hi("bm"),di=hi("m"),pi=hi("bu"),mi=hi("u"),gi=hi("bum"),vi=hi("um"),yi=hi("sp"),_i=hi("rtg"),bi=hi("rtc");function xi(e,t=Cs){ui("ec",e,t)}const wi="components";function Si(e,t){return Mi(wi,e,!0,t)||e}const Ei=Symbol.for("v-ndc");function Ti(e){return v(e)?Mi(wi,e,!1)||e:e||Ei}function Ai(e){return Mi("directives",e)}function Mi(e,t,n=!0,r=!1){const i=Gn||Cs;if(i){const n=i.type;if(e===wi){const e=Ws(n,!1);if(e&&(e===t||e===R(t)||e===P(R(t))))return n}const o=Ci(i[e]||n[e],t)||Ci(i.appContext[e],t);return!o&&r?n:o}}function Ci(e,t){return e&&(e[t]||e[R(t)]||e[P(R(t))])}function Oi(e,t,n,r){let i;const o=n&&n[r],s=h(e);if(s||v(e)){let n=!1,r=!1;s&&Gt(e)&&(n=!$t(e),r=qt(e),e=lt(e)),i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(n?r?Jt(Zt(e[s])):Zt(e[s]):e[s],s,void 0,o&&o[s])}else if("number"==typeof e){i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,o&&o[n])}else if(_(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,o&&o[n]));else{const n=Object.keys(e);i=new Array(n.length);for(let r=0,s=n.length;r<s;r++){const s=n[r];i[r]=t(e[s],s,r,o&&o[r])}}else i=[];return n&&(n[r]=i),i}function Ri(e,t,n={},r,i){if(Gn.ce||Gn.parent&&Qr(Gn.parent)&&Gn.parent.ce){const e=Object.keys(n).length>0;return"default"!==t&&(n.name=t),ns(),ls(Ko,null,[ps("slot",n,r&&r())],e?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),ns();const s=o&&Ii(o(n)),a=n.key||s&&s.key,l=ls(Ko,{key:(a&&!y(a)?a:`_${t}`)+(!s&&r?"_fb":"")},s||(r?r():[]),s&&1===e._?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Ii(e){return e.some(e=>!cs(e)||e.type!==Jo&&!(e.type===Ko&&!Ii(e.children)))?e:null}const ki=e=>e?Ns(e)?Hs(e):ki(e.parent):null,Pi=a(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ki(e.parent),$root:e=>ki(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>qi(e),$forceUpdate:e=>e.f||(e.f=()=>{Ln(e.update)}),$nextTick:e=>e.n||(e.n=Dn.bind(e.proxy)),$watch:e=>cr.bind(e)}),Ni=(e,n)=>e!==t&&!e.__isScriptSetup&&u(e,n),Di={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:r,setupState:i,data:o,props:s,accessCache:a,type:l,appContext:c}=e;if("$"!==n[0]){const e=a[n];if(void 0!==e)switch(e){case 1:return i[n];case 2:return o[n];case 4:return r[n];case 3:return s[n]}else{if(Ni(i,n))return a[n]=1,i[n];if(o!==t&&u(o,n))return a[n]=2,o[n];if(u(s,n))return a[n]=3,s[n];if(r!==t&&u(r,n))return a[n]=4,r[n];ji&&(a[n]=0)}}const h=Pi[n];let f,d;return h?("$attrs"===n&&ot(e.attrs,0,""),h(e)):(f=l.__cssModules)&&(f=f[n])?f:r!==t&&u(r,n)?(a[n]=4,r[n]):(d=c.config.globalProperties,u(d,n)?d[n]:void 0)},set({_:e},n,r){const{data:i,setupState:o,ctx:s}=e;return Ni(o,n)?(o[n]=r,!0):i!==t&&u(i,n)?(i[n]=r,!0):!u(e.props,n)&&(("$"!==n[0]||!(n.slice(1)in e))&&(s[n]=r,!0))},has({_:{data:e,setupState:n,accessCache:r,ctx:i,appContext:o,props:s,type:a}},l){let c;return!!(r[l]||e!==t&&"$"!==l[0]&&u(e,l)||Ni(n,l)||u(s,l)||u(i,l)||u(Pi,l)||u(o.config.globalProperties,l)||(c=a.__cssModules)&&c[l])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:u(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Li=a({},Di,{get(e,t){if(t!==Symbol.unscopables)return Di.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!G(t)});function Fi(){return Ui().slots}function Ui(e){const t=Os();return t.setupContext||(t.setupContext=js(t))}function Bi(e){return h(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}function zi(e,t){const n=Bi(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?h(e)||g(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t[`__skip_${r}`]&&(e.skipFactory=!0)}return n}function Vi(e,t){return e&&t?h(e)&&h(t)?e.concat(t):a({},Bi(e),Bi(t)):e||t}let ji=!0;function Hi(e){const t=qi(e),n=e.proxy,i=e.ctx;ji=!1,t.beforeCreate&&Wi(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:a,watch:l,provide:c,inject:u,created:f,beforeMount:d,mounted:p,beforeUpdate:m,updated:v,activated:y,deactivated:b,beforeDestroy:x,beforeUnmount:w,destroyed:S,unmounted:E,render:T,renderTracked:A,renderTriggered:M,errorCaptured:C,serverPrefetch:O,expose:R,inheritAttrs:I,components:k,directives:P,filters:N}=t;if(u&&function(e,t){h(e)&&(e=Ki(e));for(const n in e){const r=e[n];let i;i=_(r)?"default"in r?er(r.from||n,r.default,!0):er(r.from||n):er(r),Qt(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}(u,i,null),a)for(const r in a){const e=a[r];g(e)&&(i[r]=e.bind(n))}if(o){const t=o.call(n,n);_(t)&&(e.data=zt(t))}if(ji=!0,s)for(const h in s){const e=s[h],t=g(e)?e.bind(n,n):g(e.get)?e.get.bind(n,n):r,o=!g(e)&&g(e.set)?e.set.bind(n):r,a=Gs({get:t,set:o});Object.defineProperty(i,h,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(l)for(const r in l)Gi(l[r],i,n,r);if(c){const e=g(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{Qn(t,e[t])})}function D(e,t){h(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(f&&Wi(f,e,"c"),D(fi,d),D(di,p),D(pi,m),D(mi,v),D(ii,y),D(oi,b),D(xi,C),D(bi,A),D(_i,M),D(gi,w),D(vi,E),D(yi,O),h(R))if(R.length){const t=e.exposed||(e.exposed={});R.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});T&&e.render===r&&(e.render=T),null!=I&&(e.inheritAttrs=I),k&&(e.components=k),P&&(e.directives=P),O&&Br(e)}function Wi(e,t,n){An(h(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Gi(e,t,n,r){let i=r.includes(".")?ur(n,r):()=>n[r];if(v(e)){const n=t[e];g(n)&&ar(i,n)}else if(g(e))ar(i,e.bind(n));else if(_(e))if(h(e))e.forEach(e=>Gi(e,t,n,r));else{const r=g(e.handler)?e.handler.bind(n):t[e.handler];g(r)&&ar(i,r,e)}}function qi(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:i.length||n||r?(l={},i.length&&i.forEach(e=>$i(l,e,s,!0)),$i(l,t,s)):l=t,_(t)&&o.set(t,l),l}function $i(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&$i(e,o,n,!0),i&&i.forEach(t=>$i(e,t,n,!0));for(const s in t)if(r&&"expose"===s);else{const r=Xi[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const Xi={data:Yi,props:Qi,emits:Qi,methods:Ji,computed:Ji,beforeCreate:Zi,created:Zi,beforeMount:Zi,mounted:Zi,beforeUpdate:Zi,updated:Zi,beforeDestroy:Zi,beforeUnmount:Zi,destroyed:Zi,unmounted:Zi,activated:Zi,deactivated:Zi,errorCaptured:Zi,serverPrefetch:Zi,components:Ji,directives:Ji,watch:function(e,t){if(!e)return t;if(!t)return e;const n=a(Object.create(null),e);for(const r in t)n[r]=Zi(e[r],t[r]);return n},provide:Yi,inject:function(e,t){return Ji(Ki(e),Ki(t))}};function Yi(e,t){return t?e?function(){return a(g(e)?e.call(this,this):e,g(t)?t.call(this,this):t)}:t:e}function Ki(e){if(h(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Zi(e,t){return e?[...new Set([].concat(e,t))]:t}function Ji(e,t){return e?a(Object.create(null),e,t):t}function Qi(e,t){return e?h(e)&&h(t)?[...new Set([...e,...t])]:a(Object.create(null),Bi(e),Bi(null!=t?t:{})):t}function eo(){return{app:null,config:{isNativeTag:i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let to=0;function no(e,t){return function(n,r=null){g(n)||(n=a({},n)),null==r||_(r)||(r=null);const i=eo(),o=new WeakSet,s=[];let l=!1;const c=i.app={_uid:to++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Ys,get config(){return i.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&g(e.install)?(o.add(e),e.install(c,...t)):g(e)&&(o.add(e),e(c,...t))),c),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),c),component:(e,t)=>t?(i.components[e]=t,c):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,c):i.directives[e],mount(o,s,a){if(!l){const u=c._ceVNode||ps(n,r);return u.appContext=i,!0===a?a="svg":!1===a&&(a=void 0),s&&t?t(u,o):e(u,o,a),l=!0,c._container=o,o.__vue_app__=c,Hs(u.component)}},onUnmount(e){s.push(e)},unmount(){l&&(An(s,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,c),runWithContext(e){const t=ro;ro=c;try{return e()}finally{ro=t}}};return c}}let ro=null;function io(e,n,r=t){const i=Os(),o=R(n),s=k(n),a=oo(e,o),l=un((a,l)=>{let c,u,h=t;return sr(()=>{const t=e[o];D(c,t)&&(c=t,l())}),{get:()=>(a(),r.get?r.get(c):c),set(e){const a=r.set?r.set(e):e;if(!(D(a,c)||h!==t&&D(e,h)))return;const f=i.vnode.props;f&&(n in f||o in f||s in f)&&(`onUpdate:${n}`in f||`onUpdate:${o}`in f||`onUpdate:${s}`in f)||(c=e,l()),i.emit(`update:${n}`,a),D(e,a)&&D(e,h)&&!D(a,u)&&l(),h=e,u=a}}});return l[Symbol.iterator]=()=>{let e=0;return{next:()=>e<2?{value:e++?a||t:l,done:!1}:{done:!0}}},l}const oo=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${R(t)}Modifiers`]||e[`${k(t)}Modifiers`];function so(e,n,...r){if(e.isUnmounted)return;const i=e.vnode.props||t;let o=r;const s=n.startsWith("update:"),a=s&&oo(i,n.slice(7));let l;a&&(a.trim&&(o=r.map(e=>v(e)?e.trim():e)),a.number&&(o=r.map(U)));let c=i[l=N(n)]||i[l=N(R(n))];!c&&s&&(c=i[l=N(k(n))]),c&&An(c,e,6,o);const u=i[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,An(u,e,6,o)}}const ao=new WeakMap;function lo(e,t,n=!1){const r=n?ao:t.emitsCache,i=r.get(e);if(void 0!==i)return i;const o=e.emits;let s={},l=!1;if(!g(e)){const r=e=>{const n=lo(e,t,!0);n&&(l=!0,a(s,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||l?(h(o)?o.forEach(e=>s[e]=null):a(s,o),_(e)&&r.set(e,s),s):(_(e)&&r.set(e,null),null)}function co(e,t){return!(!e||!o(t))&&(t=t.slice(2).replace(/Once$/,""),u(e,t[0].toLowerCase()+t.slice(1))||u(e,k(t))||u(e,t))}function uo(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,props:f,data:d,setupState:p,ctx:m,inheritAttrs:g}=e,v=$n(e);let y,_;try{if(4&n.shapeFlag){const e=i||r,t=e;y=bs(u.call(t,e,h,f,p,d,m)),_=l}else{const e=t;0,y=bs(e.length>1?e(f,{attrs:l,slots:a,emit:c}):e(f,null)),_=t.props?l:ho(l)}}catch(x){es.length=0,Mn(x,e,1),y=ps(Jo)}let b=y;if(_&&!1!==g){const e=Object.keys(_),{shapeFlag:t}=b;e.length&&7&t&&(o&&e.some(s)&&(_=fo(_,o)),b=gs(b,_,!1,!0))}return n.dirs&&(b=gs(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Dr(b,n.transition),y=b,$n(v),y}const ho=e=>{let t;for(const n in e)("class"===n||"style"===n||o(n))&&((t||(t={}))[n]=e[n]);return t},fo=(e,t)=>{const n={};for(const r in e)s(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function po(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!co(n,o))return!0}return!1}function mo({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const go={},vo=()=>Object.create(go),yo=e=>Object.getPrototypeOf(e)===go;function _o(e,n,r,i){const[o,s]=e.propsOptions;let a,l=!1;if(n)for(let t in n){if(A(t))continue;const c=n[t];let h;o&&u(o,h=R(t))?s&&s.includes(h)?(a||(a={}))[h]=c:r[h]=c:co(e.emitsOptions,t)||t in i&&c===i[t]||(i[t]=c,l=!0)}if(s){const n=Yt(r),i=a||t;for(let t=0;t<s.length;t++){const a=s[t];r[a]=bo(o,n,a,i[a],e,!u(i,a))}}return l}function bo(e,t,n,r,i,o){const s=e[n];if(null!=s){const e=u(s,"default");if(e&&void 0===r){const e=s.default;if(s.type!==Function&&!s.skipFactory&&g(e)){const{propsDefaults:o}=i;if(n in o)r=o[n];else{const s=ks(i);r=o[n]=e.call(null,t),s()}}else r=e;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!e?r=!1:!s[1]||""!==r&&r!==k(n)||(r=!0))}return r}const xo=new WeakMap;function wo(e,r,i=!1){const o=i?xo:r.propsCache,s=o.get(e);if(s)return s;const l=e.props,c={},f=[];let d=!1;if(!g(e)){const t=e=>{d=!0;const[t,n]=wo(e,r,!0);a(c,t),n&&f.push(...n)};!i&&r.mixins.length&&r.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!l&&!d)return _(e)&&o.set(e,n),n;if(h(l))for(let n=0;n<l.length;n++){const e=R(l[n]);So(e)&&(c[e]=t)}else if(l)for(const t in l){const e=R(t);if(So(e)){const n=l[t],r=c[e]=h(n)||g(n)?{type:n}:a({},n),i=r.type;let o=!1,s=!0;if(h(i))for(let e=0;e<i.length;++e){const t=i[e],n=g(t)&&t.name;if("Boolean"===n){o=!0;break}"String"===n&&(s=!1)}else o=g(i)&&"Boolean"===i.name;r[0]=o,r[1]=s,(o||u(r,"default"))&&f.push(e)}}const p=[c,f];return _(e)&&o.set(e,p),p}function So(e){return"$"!==e[0]&&!A(e)}const Eo=e=>"_"===e||"_ctx"===e||"$stable"===e,To=e=>h(e)?e.map(bs):[bs(e)],Ao=(e,t,n)=>{if(t._n)return t;const r=Kn((...e)=>To(t(...e)),n);return r._c=!1,r},Mo=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Eo(i))continue;const n=e[i];if(g(n))t[i]=Ao(0,n,r);else if(null!=n){const e=To(n);t[i]=()=>e}}},Co=(e,t)=>{const n=To(t);e.slots.default=()=>n},Oo=(e,t,n)=>{for(const r in t)!n&&Eo(r)||(e[r]=t[r])},Ro=Xo;function Io(e){return Po(e)}function ko(e){return Po(e,$r)}function Po(e,i){V().__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:c,createComment:h,setText:f,setElementText:d,parentNode:p,nextSibling:m,setScopeId:g=r,insertStaticContent:v}=e,y=(e,t,n,r=null,i=null,o=null,s=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!us(e,t)&&(r=Y(e),W(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Zo:_(e,t,n,r);break;case Jo:b(e,t,n,r);break;case Qo:null==e&&x(t,n,r,s);break;case Ko:I(e,t,n,r,i,o,s,a,l);break;default:1&h?w(e,t,n,r,i,o,s,a,l):6&h?P(e,t,n,r,i,o,s,a,l):(64&h||128&h)&&c.process(e,t,n,r,i,o,s,a,l,J)}null!=u&&i?Vr(u,e&&e.ref,o,t||e,!t):null==u&&e&&null!=e.ref&&Vr(e.ref,null,o,e,!0)},_=(e,t,n,r)=>{if(null==e)o(t.el=c(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&f(n,t.children)}},b=(e,t,n,r)=>{null==e?o(t.el=h(t.children||""),n,r):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},w=(e,t,n,r,i,o,s,a,l)=>{if("svg"===t.type?s="svg":"math"===t.type&&(s="mathml"),null==e)S(t,n,r,i,o,s,a,l);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),M(e,t,i,o,s,a,l)}finally{n&&n._endPatch()}}},S=(e,t,n,r,i,s,c,u)=>{let h,f;const{props:p,shapeFlag:m,transition:g,dirs:v}=e;if(h=e.el=l(e.type,s,p&&p.is,p),8&m?d(h,e.children):16&m&&T(e.children,h,null,r,i,No(e,s),c,u),v&&Jn(e,null,r,"created"),E(h,e,e.scopeId,c,r),p){for(const e in p)"value"===e||A(e)||a(h,e,null,p[e],s,r);"value"in p&&a(h,"value",null,p.value,s),(f=p.onVnodeBeforeMount)&&Es(f,r,e)}v&&Jn(e,null,r,"beforeMount");const y=Lo(i,g);y&&g.beforeEnter(h),o(h,t,n),((f=p&&p.onVnodeMounted)||y||v)&&Ro(()=>{f&&Es(f,r,e),y&&g.enter(h),v&&Jn(e,null,r,"mounted")},i)},E=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let o=0;o<r.length;o++)g(e,r[o]);if(i){let n=i.subTree;if(t===n||Vo(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},T=(e,t,n,r,i,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?xs(e[c]):bs(e[c]);y(null,l,t,n,r,i,o,s,a)}},M=(e,n,r,i,o,s,l)=>{const c=n.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=n;u|=16&e.patchFlag;const p=e.props||t,m=n.props||t;let g;if(r&&Do(r,!1),(g=m.onVnodeBeforeUpdate)&&Es(g,r,n,e),f&&Jn(n,e,r,"beforeUpdate"),r&&Do(r,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&d(c,""),h?C(e.dynamicChildren,h,c,r,i,No(n,o),s):l||B(e,n,c,null,r,i,No(n,o),s,!1),u>0){if(16&u)O(c,p,m,r,o);else if(2&u&&p.class!==m.class&&a(c,"class",null,m.class,o),4&u&&a(c,"style",p.style,m.style,o),8&u){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],i=p[n],s=m[n];s===i&&"value"!==n||a(c,n,i,s,o,r)}}1&u&&e.children!==n.children&&d(c,n.children)}else l||null!=h||O(c,p,m,r,o);((g=m.onVnodeUpdated)||f)&&Ro(()=>{g&&Es(g,r,n,e),f&&Jn(n,e,r,"updated")},i)},C=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===Ko||!us(l,c)||198&l.shapeFlag)?p(l.el):n;y(l,c,u,null,r,i,o,s,!0)}},O=(e,n,r,i,o)=>{if(n!==r){if(n!==t)for(const t in n)A(t)||t in r||a(e,t,n[t],null,o,i);for(const t in r){if(A(t))continue;const s=r[t],l=n[t];s!==l&&"value"!==t&&a(e,t,l,s,o,i)}"value"in r&&a(e,"value",n.value,r.value,o)}},I=(e,t,n,r,i,s,a,l,u)=>{const h=t.el=e?e.el:c(""),f=t.anchor=e?e.anchor:c("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(o(h,n,r),o(f,n,r),T(t.children||[],n,f,i,s,a,l,u)):d>0&&64&d&&p&&e.dynamicChildren&&e.dynamicChildren.length===p.length?(C(e.dynamicChildren,p,n,i,s,a,l),(null!=t.key||i&&t===i.subTree)&&Fo(e,t,!0)):B(e,t,n,f,i,s,a,l,u)},P=(e,t,n,r,i,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,l):N(t,n,r,i,o,s,l):D(e,t,l)},N=(e,t,n,r,i,o,s)=>{const a=e.component=Ms(e,r,i);if(ti(e)&&(a.ctx.renderer=J),Us(a,!1,s),a.asyncDep){if(i&&i.registerDep(a,F,s),!e.el){const r=a.subTree=ps(Jo);b(null,r,t,n),e.placeholder=r.el}}else F(a,e,t,n,i,o,s)},D=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||po(r,s,c):!!s);if(1024&l)return!0;if(16&l)return r?po(r,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!co(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void U(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},F=(e,t,n,r,i,o,s)=>{const a=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:l,vnode:c}=e;{const n=Uo(e);if(n)return t&&(t.el=c.el,U(e,t,s)),void n.asyncDep.then(()=>{e.isUnmounted||a()})}let u,h=t;Do(e,!1),t?(t.el=c.el,U(e,t,s)):t=c,n&&L(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Es(u,l,t,c),Do(e,!0);const f=uo(e),d=e.subTree;e.subTree=f,y(d,f,p(d.el),Y(d),e,i,o),t.el=f.el,null===h&&mo(e,f.el),r&&Ro(r,i),(u=t.props&&t.props.onVnodeUpdated)&&Ro(()=>Es(u,l,t,c),i)}else{let s;const{el:a,props:l}=t,{bm:c,m:u,parent:h,root:f,type:d}=e,p=Qr(t);if(Do(e,!1),c&&L(c),!p&&(s=l&&l.onVnodeBeforeMount)&&Es(s,h,t),Do(e,!0),a&&ee){const t=()=>{e.subTree=uo(e),ee(a,e.subTree,e,i,null)};p&&d.__asyncHydrate?d.__asyncHydrate(a,e,t):t()}else{f.ce&&!1!==f.ce._def.shadowRoot&&f.ce._injectChildStyle(d);const s=e.subTree=uo(e);y(null,s,n,r,e,i,o),t.el=s.el}if(u&&Ro(u,i),!p&&(s=l&&l.onVnodeMounted)){const e=t;Ro(()=>Es(s,h,e),i)}(256&t.shapeFlag||h&&Qr(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&Ro(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();const l=e.effect=new Pe(a);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>Ln(u),Do(e,!0),c()},U=(e,n,r)=>{n.component=e;const i=e.vnode.props;e.vnode=n,e.next=null,function(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Yt(i),[l]=e.propsOptions;let c=!1;if(!(r||s>0)||16&s){let r;_o(e,t,i,o)&&(c=!0);for(const o in a)t&&(u(t,o)||(r=k(o))!==o&&u(t,r))||(l?!n||void 0===n[o]&&void 0===n[r]||(i[o]=bo(l,a,o,void 0,e,!0)):delete i[o]);if(o!==a)for(const e in o)t&&u(t,e)||(delete o[e],c=!0)}else if(8&s){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(co(e.emitsOptions,s))continue;const h=t[s];if(l)if(u(o,s))h!==o[s]&&(o[s]=h,c=!0);else{const t=R(s);i[t]=bo(l,a,t,h,e,!1)}else h!==o[s]&&(o[s]=h,c=!0)}}c&&st(e.attrs,"set","")}(e,n.props,i,r),((e,n,r)=>{const{vnode:i,slots:o}=e;let s=!0,a=t;if(32&i.shapeFlag){const e=n._;e?r&&1===e?s=!1:Oo(o,n,r):(s=!n.$stable,Mo(n,o)),a=n}else n&&(Co(e,n),a={default:1});if(s)for(const t in o)Eo(t)||null!=a[t]||delete o[t]})(e,n.children,r),Xe(),Bn(e),Ye()},B=(e,t,n,r,i,o,s,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void j(c,h,n,r,i,o,s,a,l);if(256&f)return void z(c,h,n,r,i,o,s,a,l)}8&p?(16&u&&X(c,i,o),h!==c&&d(n,h)):16&u?16&p?j(c,h,n,r,i,o,s,a,l):X(c,i,o,!0):(8&u&&d(n,""),16&p&&T(h,n,r,i,o,s,a,l))},z=(e,t,r,i,o,s,a,l,c)=>{t=t||n;const u=(e=e||n).length,h=t.length,f=Math.min(u,h);let d;for(d=0;d<f;d++){const n=t[d]=c?xs(t[d]):bs(t[d]);y(e[d],n,r,null,o,s,a,l,c)}u>h?X(e,o,s,!0,!1,f):T(t,r,i,o,s,a,l,c,f)},j=(e,t,r,i,o,s,a,l,c)=>{let u=0;const h=t.length;let f=e.length-1,d=h-1;for(;u<=f&&u<=d;){const n=e[u],i=t[u]=c?xs(t[u]):bs(t[u]);if(!us(n,i))break;y(n,i,r,null,o,s,a,l,c),u++}for(;u<=f&&u<=d;){const n=e[f],i=t[d]=c?xs(t[d]):bs(t[d]);if(!us(n,i))break;y(n,i,r,null,o,s,a,l,c),f--,d--}if(u>f){if(u<=d){const e=d+1,n=e<h?t[e].el:i;for(;u<=d;)y(null,t[u]=c?xs(t[u]):bs(t[u]),r,n,o,s,a,l,c),u++}}else if(u>d)for(;u<=f;)W(e[u],o,s,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=d;u++){const e=t[u]=c?xs(t[u]):bs(t[u]);null!=e.key&&g.set(e.key,u)}let v,_=0;const b=d-m+1;let x=!1,w=0;const S=new Array(b);for(u=0;u<b;u++)S[u]=0;for(u=p;u<=f;u++){const n=e[u];if(_>=b){W(n,o,s,!0);continue}let i;if(null!=n.key)i=g.get(n.key);else for(v=m;v<=d;v++)if(0===S[v-m]&&us(n,t[v])){i=v;break}void 0===i?W(n,o,s,!0):(S[i-m]=u+1,i>=w?w=i:x=!0,y(n,t[i],r,null,o,s,a,l,c),_++)}const E=x?function(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=t[s];return n}(S):n;for(v=E.length-1,u=b-1;u>=0;u--){const e=m+u,n=t[e],f=t[e+1],d=e+1<h?f.el||zo(f):i;0===S[u]?y(null,n,r,d,o,s,a,l,c):x&&(v<0||u!==E[v]?H(n,r,d,2):v--)}}},H=(e,t,n,r,i=null)=>{const{el:a,type:l,transition:c,children:u,shapeFlag:h}=e;if(6&h)return void H(e.component.subTree,t,n,r);if(128&h)return void e.suspense.move(t,n,r);if(64&h)return void l.move(e,t,n,J);if(l===Ko){o(a,t,n);for(let e=0;e<u.length;e++)H(u[e],t,n,r);return void o(e.anchor,t,n)}if(l===Qo)return void(({el:e,anchor:t},n,r)=>{let i;for(;e&&e!==t;)i=m(e),o(e,n,r),e=i;o(t,n,r)})(e,t,n);if(2!==r&&1&h&&c)if(0===r)c.beforeEnter(a),o(a,t,n),Ro(()=>c.enter(a),i);else{const{leave:r,delayLeave:i,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?s(a):o(a,t,n)},h=()=>{a._isLeaving&&a[Sr](!0),r(a,()=>{u(),l&&l()})};i?i(a,u,h):h()}else o(a,t,n)},W=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:f,cacheIndex:d}=e;if(-2===h&&(i=!1),null!=a&&(Xe(),Vr(a,null,n,e,!0),Ye()),null!=d&&(t.renderCache[d]=void 0),256&u)return void t.ctx.deactivate(e);const p=1&u&&f,m=!Qr(e);let g;if(m&&(g=s&&s.onVnodeBeforeUnmount)&&Es(g,t,e),6&u)$(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);p&&Jn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,J,r):c&&!c.hasOnce&&(o!==Ko||h>0&&64&h)?X(c,t,n,!1,!0):(o===Ko&&384&h||!i&&16&u)&&X(l,t,n),r&&G(e)}(m&&(g=s&&s.onVnodeUnmounted)||p)&&Ro(()=>{g&&Es(g,t,e),p&&Jn(e,null,t,"unmounted")},n)},G=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Ko)return void q(n,r);if(t===Qo)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),s(e),e=n;s(t)})(e);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,s=()=>t(n,o);r?r(e.el,o,s):s()}else o()},q=(e,t)=>{let n;for(;e!==t;)n=m(e),s(e),e=n;s(t)},$=(e,t,n)=>{const{bum:r,scope:i,job:o,subTree:s,um:a,m:l,a:c}=e;Bo(l),Bo(c),r&&L(r),i.stop(),o&&(o.flags|=8,W(s,e,t,n)),a&&Ro(a,t),Ro(()=>{e.isUnmounted=!0},t)},X=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)W(e[s],t,n,r,i)},Y=e=>{if(6&e.shapeFlag)return Y(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[hr];return n?m(n):t};let K=!1;const Z=(e,t,n)=>{let r;null==e?t._vnode&&(W(t._vnode,null,null,!0),r=t._vnode.component):y(t._vnode||null,e,t,null,null,null,n),t._vnode=e,K||(K=!0,Bn(r),zn(),K=!1)},J={p:y,um:W,m:H,r:G,mt:N,mc:T,pc:B,pbc:C,n:Y,o:e};let Q,ee;return i&&([Q,ee]=i(J)),{render:Z,hydrate:Q,createApp:no(Z,Q)}}function No({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Do({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Lo(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Fo(e,t,n=!1){const r=e.children,i=t.children;if(h(r)&&h(i))for(let o=0;o<r.length;o++){const t=r[o];let s=i[o];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&(s=i[o]=xs(i[o]),s.el=t.el),n||-2===s.patchFlag||Fo(t,s)),s.type===Zo&&(-1!==s.patchFlag?s.el=t.el:s.__elIndex=o+(e.type===Ko?1:0)),s.type!==Jo||s.el||(s.el=t.el)}}function Uo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Uo(t)}function Bo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function zo(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?zo(t.subTree):null}const Vo=e=>e.__isSuspense;let jo=0;const Ho={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,s,a,l,c){if(null==e)!function(e,t,n,r,i,o,s,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),f=e.suspense=qo(e,i,r,t,h,n,o,s,a,l);c(null,f.pendingBranch=e.ssContent,h,null,r,f,o,s),f.deps>0?(Go(e,"onPending"),Go(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,o,s),Yo(f,e.ssFallback)):f.resolve(!1,!0)}(t,n,r,i,o,s,a,l,c);else{if(o&&o.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);!function(e,t,n,r,i,o,s,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const f=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=h;if(m)h.pendingBranch=f,us(m,f)?(l(m,f,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0?h.resolve():g&&(v||(l(p,d,n,r,i,null,o,s,a),Yo(h,d)))):(h.pendingId=jo++,v?(h.isHydrating=!1,h.activeBranch=m):c(m,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),g?(l(null,f,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0?h.resolve():(l(p,d,n,r,i,null,o,s,a),Yo(h,d))):p&&us(p,f)?(l(p,f,n,r,i,h,o,s,a),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0&&h.resolve()));else if(p&&us(p,f))l(p,f,n,r,i,h,o,s,a),Yo(h,f);else if(Go(t,"onPending"),h.pendingBranch=f,512&f.shapeFlag?h.pendingId=f.component.suspenseId:h.pendingId=jo++,l(null,f,h.hiddenContainer,null,i,h,o,s,a),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout(()=>{h.pendingId===t&&h.fallback(d)},e):0===e&&h.fallback(d)}}(e,t,n,r,i,s,a,l,c)}},hydrate:function(e,t,n,r,i,o,s,a,l){const c=t.suspense=qo(t,r,n,e.parentNode,document.createElement("div"),null,i,o,s,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,o,s);0===c.deps&&c.resolve(!1,!0);return u},normalize:function(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=$o(r?n.default:n),e.ssFallback=r?$o(n.fallback):ps(Jo)}},Wo=Ho;function Go(e,t){const n=e.props&&e.props[t];g(n)&&n()}function qo(e,t,n,r,i,o,s,a,l,c,u=!1){const{p:h,m:f,um:d,n:p,o:{parentNode:m,remove:g}}=c;let v;const y=function(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}(e);y&&t&&t.pendingBranch&&(v=t.pendingId,t.deps++);const _=e.props?B(e.props.timeout):void 0,b=o,x={vnode:e,parent:t,parentComponent:n,namespace:s,container:r,hiddenContainer:i,deps:0,pendingId:jo++,timeout:"number"==typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:i,pendingBranch:s,pendingId:a,effects:l,parentComponent:c,container:u,isInFallback:h}=x;let g=!1;x.isHydrating?x.isHydrating=!1:e||(g=i&&s.transition&&"out-in"===s.transition.mode,g&&(i.transition.afterLeave=()=>{a===x.pendingId&&(f(s,u,o===b?p(i):o,0),Un(l),h&&r.ssFallback&&(r.ssFallback.el=null))}),i&&(m(i.el)===u&&(o=p(i)),d(i,c,x,!0),!g&&h&&r.ssFallback&&Ro(()=>r.ssFallback.el=null,x)),g||f(s,u,o,0)),Yo(x,s),x.pendingBranch=null,x.isInFallback=!1;let _=x.parent,w=!1;for(;_;){if(_.pendingBranch){_.effects.push(...l),w=!0;break}_=_.parent}w||g||Un(l),x.effects=[],y&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),Go(r,"onResolve")},fallback(e){if(!x.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,namespace:o}=x;Go(t,"onFallback");const s=p(n),c=()=>{x.isInFallback&&(h(null,e,i,s,r,null,o,a,l),Yo(x,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=c),x.isInFallback=!0,d(n,r,null,!0),u||c()},move(e,t,n){x.activeBranch&&f(x.activeBranch,e,t,n),x.container=e},next:()=>x.activeBranch&&p(x.activeBranch),registerDep(e,t,n){const r=!!x.pendingBranch;r&&x.deps++;const i=e.vnode.el;e.asyncDep.catch(t=>{Mn(t,e,0)}).then(o=>{if(e.isUnmounted||x.isUnmounted||x.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:a}=e;Bs(e,o,!1),i&&(a.el=i);const l=!i&&e.subTree.el;t(e,a,m(i||e.subTree.el),i?null:p(e.subTree),x,s,n),l&&(a.placeholder=null,g(l)),mo(e,a.el),r&&0===--x.deps&&x.resolve()})},unmount(e,t){x.isUnmounted=!0,x.activeBranch&&d(x.activeBranch,n,e,t),x.pendingBranch&&d(x.pendingBranch,n,e,t)}};return x}function $o(e){let t;if(g(e)){const n=is&&e._c;n&&(e._d=!1,ns()),e=e(),n&&(e._d=!0,t=ts,rs())}if(h(e)){const t=function(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!cs(r))return;if(r.type!==Jo||"v-if"===r.children){if(t)return;t=r}}return t}(e);e=t}return e=bs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function Xo(e,t){t&&t.pendingBranch?h(e)?t.effects.push(...e):t.effects.push(e):Un(e)}function Yo(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)i=(t=t.component.subTree).el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,mo(r,i))}const Ko=Symbol.for("v-fgt"),Zo=Symbol.for("v-txt"),Jo=Symbol.for("v-cmt"),Qo=Symbol.for("v-stc"),es=[];let ts=null;function ns(e=!1){es.push(ts=e?null:[])}function rs(){es.pop(),ts=es[es.length-1]||null}let is=1;function os(e,t=!1){is+=e,e<0&&ts&&t&&(ts.hasOnce=!0)}function ss(e){return e.dynamicChildren=is>0?ts||n:null,rs(),is>0&&ts&&ts.push(e),e}function as(e,t,n,r,i,o){return ss(ds(e,t,n,r,i,o,!0))}function ls(e,t,n,r,i){return ss(ps(e,t,n,r,i,!0))}function cs(e){return!!e&&!0===e.__v_isVNode}function us(e,t){return e.type===t.type&&e.key===t.key}const hs=({key:e})=>null!=e?e:null,fs=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?v(e)||Qt(e)||g(e)?{i:Gn,r:e,k:t,f:!!n}:e:null);function ds(e,t=null,n=null,r=0,i=null,o=(e===Ko?0:1),s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&hs(t),ref:t&&fs(t),scopeId:qn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Gn};return a?(ws(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=v(n)?8:16),is>0&&!s&&ts&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&ts.push(l),l}const ps=function(e,t=null,n=null,r=0,i=null,o=!1){e&&e!==Ei||(e=Jo);if(cs(e)){const r=gs(e,t,!0);return n&&ws(r,n),is>0&&!o&&ts&&(6&r.shapeFlag?ts[ts.indexOf(e)]=r:ts.push(r)),r.patchFlag=-2,r}s=e,g(s)&&"__vccOpts"in s&&(e=e.__vccOpts);var s;if(t){t=ms(t);let{class:e,style:n}=t;e&&!v(e)&&(t.class=ee(e)),_(n)&&(Xt(n)&&!h(n)&&(n=a({},n)),t.style=Y(n))}const l=v(e)?1:Vo(e)?128:fr(e)?64:_(e)?4:g(e)?2:0;return ds(e,t,n,r,i,l,o,!0)};function ms(e){return e?Xt(e)||yo(e)?a({},e):e:null}function gs(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:a,transition:l}=e,c=t?Ss(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&hs(c),ref:t&&t.ref?n&&o?h(o)?o.concat(fs(t)):[o,fs(t)]:fs(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ko?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gs(e.ssContent),ssFallback:e.ssFallback&&gs(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Dr(u,l.clone(u)),u}function vs(e=" ",t=0){return ps(Zo,null,e,t)}function ys(e,t){const n=ps(Qo,null,e);return n.staticCount=t,n}function _s(e="",t=!1){return t?(ns(),ls(Jo,null,e)):ps(Jo,null,e)}function bs(e){return null==e||"boolean"==typeof e?ps(Jo):h(e)?ps(Ko,null,e.slice()):cs(e)?xs(e):ps(Zo,null,String(e))}function xs(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:gs(e)}function ws(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(h(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),ws(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||yo(t)?3===r&&Gn&&(1===Gn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Gn}}else g(t)?(t={default:t,_ctx:Gn},n=32):(t=String(t),64&r?(n=16,t=[vs(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ss(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=ee([t.class,r.class]));else if("style"===e)t.style=Y([t.style,r.style]);else if(o(e)){const n=t[e],i=r[e];!i||n===i||h(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function Es(e,t,n,r=null){An(e,t,7,[n,r])}const Ts=eo();let As=0;function Ms(e,n,r){const i=e.type,o=(n?n.appContext:e.appContext)||Ts,s={uid:As++,vnode:e,type:i,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ce(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wo(i,o),emitsOptions:lo(i,o),emit:null,emitted:null,propsDefaults:t,inheritAttrs:i.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=n?n.root:s,s.emit=so.bind(null,s),e.ce&&e.ce(s),s}let Cs=null;const Os=()=>Cs||Gn;let Rs,Is;{const e=V(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};Rs=t("__VUE_INSTANCE_SETTERS__",e=>Cs=e),Is=t("__VUE_SSR_SETTERS__",e=>Fs=e)}const ks=e=>{const t=Cs;return Rs(e),e.scope.on(),()=>{e.scope.off(),Rs(t)}},Ps=()=>{Cs&&Cs.scope.off(),Rs(null)};function Ns(e){return 4&e.vnode.shapeFlag}let Ds,Ls,Fs=!1;function Us(e,t=!1,n=!1){t&&Is(t);const{props:r,children:i}=e.vnode,o=Ns(e);!function(e,t,n,r=!1){const i={},o=vo();e.propsDefaults=Object.create(null),_o(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:Vt(i):e.type.props?e.props=i:e.props=o,e.attrs=o}(e,r,o,t),((e,t,n)=>{const r=e.slots=vo();if(32&e.vnode.shapeFlag){const e=t._;e?(Oo(r,t,n),n&&F(r,"_",e,!0)):Mo(t,r)}else t&&Co(e,t)})(e,i,n||t);const s=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Di);const{setup:r}=n;if(r){Xe();const n=e.setupContext=r.length>1?js(e):null,i=ks(e),o=Tn(r,e,0,[e.props,n]),s=b(o);if(Ye(),i(),!s&&!e.sp||Qr(e)||Br(e),s){if(o.then(Ps,Ps),t)return o.then(n=>{Bs(e,n,t)}).catch(t=>{Mn(t,e,0)});e.asyncDep=o}else Bs(e,o,t)}else zs(e,t)}(e,t):void 0;return t&&Is(!1),s}function Bs(e,t,n){g(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_(t)&&(e.setupState=ln(t)),zs(e,n)}function zs(e,t,n){const i=e.type;if(!e.render){if(!t&&Ds&&!i.render){const t=i.template||qi(e).template;if(t){const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:s}=i,l=a(a({isCustomElement:n,delimiters:o},r),s);i.render=Ds(t,l)}}e.render=i.render||r,Ls&&Ls(e)}{const t=ks(e);Xe();try{Hi(e)}finally{Ye(),t()}}}const Vs={get:(e,t)=>(ot(e,0,""),e[t])};function js(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,Vs),slots:e.slots,emit:e.emit,expose:t}}function Hs(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ln(Kt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Pi?Pi[n](e):void 0,has:(e,t)=>t in e||t in Pi})):e.proxy}function Ws(e,t=!0){return g(e)?e.displayName||e.name:e.name||t&&e.__name}const Gs=(e,t)=>vn(e,0,Fs);function qs(e,t,n){try{os(-1);const r=arguments.length;return 2===r?_(t)&&!h(t)?cs(t)?ps(e,null,[t]):ps(e,t):ps(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&cs(n)&&(n=[n]),ps(e,t,n))}finally{os(1)}}function $s(e,t,n,r){const i=n[r];if(i&&Xs(i,e))return i;const o=t();return o.memo=e.slice(),o.cacheIndex=r,n[r]=o}function Xs(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(D(n[r],t[r]))return!1;return is>0&&ts&&ts.push(e),!0}const Ys="3.5.27",Ks=r,Zs=En,Js=Hn,Qs=function e(t,n){var r,i;if(Hn=t,Hn)Hn.enabled=!0,Wn.forEach(({event:e,args:t})=>Hn.emit(e,...t)),Wn=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(i=null==(r=window.navigator)?void 0:r.userAgent)?void 0:i.includes("jsdom"))){(n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(t=>{e(t,n)}),setTimeout(()=>{Hn||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Wn=[])},3e3)}else Wn=[]},ea={createComponentInstance:Ms,setupComponent:Us,renderComponentRoot:uo,setCurrentRenderingInstance:$n,isVNode:cs,normalizeVNode:bs,getComponentPublicInstance:Hs,ensureValidVNode:Ii,pushWarningContext:function(e){Sn.push(e)},popWarningContext:function(){Sn.pop()}};let ta;const na="undefined"!=typeof window&&window.trustedTypes;if(na)try{ta=na.createPolicy("vue",{createHTML:e=>e})}catch(vme){}const ra=ta?e=>ta.createHTML(e):e=>e,ia="undefined"!=typeof document?document:null,oa=ia&&ia.createElement("template"),sa={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i="svg"===t?ia.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?ia.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?ia.createElement(e,{is:n}):ia.createElement(e);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>ia.createTextNode(e),createComment:e=>ia.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ia.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==o&&(i=i.nextSibling););else{oa.innerHTML=ra("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const i=oa.content;if("svg"===r||"mathml"===r){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},aa="transition",la="animation",ca=Symbol("_vtc"),ua={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},ha=a({},Mr,ua),fa=e=>(e.displayName="Transition",e.props=ha,e),da=fa((e,{slots:t})=>qs(Rr,ga(e),t)),pa=(e,t=[])=>{h(e)?e.forEach(e=>e(...t)):e&&e(...t)},ma=e=>!!e&&(h(e)?e.some(e=>e.length>1):e.length>1);function ga(e){const t={};for(const a in e)a in ua||(t[a]=e[a]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=s,appearToClass:h=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if(_(e))return[va(e.enter),va(e.leave)];{const t=va(e);return[t,t]}}(i),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:x,onLeave:w,onLeaveCancelled:S,onBeforeAppear:E=y,onAppear:T=b,onAppearCancelled:A=x}=t,M=(e,t,n,r)=>{e._enterCancelled=r,_a(e,t?h:l),_a(e,t?u:s),n&&n()},C=(e,t)=>{e._isLeaving=!1,_a(e,f),_a(e,p),_a(e,d),t&&t()},O=e=>(t,n)=>{const i=e?T:b,s=()=>M(t,e,n);pa(i,[t,s]),ba(()=>{_a(t,e?c:o),ya(t,e?h:l),ma(i)||wa(t,r,g,s)})};return a(t,{onBeforeEnter(e){pa(y,[e]),ya(e,o),ya(e,s)},onBeforeAppear(e){pa(E,[e]),ya(e,c),ya(e,u)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>C(e,t);ya(e,f),e._enterCancelled?(ya(e,d),Aa(e)):(Aa(e),ya(e,d)),ba(()=>{e._isLeaving&&(_a(e,f),ya(e,p),ma(w)||wa(e,r,v,n))}),pa(w,[e,n])},onEnterCancelled(e){M(e,!1,void 0,!0),pa(x,[e])},onAppearCancelled(e){M(e,!0,void 0,!0),pa(A,[e])},onLeaveCancelled(e){C(e),pa(S,[e])}})}function va(e){return B(e)}function ya(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[ca]||(e[ca]=new Set)).add(t)}function _a(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[ca];n&&(n.delete(t),n.size||(e[ca]=void 0))}function ba(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let xa=0;function wa(e,t,n,r){const i=e._endId=++xa,o=()=>{i===e._endId&&r()};if(null!=n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=Sa(e,t);if(!s)return r();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,f),o()},f=t=>{t.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,f)}function Sa(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(`${aa}Delay`),o=r(`${aa}Duration`),s=Ea(i,o),a=r(`${la}Delay`),l=r(`${la}Duration`),c=Ea(a,l);let u=null,h=0,f=0;t===aa?s>0&&(u=aa,h=s,f=o.length):t===la?c>0&&(u=la,h=c,f=l.length):(h=Math.max(s,c),u=h>0?s>c?aa:la:null,f=u?u===aa?o.length:l.length:0);return{type:u,timeout:h,propCount:f,hasTransform:u===aa&&/\b(?:transform|all)(?:,|$)/.test(r(`${aa}Property`).toString())}}function Ea(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>Ta(t)+Ta(e[n])))}function Ta(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Aa(e){return(e?e.ownerDocument:document).body.offsetHeight}const Ma=Symbol("_vod"),Ca=Symbol("_vsh"),Oa={name:"show",beforeMount(e,{value:t},{transition:n}){e[Ma]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Ra(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ra(e,!0),r.enter(e)):r.leave(e,()=>{Ra(e,!1)}):Ra(e,t))},beforeUnmount(e,{value:t}){Ra(e,t)}};function Ra(e,t){e.style.display=t?e[Ma]:"none",e[Ca]=!t}const Ia=Symbol("");function ka(e){const t=Os();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(e=>Na(e,n))},i=()=>{const r=e(t.proxy);t.ce?Na(t.ce,r):Pa(t.subTree,r),n(r)};pi(()=>{Un(i)}),di(()=>{ar(i,r,{flush:"post"});const e=new MutationObserver(i);e.observe(t.subTree.el.parentNode,{childList:!0}),vi(()=>e.disconnect())})}function Pa(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Pa(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)Na(e.el,t);else if(e.type===Ko)e.children.forEach(e=>Pa(e,t));else if(e.type===Qo){let{el:n,anchor:r}=e;for(;n&&(Na(n,t),n!==r);)n=n.nextSibling}}function Na(e,t){if(1===e.nodeType){const n=e.style;let r="";for(const e in t){const i=Ee(t[e]);n.setProperty(`--${e}`,i),r+=`--${e}: ${i};`}n[Ia]=r}}const Da=/(?:^|;)\s*display\s*:/;const La=/\s*!important$/;function Fa(e,t,n){if(h(n))n.forEach(n=>Fa(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=Ba[t];if(n)return n;let r=R(t);if("filter"!==r&&r in e)return Ba[t]=r;r=P(r);for(let i=0;i<Ua.length;i++){const n=Ua[i]+r;if(n in e)return Ba[t]=n}return t}(e,t);La.test(n)?e.setProperty(k(r),n.replace(La,""),"important"):e[r]=n}}const Ua=["Webkit","Moz","ms"],Ba={};const za="http://www.w3.org/1999/xlink";function Va(e,t,n,r,i,o=ae(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(za,t.slice(6,t.length)):e.setAttributeNS(za,t,n):null==n||o&&!ce(n)?e.removeAttribute(t):e.setAttribute(t,o?"":y(n)?String(n):n)}function ja(e,t,n,r,i){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?ra(n):n));const o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){const r="OPTION"===o?e.getAttribute("value")||"":e.value,i=null==n?"checkbox"===e.type?"on":"":String(n);return r===i&&"_value"in e||(e.value=i),null==n&&e.removeAttribute(t),void(e._value=n)}let s=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=ce(n):null==n&&"string"===r?(n="",s=!0):"number"===r&&(n=0,s=!0)}try{e[t]=n}catch(vme){}s&&e.removeAttribute(i||t)}function Ha(e,t,n,r){e.addEventListener(t,n,r)}const Wa=Symbol("_vei");function Ga(e,t,n,r,i=null){const o=e[Wa]||(e[Wa]={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=function(e){let t;if(qa.test(e)){let n;for(t={};n=e.match(qa);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):k(e.slice(2));return[n,t]}(t);if(r){const s=o[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();An(function(e,t){if(h(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Ya(),n}(r,i);Ha(e,n,s,a)}else s&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,s,a),o[t]=void 0)}}const qa=/(?:Once|Passive|Capture)$/;let $a=0;const Xa=Promise.resolve(),Ya=()=>$a||(Xa.then(()=>$a=0),$a=Date.now());const Ka=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Za=(e,t,n,r,i,a)=>{const l="svg"===i;"class"===t?function(e,t,n){const r=e[ca];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,l):"style"===t?function(e,t,n){const r=e.style,i=v(n);let o=!1;if(n&&!i){if(t)if(v(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&Fa(r,t,"")}else for(const e in t)null==n[e]&&Fa(r,e,"");for(const e in n)"display"===e&&(o=!0),Fa(r,e,n[e])}else if(i){if(t!==n){const e=r[Ia];e&&(n+=";"+e),r.cssText=n,o=Da.test(n)}}else t&&e.removeAttribute("style");Ma in e&&(e[Ma]=o?r.display:"",e[Ca]&&(r.display="none"))}(e,n,r):o(t)?s(t)||Ga(e,t,0,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&Ka(t)&&g(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(Ka(t)&&v(n))return!1;return t in e}(e,t,r,l))?(ja(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Va(e,t,r,l,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&v(r)?("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),Va(e,t,r,l)):ja(e,R(t),r,0,t)};const Ja={};function Qa(e,t,n){let r=Fr(e,t);E(r)&&(r=a({},r,t));class i extends tl{constructor(e){super(r,e,n)}}return i.def=r,i}const el="undefined"!=typeof HTMLElement?HTMLElement:class{};class tl extends el{constructor(e,t={},n=zl){super(),this._def=e,this._props=t,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._patching=!1,this._dirty=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==zl?this._root=this.shadowRoot:!1!==e.shadowRoot?(this.attachShadow(a({},e.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._resolved||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof tl){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Dn(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(e){for(const t of e)this._setAttr(t.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const e=(e,t=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:r}=e;let i;if(n&&!h(n))for(const o in n){const e=n[o];(e===Number||e&&e.type===Number)&&(o in this._props&&(this._props[o]=B(this._props[o])),(i||(i=Object.create(null)))[R(o)]=!0)}this._numberProps=i,this._resolveProps(e),this.shadowRoot&&this._applyStyles(r),this._mount(e)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then(t=>{t.configureApp=this._def.configureApp,e(this._def=t,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const n in t)u(this,n)||Object.defineProperty(this,n,{get:()=>on(t[n])})}_resolveProps(e){const{props:t}=e,n=h(t)?t:Object.keys(t||{});for(const r of Object.keys(this))"_"!==r[0]&&n.includes(r)&&this._setProp(r,this[r]);for(const r of n.map(R))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(e){this._setProp(r,e,!0,!this._patching)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let n=t?this.getAttribute(e):Ja;const r=R(e);t&&this._numberProps&&this._numberProps[r]&&(n=B(n)),this._setProp(r,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!1){if(t!==this._props[e]&&(this._dirty=!0,t===Ja?delete this._props[e]:(this._props[e]=t,"key"===e&&this._app&&(this._app._ceVNode.key=t)),r&&this._instance&&this._update(),n)){const n=this._ob;n&&(this._processMutations(n.takeRecords()),n.disconnect()),!0===t?this.setAttribute(k(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(k(e),t+""):t||this.removeAttribute(k(e)),n&&n.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),Bl(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=ps(this._def,a(e,this._props));return this._instance||(t.ce=e=>{this._instance=e,e.ce=this,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,E(t[0])?a({detail:t},t[0]):{detail:t}))};e.emit=(e,...n)=>{t(e,n),k(e)!==e&&t(k(e),n)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const n=this._nonce;for(let r=e.length-1;r>=0;r--){const t=document.createElement("style");n&&t.setAttribute("nonce",n),t.textContent=e[r],this.shadowRoot.prepend(t)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const n=1===t.nodeType&&t.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=this._getSlots(),t=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const r=e[n],i=r.getAttribute("name")||"default",o=this._slots[i],s=r.parentNode;if(o)for(const e of o){if(t&&1===e.nodeType){const n=t+"-s",r=document.createTreeWalker(e,1);let i;for(e.setAttribute(n,"");i=r.nextNode();)i.setAttribute(n,"")}s.insertBefore(e,r)}else for(;r.firstChild;)s.insertBefore(r.firstChild,r);s.removeChild(r)}}_getSlots(){const e=[this];this._teleportTargets&&e.push(...this._teleportTargets);const t=new Set;for(const n of e){const e=n.querySelectorAll("slot");for(let n=0;n<e.length;n++)t.add(e[n])}return Array.from(t)}_injectChildStyle(e){this._applyStyles(e.styles,e)}_beginPatch(){this._patching=!0,this._dirty=!1}_endPatch(){this._patching=!1,this._dirty&&this._instance&&this._update()}_removeChildStyle(e){}}function nl(e){const t=Os(),n=t&&t.ce;return n||null}const rl=new WeakMap,il=new WeakMap,ol=Symbol("_moveCb"),sl=Symbol("_enterCb"),al=e=>(delete e.props.mode,e),ll=al({name:"TransitionGroup",props:a({},ha,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Os(),r=Tr();let i,o;return mi(()=>{if(!i.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!function(e,t,n){const r=e.cloneNode(),i=e[ca];i&&i.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))});n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:s}=Sa(r);return o.removeChild(r),s}(i[0].el,n.vnode.el,t))return void(i=[]);i.forEach(ul),i.forEach(hl);const r=i.filter(fl);Aa(n.vnode.el),r.forEach(e=>{const n=e.el,r=n.style;ya(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[ol]=e=>{e&&e.target!==n||e&&!e.propertyName.endsWith("transform")||(n.removeEventListener("transitionend",i),n[ol]=null,_a(n,t))};n.addEventListener("transitionend",i)}),i=[]}),()=>{const s=Yt(e),a=ga(s);let l=s.tag||Ko;if(i=[],o)for(let e=0;e<o.length;e++){const t=o[e];t.el&&t.el instanceof Element&&(i.push(t),Dr(t,kr(t,a,r,n)),rl.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop}))}o=t.default?Lr(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&Dr(t,kr(t,a,r,n))}return ps(l,null,o)}}}),cl=ll;function ul(e){const t=e.el;t[ol]&&t[ol](),t[sl]&&t[sl]()}function hl(e){il.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function fl(e){const t=rl.get(e),n=il.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}const dl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return h(t)?e=>L(t,e):t};function pl(e){e.target.composing=!0}function ml(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const gl=Symbol("_assign");function vl(e,t,n){return t&&(e=e.trim()),n&&(e=U(e)),e}const yl={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[gl]=dl(i);const o=r||i.props&&"number"===i.props.type;Ha(e,t?"change":"input",t=>{t.target.composing||e[gl](vl(e.value,n,o))}),(n||o)&&Ha(e,"change",()=>{e.value=vl(e.value,n,o)}),t||(Ha(e,"compositionstart",pl),Ha(e,"compositionend",ml),Ha(e,"change",ml))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(e[gl]=dl(s),e.composing)return;const a=null==t?"":t;if((!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:U(e.value))!==a){if(document.activeElement===e&&"range"!==e.type){if(r&&t===n)return;if(i&&e.value.trim()===a)return}e.value=a}}},_l={deep:!0,created(e,t,n){e[gl]=dl(n),Ha(e,"change",()=>{const t=e._modelValue,n=El(e),r=e.checked,i=e[gl];if(h(t)){const e=_e(t,n),o=-1!==e;if(r&&!o)i(t.concat(n));else if(!r&&o){const n=[...t];n.splice(e,1),i(n)}}else if(d(t)){const e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(Tl(e,r))})},mounted:bl,beforeUpdate(e,t,n){e[gl]=dl(n),bl(e,t,n)}};function bl(e,{value:t,oldValue:n},r){let i;if(e._modelValue=t,h(t))i=_e(t,r.props.value)>-1;else if(d(t))i=t.has(r.props.value);else{if(t===n)return;i=ye(t,Tl(e,!0))}e.checked!==i&&(e.checked=i)}const xl={created(e,{value:t},n){e.checked=ye(t,n.props.value),e[gl]=dl(n),Ha(e,"change",()=>{e[gl](El(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[gl]=dl(r),t!==n&&(e.checked=ye(t,r.props.value))}},wl={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=d(t);Ha(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?U(El(e)):El(e));e[gl](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,Dn(()=>{e._assigning=!1})}),e[gl]=dl(r)},mounted(e,{value:t}){Sl(e,t)},beforeUpdate(e,t,n){e[gl]=dl(n)},updated(e,{value:t}){e._assigning||Sl(e,t)}};function Sl(e,t){const n=e.multiple,r=h(t);if(!n||r||d(t)){for(let i=0,o=e.options.length;i<o;i++){const o=e.options[i],s=El(o);if(n)if(r){const e=typeof s;o.selected="string"===e||"number"===e?t.some(e=>String(e)===String(s)):_e(t,s)>-1}else o.selected=t.has(s);else if(ye(El(o),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function El(e){return"_value"in e?e._value:e.value}function Tl(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Al={created(e,t,n){Cl(e,t,n,null,"created")},mounted(e,t,n){Cl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Cl(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Cl(e,t,n,r,"updated")}};function Ml(e,t){switch(e){case"SELECT":return wl;case"TEXTAREA":return yl;default:switch(t){case"checkbox":return _l;case"radio":return xl;default:return yl}}}function Cl(e,t,n,r,i){const o=Ml(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,r)}const Ol=["ctrl","shift","alt","meta"],Rl={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Ol.some(n=>e[`${n}Key`]&&!t.includes(n))},Il=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=Rl[t[e]];if(r&&r(n,t))return}return e(n,...r)})},kl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Pl=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=k(n.key);return t.some(e=>e===r||kl[e]===r)?e(n):void 0})},Nl=a({patchProp:Za},sa);let Dl,Ll=!1;function Fl(){return Dl||(Dl=Io(Nl))}function Ul(){return Dl=Ll?Dl:ko(Nl),Ll=!0,Dl}const Bl=(...e)=>{Fl().render(...e)},zl=(...e)=>{const t=Fl().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=Hl(e);if(!r)return;const i=t._component;g(i)||i.render||i.template||(i.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const o=n(r,!1,jl(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},Vl=(...e)=>{const t=Ul().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=Hl(e);if(t)return n(t,!0,jl(t))},t};function jl(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function Hl(e){if(v(e)){return document.querySelector(e)}return e}let Wl=!1;const Gl=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Rr,BaseTransitionPropsValidators:Mr,Comment:Jo,DeprecationTypes:null,EffectScope:Ce,ErrorCodes:{SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},ErrorTypeStrings:Zs,Fragment:Ko,KeepAlive:ni,ReactiveEffect:Pe,Static:Qo,Suspense:Wo,Teleport:br,Text:Zo,TrackOpTypes:{GET:"get",HAS:"has",ITERATE:"iterate"},Transition:da,TransitionGroup:cl,TriggerOpTypes:{SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},VueElement:tl,assertNumber:function(e,t){},callWithAsyncErrorHandling:An,callWithErrorHandling:Tn,camelize:R,capitalize:P,cloneVNode:gs,compatUtils:null,computed:Gs,createApp:zl,createBlock:ls,createCommentVNode:_s,createElementBlock:as,createElementVNode:ds,createHydrationRenderer:ko,createPropsRestProxy:function(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n},createRenderer:Io,createSSRApp:Vl,createSlots:function(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(h(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e},createStaticVNode:ys,createTextVNode:vs,createVNode:ps,customRef:un,defineAsyncComponent:function(e){g(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:o,timeout:s,suspensible:a=!0,onError:l}=e;let c,u=null,h=0;const f=()=>{let e;return u||(e=u=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise((t,n)=>{l(e,()=>t((h++,u=null,f())),()=>n(e),h+1)});throw e}).then(t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t)))};return Fr({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(e,t,n){let r=!1;(t.bu||(t.bu=[])).push(()=>r=!0);const i=()=>{r||n()},s=o?()=>{const n=o(i,t=>function(e,t){if(qr(e)&&"["===e.data){let n=1,r=e.nextSibling;for(;r;){if(1===r.nodeType){if(!1===t(r))break}else if(qr(r))if("]"===r.data){if(0===--n)break}else"["===r.data&&n++;r=r.nextSibling}}else t(e)}(e,t));n&&(t.bum||(t.bum=[])).push(n)}:i;c?s():f().then(()=>!t.isUnmounted&&s())},get __asyncResolved(){return c},setup(){const e=Cs;if(Br(e),c)return()=>ei(c,e);const t=t=>{u=null,Mn(t,e,13,!r)};if(a&&e.suspense||Fs)return f().then(t=>()=>ei(t,e)).catch(e=>(t(e),()=>r?ps(r,{error:e}):null));const o=en(!1),l=en(),h=en(!!i);return i&&setTimeout(()=>{h.value=!1},i),null!=s&&setTimeout(()=>{if(!o.value&&!l.value){const e=new Error(`Async component timed out after ${s}ms.`);t(e),l.value=e}},s),f().then(()=>{o.value=!0,e.parent&&ti(e.parent.vnode)&&e.parent.update()}).catch(e=>{t(e),l.value=e}),()=>o.value&&c?ei(c,e):l.value&&r?ps(r,{error:l.value}):n&&!h.value?ei(n,e):void 0}})},defineComponent:Fr,defineCustomElement:Qa,defineEmits:function(){return null},defineExpose:function(e){},defineModel:function(){},defineOptions:function(e){},defineProps:function(){return null},defineSSRCustomElement:(e,t)=>Qa(e,t,Vl),defineSlots:function(){return null},devtools:Js,effect:function(e,t){e.effect instanceof Pe&&(e=e.effect.fn);const n=new Pe(e);t&&a(n,t);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r},effectScope:Oe,getCurrentInstance:Os,getCurrentScope:Re,getCurrentWatcher:function(){return bn},getTransitionRawChildren:Lr,guardReactiveProps:ms,h:qs,handleError:Mn,hasInjectionContext:tr,hydrate:(...e)=>{Ul().hydrate(...e)},hydrateOnIdle:(e=1e4)=>t=>{const n=Zr(t,{timeout:e});return()=>Jr(n)},hydrateOnInteraction:(e=[])=>(t,n)=>{v(e)&&(e=[e]);let r=!1;const i=e=>{r||(r=!0,o(),t(),e.target.dispatchEvent(new e.constructor(e.type,e)))},o=()=>{n(t=>{for(const n of e)t.removeEventListener(n,i)})};return n(t=>{for(const n of e)t.addEventListener(n,i,{once:!0})}),o},hydrateOnMediaQuery:e=>t=>{if(e){const n=matchMedia(e);if(!n.matches)return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t);t()}},hydrateOnVisible:e=>(t,n)=>{const r=new IntersectionObserver(e=>{for(const n of e)if(n.isIntersecting){r.disconnect(),t();break}},e);return n(e=>{if(e instanceof Element)return function(e){const{top:t,left:n,bottom:r,right:i}=e.getBoundingClientRect(),{innerHeight:o,innerWidth:s}=window;return(t>0&&t<o||r>0&&r<o)&&(n>0&&n<s||i>0&&i<s)}(e)?(t(),r.disconnect(),!1):void r.observe(e)}),()=>r.disconnect()},initCustomFormatter:function(){},initDirectivesForSSR:()=>{Wl||(Wl=!0,yl.getSSRProps=({value:e})=>({value:e}),xl.getSSRProps=({value:e},t)=>{if(t.props&&ye(t.props.value,e))return{checked:!0}},_l.getSSRProps=({value:e},t)=>{if(h(e)){if(t.props&&_e(e,t.props.value)>-1)return{checked:!0}}else if(d(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Al.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=Ml(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0},Oa.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})},inject:er,isMemoSame:Xs,isProxy:Xt,isReactive:Gt,isReadonly:qt,isRef:Qt,isRuntimeOnly:()=>!Ds,isShallow:$t,isVNode:cs,markRaw:Kt,mergeDefaults:zi,mergeModels:Vi,mergeProps:Ss,nextTick:Dn,nodeOps:sa,normalizeClass:ee,normalizeProps:te,normalizeStyle:Y,onActivated:ii,onBeforeMount:fi,onBeforeUnmount:gi,onBeforeUpdate:pi,onDeactivated:oi,onErrorCaptured:xi,onMounted:di,onRenderTracked:bi,onRenderTriggered:_i,onScopeDispose:Ie,onServerPrefetch:yi,onUnmounted:vi,onUpdated:mi,onWatcherCleanup:xn,openBlock:ns,patchProp:Za,popScopeId:Yn,provide:Qn,proxyRefs:ln,pushScopeId:Xn,queuePostFlushCb:Un,reactive:zt,readonly:jt,ref:en,registerRuntimeCompiler:function(e){Ds=e,Ls=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Li))}},render:Bl,renderList:Oi,renderSlot:Ri,resolveComponent:Si,resolveDirective:Ai,resolveDynamicComponent:Ti,resolveFilter:null,resolveTransitionHooks:kr,setBlockTracking:os,setDevtoolsHook:Qs,setTransitionHooks:Dr,shallowReactive:Vt,shallowReadonly:Ht,shallowRef:tn,ssrContextKey:nr,ssrUtils:ea,stop:function(e){e.effect.stop()},toDisplayString:xe,toHandlerKey:N,toHandlers:function(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:N(r)]=e[r];return n},toRaw:Yt,toRef:pn,toRefs:hn,toValue:sn,transformVNodeArgs:function(e){},triggerRef:function(e){e.dep&&e.dep.trigger()},unref:on,useAttrs:function(){return Ui().attrs},useCssModule:function(e="$style"){{const n=Os();if(!n)return t;const r=n.type.__cssModules;if(!r)return t;const i=r[e];return i||t}},useCssVars:ka,useHost:nl,useId:Ur,useModel:io,useSSRContext:rr,useShadowRoot:function(){const e=nl();return e&&e.shadowRoot},useSlots:Fi,useTemplateRef:function(e){const n=Os(),r=tn(null);if(n){const i=n.refs===t?n.refs={}:n.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>r.value,set:e=>r.value=e})}return r},useTransitionState:Tr,vModelCheckbox:_l,vModelDynamic:Al,vModelRadio:xl,vModelSelect:wl,vModelText:yl,vShow:Oa,version:Ys,warn:Ks,watch:ar,watchEffect:ir,watchPostEffect:or,watchSyncEffect:sr,withAsyncContext:function(e){const t=Os();let n=e();return Ps(),b(n)&&(n=n.catch(e=>{throw ks(t),e})),[n,()=>ks(t)]},withCtx:Kn,withDefaults:function(e,t){return null},withDirectives:Zn,withKeys:Pl,withMemo:$s,withModifiers:Il,withScopeId:e=>Kn},Symbol.toStringTag,{value:"Module"}));let ql;const $l=e=>ql=e,Xl=Symbol();function Yl(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var Kl,Zl;function Jl(){const e=Oe(!0),t=e.run(()=>en({}));let n=[],r=[];const i=Kt({install(e){$l(i),i._a=e,e.provide(Xl,i),e.config.globalProperties.$pinia=i,r.forEach(e=>n.push(e)),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}(Zl=Kl||(Kl={})).direct="direct",Zl.patchObject="patch object",Zl.patchFunction="patch function";const Ql=()=>{};function ec(e,t,n,r=Ql){e.add(t);const i=()=>{e.delete(t)&&r()};return!n&&Re()&&Ie(i),i}function tc(e,...t){e.forEach(e=>{e(...t)})}const nc=e=>e(),rc=Symbol(),ic=Symbol();function oc(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];Yl(i)&&Yl(r)&&e.hasOwnProperty(n)&&!Qt(r)&&!Gt(r)?e[n]=oc(i,r):e[n]=r}return e}const sc=Symbol();function ac(e){return!Yl(e)||!Object.prototype.hasOwnProperty.call(e,sc)}const{assign:lc}=Object;function cc(e){return!(!Qt(e)||!e.effect)}function uc(e,t,n={},r,i,o){let s;const a=lc({actions:{}},n),l={deep:!0};let c,u,h,f=new Set,d=new Set;const p=r.state.value[e];let m;function g(t){let n;c=u=!1,"function"==typeof t?(t(r.state.value[e]),n={type:Kl.patchFunction,storeId:e,events:h}):(oc(r.state.value[e],t),n={type:Kl.patchObject,payload:t,storeId:e,events:h});const i=m=Symbol();Dn().then(()=>{m===i&&(c=!0)}),u=!0,tc(f,n,r.state.value[e])}o||p||(r.state.value[e]={});const v=o?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{lc(e,t)})}:Ql;const y=(t,n="")=>{if(rc in t)return t[ic]=n,t;const i=function(){$l(r);const n=Array.from(arguments),o=new Set,s=new Set;let a;tc(d,{args:n,name:i[ic],store:_,after:function(e){o.add(e)},onError:function(e){s.add(e)}});try{a=t.apply(this&&this.$id===e?this:_,n)}catch(l){throw tc(s,l),l}return a instanceof Promise?a.then(e=>(tc(o,e),e)).catch(e=>(tc(s,e),Promise.reject(e))):(tc(o,a),a)};return i[rc]=!0,i[ic]=n,i},_=zt({_p:r,$id:e,$onAction:ec.bind(null,d),$patch:g,$reset:v,$subscribe(t,n={}){const i=ec(f,t,n.detached,()=>o()),o=s.run(()=>ar(()=>r.state.value[e],r=>{("sync"===n.flush?u:c)&&t({storeId:e,type:Kl.direct,events:h},r)},lc({},l,n)));return i},$dispose:function(){s.stop(),f.clear(),d.clear(),r._s.delete(e)}});r._s.set(e,_);const b=(r._a&&r._a.runWithContext||nc)(()=>r._e.run(()=>(s=Oe()).run(()=>t({action:y}))));for(const x in b){const t=b[x];if(Qt(t)&&!cc(t)||Gt(t))o||(p&&ac(t)&&(Qt(t)?t.value=p[x]:oc(t,p[x])),r.state.value[e][x]=t);else if("function"==typeof t){const e=y(t,x);b[x]=e,a.actions[x]=t}}return lc(_,b),lc(Yt(_),b),Object.defineProperty(_,"$state",{get:()=>r.state.value[e],set:e=>{g(t=>{lc(t,e)})}}),r._p.forEach(e=>{lc(_,s.run(()=>e({store:_,app:r._a,pinia:r,options:a})))}),p&&o&&n.hydrate&&n.hydrate(_.$state,p),c=!0,u=!0,_}function hc(e,t,n){let r;const i="function"==typeof t;function o(n,o){const s=tr();(n=n||(s?er(Xl,null):null))&&$l(n),(n=ql)._s.has(e)||(i?uc(e,t,r,n):function(e,t,n){const{state:r,actions:i,getters:o}=t,s=n.state.value[e];let a;a=uc(e,function(){s||(n.state.value[e]=r?r():{});const t=hn(n.state.value[e]);return lc(t,i,Object.keys(o||{}).reduce((t,r)=>(t[r]=Kt(Gs(()=>{$l(n);const t=n._s.get(e);return o[r].call(t,t)})),t),{}))},t,n,0,!0)}(e,r,n));return n._s.get(e)}return r=i?n:t,o.$id=e,o}function fc(e){const t=Yt(e),n={};for(const r in t){const i=t[r];i.effect?n[r]=Gs({get:()=>e[r],set(t){e[r]=t}}):(Qt(i)||Gt(i))&&(n[r]=pn(e,r))}return n}const dc=(e,t)=>{const n=e.storage||sessionStorage,r=e.key||t.$id;if(e.paths){const i=e.paths.reduce((e,n)=>(e[n]=t.$state[n],e),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(t.$state))};var pc=({options:e,store:t})=>{var n,r,i,o;if(null==(n=e.persist)?void 0:n.enabled){const n=[{key:t.$id,storage:sessionStorage}],s=(null==(i=null==(r=e.persist)?void 0:r.strategies)?void 0:i.length)?null==(o=e.persist)?void 0:o.strategies:n;s.forEach(e=>{const n=e.storage||sessionStorage,r=e.key||t.$id,i=n.getItem(r);i&&(t.$patch(JSON.parse(i)),dc(e,t))}),t.$subscribe(()=>{s.forEach(e=>{dc(e,t)})})}};const mc="166",gc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vc=0,yc=1,_c=2,bc=100,xc=101,wc=102,Sc=200,Ec=201,Tc=202,Ac=203,Mc=204,Cc=205,Oc=206,Rc=207,Ic=208,kc=209,Pc=210,Nc=211,Dc=212,Lc=213,Fc=214,Uc="attached",Bc="detached",zc=300,Vc=301,jc=302,Hc=303,Wc=304,Gc=306,qc=1e3,$c=1001,Xc=1002,Yc=1003,Kc=1004,Zc=1005,Jc=1006,Qc=1007,eu=1008,tu=1009,nu=1010,ru=1011,iu=1012,ou=1013,su=1014,au=1015,lu=1016,cu=1017,uu=1018,hu=1020,fu=35902,du=1021,pu=1022,mu=1023,gu=1024,vu=1025,yu=1026,_u=1027,bu=1028,xu=1029,wu=1030,Su=1031,Eu=1033,Tu=33776,Au=33777,Mu=33778,Cu=33779,Ou=35840,Ru=35841,Iu=35842,ku=35843,Pu=36196,Nu=37492,Du=37496,Lu=37808,Fu=37809,Uu=37810,Bu=37811,zu=37812,Vu=37813,ju=37814,Hu=37815,Wu=37816,Gu=37817,qu=37818,$u=37819,Xu=37820,Yu=37821,Ku=36492,Zu=36494,Ju=36495,Qu=36283,eh=36284,th=36285,nh=36286,rh=2300,ih=2301,oh=2302,sh=2400,ah=2401,lh=2402,ch=2500,uh=2501,hh="",fh="srgb",dh="srgb-linear",ph="display-p3",mh="display-p3-linear",gh="linear",vh="srgb",yh="rec709",_h="p3",bh=7680,xh=512,wh=513,Sh=514,Eh=515,Th=516,Ah=517,Mh=518,Ch=519,Oh=35044,Rh="300 es",Ih=2e3,kh=2001;class Ph{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Nh=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Dh=1234567;const Lh=Math.PI/180,Fh=180/Math.PI;function Uh(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Nh[255&e]+Nh[e>>8&255]+Nh[e>>16&255]+Nh[e>>24&255]+"-"+Nh[255&t]+Nh[t>>8&255]+"-"+Nh[t>>16&15|64]+Nh[t>>24&255]+"-"+Nh[63&n|128]+Nh[n>>8&255]+"-"+Nh[n>>16&255]+Nh[n>>24&255]+Nh[255&r]+Nh[r>>8&255]+Nh[r>>16&255]+Nh[r>>24&255]).toLowerCase()}function Bh(e,t,n){return Math.max(t,Math.min(n,e))}function zh(e,t){return(e%t+t)%t}function Vh(e,t,n){return(1-n)*e+n*t}function jh(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Hh(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Wh={DEG2RAD:Lh,RAD2DEG:Fh,generateUUID:Uh,clamp:Bh,euclideanModulo:zh,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:Vh,damp:function(e,t,n,r){return Vh(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(zh(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Dh=e);let t=Dh+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Lh},radToDeg:function(e){return e*Fh},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+r)/2),u=s((t+r)/2),h=o((t-r)/2),f=s((t-r)/2),d=o((r-t)/2),p=s((r-t)/2);switch(i){case"XYX":e.set(a*u,l*h,l*f,a*c);break;case"YZY":e.set(l*f,a*u,l*h,a*c);break;case"ZXZ":e.set(l*h,l*f,a*u,a*c);break;case"XZX":e.set(a*u,l*p,l*d,a*c);break;case"YXY":e.set(l*d,a*u,l*p,a*c);break;case"ZYZ":e.set(l*p,l*d,a*u,a*c)}},normalize:Hh,denormalize:jh};class Gh{constructor(e=0,t=0){Gh.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Bh(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class qh{constructor(e,t,n,r,i,o,s,a,l){qh.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,s,a,l)}set(e,t,n,r,i,o,s,a,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=s,c[3]=t,c[4]=i,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],h=n[2],f=n[5],d=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=o*p+s*v+a*b,i[3]=o*m+s*y+a*x,i[6]=o*g+s*_+a*w,i[1]=l*p+c*v+u*b,i[4]=l*m+c*y+u*x,i[7]=l*g+c*_+u*w,i[2]=h*p+f*v+d*b,i[5]=h*m+f*y+d*x,i[8]=h*g+f*_+d*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*i*c+n*s*a+r*i*l-r*o*a}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=c*o-s*l,h=s*a-c*i,f=l*i-o*a,d=t*u+n*h+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(s*n-r*o)*p,e[3]=h*p,e[4]=(c*t-r*a)*p,e[5]=(r*i-s*t)*p,e[6]=f*p,e[7]=(n*a-l*t)*p,e[8]=(o*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,s){const a=Math.cos(i),l=Math.sin(i);return this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-r*l,r*a,-r*(-l*o+a*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply($h.makeScale(e,t)),this}rotate(e){return this.premultiply($h.makeRotation(-e)),this}translate(e,t){return this.premultiply($h.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const $h=new qh;function Xh(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const Yh={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Kh(e,t){return new Yh[e](t)}function Zh(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Jh(){const e=Zh("canvas");return e.style.display="block",e}const Qh={};function ef(e){e in Qh||(Qh[e]=!0)}const tf=(new qh).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),nf=(new qh).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),rf={[dh]:{transfer:gh,primaries:yh,toReference:e=>e,fromReference:e=>e},[fh]:{transfer:vh,primaries:yh,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[mh]:{transfer:gh,primaries:_h,toReference:e=>e.applyMatrix3(nf),fromReference:e=>e.applyMatrix3(tf)},[ph]:{transfer:vh,primaries:_h,toReference:e=>e.convertSRGBToLinear().applyMatrix3(nf),fromReference:e=>e.applyMatrix3(tf).convertLinearToSRGB()}},of=new Set([dh,mh]),sf={enabled:!0,_workingColorSpace:dh,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!of.has(e))throw new Error(`Unsupported working color space, "${e}".`);this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=rf[t].toReference;return(0,rf[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return rf[e].primaries},getTransfer:function(e){return e===hh?gh:rf[e].transfer}};function af(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function lf(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let cf;class uf{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===cf&&(cf=Zh("canvas")),cf.width=e.width,cf.height=e.height;const n=cf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=cf}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Zh("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*af(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*af(t[e]/255)):t[e]=af(t[e]);return{data:t,width:e.width,height:e.height}}return e}}let hf=0;class ff{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:hf++}),this.uuid=Uh(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(df(r[t].image)):e.push(df(r[t]))}else e=df(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function df(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?uf.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}let pf=0;class mf extends Ph{constructor(e=mf.DEFAULT_IMAGE,t=mf.DEFAULT_MAPPING,n=1001,r=1001,i=1006,o=1008,s=1023,a=1009,l=mf.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:pf++}),this.uuid=Uh(),this.name="",this.source=new ff(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new Gh(0,0),this.repeat=new Gh(1,1),this.center=new Gh(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new qh,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==zc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case qc:e.x=e.x-Math.floor(e.x);break;case $c:e.x=e.x<0?0:1;break;case Xc:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case qc:e.y=e.y-Math.floor(e.y);break;case $c:e.y=e.y<0?0:1;break;case Xc:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}mf.DEFAULT_IMAGE=null,mf.DEFAULT_MAPPING=zc,mf.DEFAULT_ANISOTROPY=1;class gf{constructor(e=0,t=0,n=0,r=1){gf.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,s=.1,a=e.elements,l=a[0],c=a[4],u=a[8],h=a[1],f=a[5],d=a[9],p=a[2],m=a[6],g=a[10];if(Math.abs(c-h)<o&&Math.abs(u-p)<o&&Math.abs(d-m)<o){if(Math.abs(c+h)<s&&Math.abs(u+p)<s&&Math.abs(d+m)<s&&Math.abs(l+f+g-3)<s)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,a=(f+1)/2,v=(g+1)/2,y=(c+h)/4,_=(u+p)/4,b=(d+m)/4;return e>a&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=_/n):a>v?a<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(a),n=y/r,i=b/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=_/i,r=b/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-d)*(m-d)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-d)/v,this.y=(u-p)/v,this.z=(h-c)/v,this.w=Math.acos((l+f+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vf extends Ph{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new gf(0,0,e,t),this.scissorTest=!1,this.viewport=new gf(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jc,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new mf(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let s=0;s<o;s++)this.textures[s]=i.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ff(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class yf extends vf{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class _f extends mf{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Yc,this.minFilter=Yc,this.wrapR=$c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class bf extends mf{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=Yc,this.minFilter=Yc,this.wrapR=$c,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xf{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,s){let a=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(0===s)return e[t+0]=a,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===s)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(u!==p||a!==h||l!==f||c!==d){let e=1-s;const t=a*h+l*f+c*d+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,s=Math.sin(s*o)/i}const i=s*n;if(a=a*e+h*i,l=l*e+f*i,c=c*e+d*i,u=u*e+p*i,e===1-s){const e=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=e,l*=e,c*=e,u*=e}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const s=n[r],a=n[r+1],l=n[r+2],c=n[r+3],u=i[o],h=i[o+1],f=i[o+2],d=i[o+3];return e[t]=s*d+c*u+a*f-l*h,e[t+1]=a*d+c*h+l*u-s*f,e[t+2]=l*d+c*f+s*h-a*u,e[t+3]=c*d-s*u-a*h-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,i=e._z,o=e._order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(r/2),u=s(i/2),h=a(n/2),f=a(r/2),d=a(i/2);switch(o){case"XYZ":this._x=h*c*u+l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u-h*f*d;break;case"YXZ":this._x=h*c*u+l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u+h*f*d;break;case"ZXY":this._x=h*c*u-l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u-h*f*d;break;case"ZYX":this._x=h*c*u-l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u+h*f*d;break;case"YZX":this._x=h*c*u+l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u-h*f*d;break;case"XZY":this._x=h*c*u-l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u+h*f*d}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10],h=n+s+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-a)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>s&&n>u){const e=2*Math.sqrt(1+n-s-u);this._w=(c-a)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(s>u){const e=2*Math.sqrt(1+s-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(a+c)/e}else{const e=2*Math.sqrt(1+u-n-s);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(a+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Bh(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+r*l-i*a,this._y=r*c+o*a+i*s-n*l,this._z=i*c+o*l+n*a-r*s,this._w=o*c-n*s-r*a-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let s=o*e._w+n*e._x+r*e._y+i*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const a=1-s*s;if(a<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class wf{constructor(e=0,t=0,n=0){wf.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Ef.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Ef.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,s=e.z,a=e.w,l=2*(o*r-s*n),c=2*(s*t-i*r),u=2*(i*n-o*t);return this.x=t+a*l+o*u-s*c,this.y=n+a*c+s*l-i*u,this.z=r+a*u+i*c-o*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,s=t.y,a=t.z;return this.x=r*a-i*s,this.y=i*o-n*a,this.z=n*s-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Sf.copy(this).projectOnVector(e),this.sub(Sf)}reflect(e){return this.sub(Sf.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Bh(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Sf=new wf,Ef=new xf;class Tf{constructor(e=new wf(1/0,1/0,1/0),t=new wf(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Mf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Mf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Mf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Mf):Mf.fromBufferAttribute(r,t),Mf.applyMatrix4(e.matrixWorld),this.expandByPoint(Mf);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Cf.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Cf.copy(n.boundingBox)),Cf.applyMatrix4(e.matrixWorld),this.union(Cf)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Mf),Mf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Df),Lf.subVectors(this.max,Df),Of.subVectors(e.a,Df),Rf.subVectors(e.b,Df),If.subVectors(e.c,Df),kf.subVectors(Rf,Of),Pf.subVectors(If,Rf),Nf.subVectors(Of,If);let t=[0,-kf.z,kf.y,0,-Pf.z,Pf.y,0,-Nf.z,Nf.y,kf.z,0,-kf.x,Pf.z,0,-Pf.x,Nf.z,0,-Nf.x,-kf.y,kf.x,0,-Pf.y,Pf.x,0,-Nf.y,Nf.x,0];return!!Bf(t,Of,Rf,If,Lf)&&(t=[1,0,0,0,1,0,0,0,1],!!Bf(t,Of,Rf,If,Lf)&&(Ff.crossVectors(kf,Pf),t=[Ff.x,Ff.y,Ff.z],Bf(t,Of,Rf,If,Lf)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Mf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Mf).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Af[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Af[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Af[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Af[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Af[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Af[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Af[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Af[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Af)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Af=[new wf,new wf,new wf,new wf,new wf,new wf,new wf,new wf],Mf=new wf,Cf=new Tf,Of=new wf,Rf=new wf,If=new wf,kf=new wf,Pf=new wf,Nf=new wf,Df=new wf,Lf=new wf,Ff=new wf,Uf=new wf;function Bf(e,t,n,r,i){for(let o=0,s=e.length-3;o<=s;o+=3){Uf.fromArray(e,o);const s=i.x*Math.abs(Uf.x)+i.y*Math.abs(Uf.y)+i.z*Math.abs(Uf.z),a=t.dot(Uf),l=n.dot(Uf),c=r.dot(Uf);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const zf=new Tf,Vf=new wf,jf=new wf;class Hf{constructor(e=new wf,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):zf.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Vf.subVectors(e,this.center);const t=Vf.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(Vf,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(jf.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Vf.copy(e.center).add(jf)),this.expandByPoint(Vf.copy(e.center).sub(jf))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Wf=new wf,Gf=new wf,qf=new wf,$f=new wf,Xf=new wf,Yf=new wf,Kf=new wf;class Zf{constructor(e=new wf,t=new wf(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Wf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Wf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Wf.copy(this.origin).addScaledVector(this.direction,t),Wf.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){Gf.copy(e).add(t).multiplyScalar(.5),qf.copy(t).sub(e).normalize(),$f.copy(this.origin).sub(Gf);const i=.5*e.distanceTo(t),o=-this.direction.dot(qf),s=$f.dot(this.direction),a=-$f.dot(qf),l=$f.lengthSq(),c=Math.abs(1-o*o);let u,h,f,d;if(c>0)if(u=o*a-s,h=o*s-a,d=i*c,u>=0)if(h>=-d)if(h<=d){const e=1/c;u*=e,h*=e,f=u*(u+o*h+2*s)+h*(o*u+h+2*a)+l}else h=i,u=Math.max(0,-(o*h+s)),f=-u*u+h*(h+2*a)+l;else h=-i,u=Math.max(0,-(o*h+s)),f=-u*u+h*(h+2*a)+l;else h<=-d?(u=Math.max(0,-(-o*i+s)),h=u>0?-i:Math.min(Math.max(-i,-a),i),f=-u*u+h*(h+2*a)+l):h<=d?(u=0,h=Math.min(Math.max(-i,-a),i),f=h*(h+2*a)+l):(u=Math.max(0,-(o*i+s)),h=u>0?i:Math.min(Math.max(-i,-a),i),f=-u*u+h*(h+2*a)+l);else h=o>0?-i:i,u=Math.max(0,-(o*h+s)),f=-u*u+h*(h+2*a)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(Gf).addScaledVector(qf,h),f}intersectSphere(e,t){Wf.subVectors(e.center,this.origin);const n=Wf.dot(this.direction),r=Wf.dot(Wf)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),s=n-o,a=n+o;return a<0?null:s<0?this.at(a,t):this.at(s,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(s=(e.min.z-h.z)*u,a=(e.max.z-h.z)*u):(s=(e.max.z-h.z)*u,a=(e.min.z-h.z)*u),n>a||s>r?null:((s>n||n!=n)&&(n=s),(a<r||r!=r)&&(r=a),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Wf)}intersectTriangle(e,t,n,r,i){Xf.subVectors(t,e),Yf.subVectors(n,e),Kf.crossVectors(Xf,Yf);let o,s=this.direction.dot(Kf);if(s>0){if(r)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}$f.subVectors(this.origin,e);const a=o*this.direction.dot(Yf.crossVectors($f,Yf));if(a<0)return null;const l=o*this.direction.dot(Xf.cross($f));if(l<0)return null;if(a+l>s)return null;const c=-o*$f.dot(Kf);return c<0?null:this.at(c/s,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Jf{constructor(e,t,n,r,i,o,s,a,l,c,u,h,f,d,p,m){Jf.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,s,a,l,c,u,h,f,d,p,m)}set(e,t,n,r,i,o,s,a,l,c,u,h,f,d,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=s,g[13]=a,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Jf).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/Qf.setFromMatrixColumn(e,0).length(),i=1/Qf.setFromMatrixColumn(e,1).length(),o=1/Qf.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=s*c,i=s*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-s*a,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*a}else if("YXZ"===e.order){const e=a*c,n=a*u,r=l*c,i=l*u;t[0]=e+i*s,t[4]=r*s-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-s,t[2]=n*s-r,t[6]=i+e*s,t[10]=o*a}else if("ZXY"===e.order){const e=a*c,n=a*u,r=l*c,i=l*u;t[0]=e-i*s,t[4]=-o*u,t[8]=r+n*s,t[1]=n+r*s,t[5]=o*c,t[9]=i-e*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if("ZYX"===e.order){const e=o*c,n=o*u,r=s*c,i=s*u;t[0]=a*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=a*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=s*a,t[10]=o*a}else if("YZX"===e.order){const e=o*a,n=o*l,r=s*a,i=s*l;t[0]=a*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*a,n=o*l,r=s*a,i=s*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=s*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(td,e,nd)}lookAt(e,t,n){const r=this.elements;return od.subVectors(e,t),0===od.lengthSq()&&(od.z=1),od.normalize(),rd.crossVectors(n,od),0===rd.lengthSq()&&(1===Math.abs(n.z)?od.x+=1e-4:od.z+=1e-4,od.normalize(),rd.crossVectors(n,od)),rd.normalize(),id.crossVectors(od,rd),r[0]=rd.x,r[4]=id.x,r[8]=od.x,r[1]=rd.y,r[5]=id.y,r[9]=od.y,r[2]=rd.z,r[6]=id.z,r[10]=od.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],S=r[8],E=r[12],T=r[1],A=r[5],M=r[9],C=r[13],O=r[2],R=r[6],I=r[10],k=r[14],P=r[3],N=r[7],D=r[11],L=r[15];return i[0]=o*x+s*T+a*O+l*P,i[4]=o*w+s*A+a*R+l*N,i[8]=o*S+s*M+a*I+l*D,i[12]=o*E+s*C+a*k+l*L,i[1]=c*x+u*T+h*O+f*P,i[5]=c*w+u*A+h*R+f*N,i[9]=c*S+u*M+h*I+f*D,i[13]=c*E+u*C+h*k+f*L,i[2]=d*x+p*T+m*O+g*P,i[6]=d*w+p*A+m*R+g*N,i[10]=d*S+p*M+m*I+g*D,i[14]=d*E+p*C+m*k+g*L,i[3]=v*x+y*T+_*O+b*P,i[7]=v*w+y*A+_*R+b*N,i[11]=v*S+y*M+_*I+b*D,i[15]=v*E+y*C+_*k+b*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],u=e[6],h=e[10],f=e[14];return e[3]*(+i*a*u-r*l*u-i*s*h+n*l*h+r*s*f-n*a*f)+e[7]*(+t*a*f-t*l*h+i*o*h-r*o*f+r*l*c-i*a*c)+e[11]*(+t*l*u-t*s*f-i*o*u+n*o*f+i*s*c-n*l*c)+e[15]*(-r*s*c-t*a*u+t*s*h+r*o*u-n*o*h+n*a*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],h=e[10],f=e[11],d=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*h*l+p*a*f-s*m*f-u*a*g+s*h*g,y=d*h*l-c*m*l-d*a*f+o*m*f+c*a*g-o*h*g,_=c*p*l-d*u*l+d*s*f-o*p*f-c*s*g+o*u*g,b=d*u*a-c*p*a-d*s*h+o*p*h+c*s*m-o*u*m,x=t*v+n*y+r*_+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=v*w,e[1]=(p*h*i-u*m*i-p*r*f+n*m*f+u*r*g-n*h*g)*w,e[2]=(s*m*i-p*a*i+p*r*l-n*m*l-s*r*g+n*a*g)*w,e[3]=(u*a*i-s*h*i-u*r*l+n*h*l+s*r*f-n*a*f)*w,e[4]=y*w,e[5]=(c*m*i-d*h*i+d*r*f-t*m*f-c*r*g+t*h*g)*w,e[6]=(d*a*i-o*m*i-d*r*l+t*m*l+o*r*g-t*a*g)*w,e[7]=(o*h*i-c*a*i+c*r*l-t*h*l-o*r*f+t*a*f)*w,e[8]=_*w,e[9]=(d*u*i-c*p*i-d*n*f+t*p*f+c*n*g-t*u*g)*w,e[10]=(o*p*i-d*s*i+d*n*l-t*p*l-o*n*g+t*s*g)*w,e[11]=(c*s*i-o*u*i-c*n*l+t*u*l+o*n*f-t*s*f)*w,e[12]=b*w,e[13]=(c*p*r-d*u*r+d*n*h-t*p*h-c*n*m+t*u*m)*w,e[14]=(d*s*r-o*p*r-d*n*a+t*p*a+o*n*m-t*s*m)*w,e[15]=(o*u*r-c*s*r+c*n*a-t*u*a-o*n*h+t*s*h)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,s=e.y,a=e.z,l=i*o,c=i*s;return this.set(l*o+n,l*s-r*a,l*a+r*s,0,l*s+r*a,c*s+n,c*a-r*o,0,l*a-r*s,c*a+r*o,i*a*a+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,s=t._z,a=t._w,l=i+i,c=o+o,u=s+s,h=i*l,f=i*c,d=i*u,p=o*c,m=o*u,g=s*u,v=a*l,y=a*c,_=a*u,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+g))*b,r[1]=(f+_)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(f-_)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(d+y)*w,r[9]=(m-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=Qf.set(r[0],r[1],r[2]).length();const o=Qf.set(r[4],r[5],r[6]).length(),s=Qf.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ed.copy(this);const a=1/i,l=1/o,c=1/s;return ed.elements[0]*=a,ed.elements[1]*=a,ed.elements[2]*=a,ed.elements[4]*=l,ed.elements[5]*=l,ed.elements[6]*=l,ed.elements[8]*=c,ed.elements[9]*=c,ed.elements[10]*=c,t.setFromRotationMatrix(ed),n.x=i,n.y=o,n.z=s,this}makePerspective(e,t,n,r,i,o,s=2e3){const a=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r);let f,d;if(s===Ih)f=-(o+i)/(o-i),d=-2*o*i/(o-i);else{if(s!==kh)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);f=-o/(o-i),d=-o*i/(o-i)}return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,i,o,s=2e3){const a=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-i),h=(t+e)*l,f=(n+r)*c;let d,p;if(s===Ih)d=(o+i)*u,p=-2*u;else{if(s!==kh)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);d=i*u,p=-1*u}return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=p,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const Qf=new wf,ed=new Jf,td=new wf(0,0,0),nd=new wf(1,1,1),rd=new wf,id=new wf,od=new wf,sd=new Jf,ad=new xf;class ld{constructor(e=0,t=0,n=0,r=ld.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],o=r[4],s=r[8],a=r[1],l=r[5],c=r[9],u=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Bh(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Bh(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(a,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(Bh(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(a,i));break;case"ZYX":this._y=Math.asin(-Bh(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(a,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(Bh(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-Bh(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-c,f),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return sd.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sd,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ad.setFromEuler(this),this.setFromQuaternion(ad,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ld.DEFAULT_ORDER="XYZ";class cd{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let ud=0;const hd=new wf,fd=new xf,dd=new Jf,pd=new wf,md=new wf,gd=new wf,vd=new xf,yd=new wf(1,0,0),_d=new wf(0,1,0),bd=new wf(0,0,1),xd={type:"added"},wd={type:"removed"},Sd={type:"childadded",child:null},Ed={type:"childremoved",child:null};class Td extends Ph{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:ud++}),this.uuid=Uh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Td.DEFAULT_UP.clone();const e=new wf,t=new ld,n=new xf,r=new wf(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Jf},normalMatrix:{value:new qh}}),this.matrix=new Jf,this.matrixWorld=new Jf,this.matrixAutoUpdate=Td.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Td.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new cd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return fd.setFromAxisAngle(e,t),this.quaternion.multiply(fd),this}rotateOnWorldAxis(e,t){return fd.setFromAxisAngle(e,t),this.quaternion.premultiply(fd),this}rotateX(e){return this.rotateOnAxis(yd,e)}rotateY(e){return this.rotateOnAxis(_d,e)}rotateZ(e){return this.rotateOnAxis(bd,e)}translateOnAxis(e,t){return hd.copy(e).applyQuaternion(this.quaternion),this.position.add(hd.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(yd,e)}translateY(e){return this.translateOnAxis(_d,e)}translateZ(e){return this.translateOnAxis(bd,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(dd.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?pd.copy(e):pd.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),md.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?dd.lookAt(md,pd,this.up):dd.lookAt(pd,md,this.up),this.quaternion.setFromRotationMatrix(dd),r&&(dd.extractRotation(r.matrixWorld),fd.setFromRotationMatrix(dd),this.quaternion.premultiply(fd.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this||e&&e.isObject3D&&(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(xd),Sd.child=e,this.dispatchEvent(Sd),Sd.child=null),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(wd),Ed.child=e,this.dispatchEvent(Ed),Ed.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),dd.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),dd.multiply(e.parent.matrixWorld)),e.applyMatrix4(dd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(xd),Sd.child=e,this.dispatchEvent(Sd),Sd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(md,e,gd),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(md,vd,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),s=o(e.images),a=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Td.DEFAULT_UP=new wf(0,1,0),Td.DEFAULT_MATRIX_AUTO_UPDATE=!0,Td.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ad=new wf,Md=new wf,Cd=new wf,Od=new wf,Rd=new wf,Id=new wf,kd=new wf,Pd=new wf,Nd=new wf,Dd=new wf;class Ld{constructor(e=new wf,t=new wf,n=new wf){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Ad.subVectors(e,t),r.cross(Ad);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Ad.subVectors(r,t),Md.subVectors(n,t),Cd.subVectors(e,t);const o=Ad.dot(Ad),s=Ad.dot(Md),a=Ad.dot(Cd),l=Md.dot(Md),c=Md.dot(Cd),u=o*l-s*s;if(0===u)return i.set(0,0,0),null;const h=1/u,f=(l*a-s*c)*h,d=(o*c-s*a)*h;return i.set(1-f-d,d,f)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,Od)&&(Od.x>=0&&Od.y>=0&&Od.x+Od.y<=1)}static getInterpolation(e,t,n,r,i,o,s,a){return null===this.getBarycoord(e,t,n,r,Od)?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(i,Od.x),a.addScaledVector(o,Od.y),a.addScaledVector(s,Od.z),a)}static isFrontFacing(e,t,n,r){return Ad.subVectors(n,t),Md.subVectors(e,t),Ad.cross(Md).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ad.subVectors(this.c,this.b),Md.subVectors(this.a,this.b),.5*Ad.cross(Md).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ld.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ld.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return Ld.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Ld.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ld.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,s;Rd.subVectors(r,n),Id.subVectors(i,n),Pd.subVectors(e,n);const a=Rd.dot(Pd),l=Id.dot(Pd);if(a<=0&&l<=0)return t.copy(n);Nd.subVectors(e,r);const c=Rd.dot(Nd),u=Id.dot(Nd);if(c>=0&&u<=c)return t.copy(r);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(Rd,o);Dd.subVectors(e,i);const f=Rd.dot(Dd),d=Id.dot(Dd);if(d>=0&&f<=d)return t.copy(i);const p=f*l-a*d;if(p<=0&&l>=0&&d<=0)return s=l/(l-d),t.copy(n).addScaledVector(Id,s);const m=c*d-f*u;if(m<=0&&u-c>=0&&f-d>=0)return kd.subVectors(i,r),s=(u-c)/(u-c+(f-d)),t.copy(r).addScaledVector(kd,s);const g=1/(m+p+h);return o=p*g,s=h*g,t.copy(n).addScaledVector(Rd,o).addScaledVector(Id,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Fd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ud={h:0,s:0,l:0},Bd={h:0,s:0,l:0};function zd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class Vd{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=fh){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,sf.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=sf.workingColorSpace){return this.r=e,this.g=t,this.b=n,sf.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=sf.workingColorSpace){if(e=zh(e,1),t=Bh(t,0,1),n=Bh(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=zd(i,r,e+1/3),this.g=zd(i,r,e),this.b=zd(i,r,e-1/3)}return sf.toWorkingColorSpace(this,r),this}setStyle(e,t=fh){function n(e){void 0!==e&&parseFloat(e)}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(e[4]),this.setRGB(Math.min(255,parseInt(e[1],10))/255,Math.min(255,parseInt(e[2],10))/255,Math.min(255,parseInt(e[3],10))/255,t);if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(e[4]),this.setRGB(Math.min(100,parseInt(e[1],10))/100,Math.min(100,parseInt(e[2],10))/100,Math.min(100,parseInt(e[3],10))/100,t);break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(e[4]),this.setHSL(parseFloat(e[1])/360,parseFloat(e[2])/100,parseFloat(e[3])/100,t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.setRGB(parseInt(e.charAt(0),16)/15,parseInt(e.charAt(1),16)/15,parseInt(e.charAt(2),16)/15,t);if(6===n)return this.setHex(parseInt(e,16),t)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=fh){const n=Fd[e.toLowerCase()];return void 0!==n&&this.setHex(n,t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=af(e.r),this.g=af(e.g),this.b=af(e.b),this}copyLinearToSRGB(e){return this.r=lf(e.r),this.g=lf(e.g),this.b=lf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fh){return sf.fromWorkingColorSpace(jd.copy(this),e),65536*Math.round(Bh(255*jd.r,0,255))+256*Math.round(Bh(255*jd.g,0,255))+Math.round(Bh(255*jd.b,0,255))}getHexString(e=fh){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=sf.workingColorSpace){sf.fromWorkingColorSpace(jd.copy(this),t);const n=jd.r,r=jd.g,i=jd.b,o=Math.max(n,r,i),s=Math.min(n,r,i);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const e=o-s;switch(l=c<=.5?e/(o+s):e/(2-o-s),o){case n:a=(r-i)/e+(r<i?6:0);break;case r:a=(i-n)/e+2;break;case i:a=(n-r)/e+4}a/=6}return e.h=a,e.s=l,e.l=c,e}getRGB(e,t=sf.workingColorSpace){return sf.fromWorkingColorSpace(jd.copy(this),t),e.r=jd.r,e.g=jd.g,e.b=jd.b,e}getStyle(e=fh){sf.fromWorkingColorSpace(jd.copy(this),e);const t=jd.r,n=jd.g,r=jd.b;return e!==fh?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*n)},${Math.round(255*r)})`}offsetHSL(e,t,n){return this.getHSL(Ud),this.setHSL(Ud.h+e,Ud.s+t,Ud.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ud),e.getHSL(Bd);const n=Vh(Ud.h,Bd.h,t),r=Vh(Ud.s,Bd.s,t),i=Vh(Ud.l,Bd.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const jd=new Vd;Vd.NAMES=Fd;let Hd=0;class Wd extends Ph{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Hd++}),this.uuid=Uh(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Mc,this.blendDst=Cc,this.blendEquation=bc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Vd(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bh,this.stencilZFail=bh,this.stencilZPass=bh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n)continue;const r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==Mc&&(n.blendSrc=this.blendSrc),this.blendDst!==Cc&&(n.blendDst=this.blendDst),this.blendEquation!==bc&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==bh&&(n.stencilFail=this.stencilFail),this.stencilZFail!==bh&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==bh&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){}onBeforeRender(){}}class Gd extends Wd{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vd(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ld,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const qd=$d();function $d(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;!(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,o[l]=e|t}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function Xd(e){Math.abs(e),e=Bh(e,-65504,65504),qd.floatView[0]=e;const t=qd.uint32View[0],n=t>>23&511;return qd.baseTable[n]+((8388607&t)>>qd.shiftTable[n])}function Yd(e){const t=e>>10;return qd.uint32View[0]=qd.mantissaTable[qd.offsetTable[t]+(1023&e)]+qd.exponentTable[t],qd.floatView[0]}const Kd={toHalfFloat:Xd,fromHalfFloat:Yd},Zd=new wf,Jd=new Gh;class Qd{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Oh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=au,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return ef("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Jd.fromBufferAttribute(this,t),Jd.applyMatrix3(e),this.setXY(t,Jd.x,Jd.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Zd.fromBufferAttribute(this,t),Zd.applyMatrix3(e),this.setXYZ(t,Zd.x,Zd.y,Zd.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Zd.fromBufferAttribute(this,t),Zd.applyMatrix4(e),this.setXYZ(t,Zd.x,Zd.y,Zd.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Zd.fromBufferAttribute(this,t),Zd.applyNormalMatrix(e),this.setXYZ(t,Zd.x,Zd.y,Zd.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Zd.fromBufferAttribute(this,t),Zd.transformDirection(e),this.setXYZ(t,Zd.x,Zd.y,Zd.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=jh(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Hh(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=jh(t,this.array)),t}setX(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=jh(t,this.array)),t}setY(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=jh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=jh(t,this.array)),t}setW(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array),r=Hh(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array),r=Hh(r,this.array),i=Hh(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Oh&&(e.usage=this.usage),e}}class ep extends Qd{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class tp extends Qd{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class np extends Qd{constructor(e,t,n){super(new Float32Array(e),t,n)}}let rp=0;const ip=new Jf,op=new Td,sp=new wf,ap=new Tf,lp=new Tf,cp=new wf;class up extends Ph{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:rp++}),this.uuid=Uh(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Xh(e)?tp:ep)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new qh).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return ip.makeRotationFromQuaternion(e),this.applyMatrix4(ip),this}rotateX(e){return ip.makeRotationX(e),this.applyMatrix4(ip),this}rotateY(e){return ip.makeRotationY(e),this.applyMatrix4(ip),this}rotateZ(e){return ip.makeRotationZ(e),this.applyMatrix4(ip),this}translate(e,t,n){return ip.makeTranslation(e,t,n),this.applyMatrix4(ip),this}scale(e,t,n){return ip.makeScale(e,t,n),this.applyMatrix4(ip),this}lookAt(e){return op.lookAt(e),op.updateMatrix(),this.applyMatrix4(op.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sp).negate(),this.translate(sp.x,sp.y,sp.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new np(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Tf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new wf(-1/0,-1/0,-1/0),new wf(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];ap.setFromBufferAttribute(n),this.morphTargetsRelative?(cp.addVectors(this.boundingBox.min,ap.min),this.boundingBox.expandByPoint(cp),cp.addVectors(this.boundingBox.max,ap.max),this.boundingBox.expandByPoint(cp)):(this.boundingBox.expandByPoint(ap.min),this.boundingBox.expandByPoint(ap.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Hf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new wf,1/0);else if(e){const n=this.boundingSphere.center;if(ap.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];lp.setFromBufferAttribute(n),this.morphTargetsRelative?(cp.addVectors(ap.min,lp.min),ap.expandByPoint(cp),cp.addVectors(ap.max,lp.max),ap.expandByPoint(cp)):(ap.expandByPoint(lp.min),ap.expandByPoint(lp.max))}ap.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)cp.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(cp));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],s=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)cp.fromBufferAttribute(o,t),s&&(sp.fromBufferAttribute(e,t),cp.add(sp)),r=Math.max(r,n.distanceToSquared(cp))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return;const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Qd(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),s=[],a=[];for(let S=0;S<n.count;S++)s[S]=new wf,a[S]=new wf;const l=new wf,c=new wf,u=new wf,h=new Gh,f=new Gh,d=new Gh,p=new wf,m=new wf;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),h.fromBufferAttribute(i,e),f.fromBufferAttribute(i,t),d.fromBufferAttribute(i,r),c.sub(l),u.sub(l),f.sub(h),d.sub(h);const o=1/(f.x*d.y-d.x*f.y);isFinite(o)&&(p.copy(c).multiplyScalar(d.y).addScaledVector(u,-f.y).multiplyScalar(o),m.copy(u).multiplyScalar(f.x).addScaledVector(c,-d.x).multiplyScalar(o),s[e].add(p),s[t].add(p),s[r].add(p),a[e].add(m),a[t].add(m),a[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new wf,_=new wf,b=new wf,x=new wf;function w(e){b.fromBufferAttribute(r,e),x.copy(b);const t=s[e];y.copy(t),y.sub(b.multiplyScalar(b.dot(t))).normalize(),_.crossVectors(x,t);const n=_.dot(a[e])<0?-1:1;o.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)w(e.getX(r+0)),w(e.getX(r+1)),w(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Qd(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new wf,i=new wf,o=new wf,s=new wf,a=new wf,l=new wf,c=new wf,u=new wf;if(e)for(let h=0,f=e.count;h<f;h+=3){const f=e.getX(h+0),d=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,f),i.fromBufferAttribute(t,d),o.fromBufferAttribute(t,p),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),s.fromBufferAttribute(n,f),a.fromBufferAttribute(n,d),l.fromBufferAttribute(n,p),s.add(c),a.add(c),l.add(c),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)cp.fromBufferAttribute(e,t),cp.normalize(),e.setXYZ(t,cp.x,cp.y,cp.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let s=0,a=0;for(let l=0,c=t.length;l<c;l++){s=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[a++]=n[s++]}return new Qd(o,r,i)}if(null===this.index)return this;const t=new up,n=this.index.array,r=this.attributes;for(const s in r){const i=e(r[s],n);t.setAttribute(s,i)}const i=this.morphAttributes;for(const s in i){const r=[],o=i[s];for(let t=0,i=o.length;t<i;t++){const i=e(o[t],n);r.push(i)}t.morphAttributes[s]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const e=o[s];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const t=n[a];e.data.attributes[a]=t.toJSON(e.data)}const r={};let i=!1;for(const a in this.morphAttributes){const t=this.morphAttributes[a],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[a]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const s=e.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=e.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const hp=new Jf,fp=new Zf,dp=new Hf,pp=new wf,mp=new wf,gp=new wf,vp=new wf,yp=new wf,_p=new wf,bp=new Gh,xp=new Gh,wp=new Gh,Sp=new wf,Ep=new wf,Tp=new wf,Ap=new wf,Mp=new wf;class Cp extends Td{constructor(e=new up,t=new Gd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(i&&s){_p.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=s[n],a=i[n];0!==r&&(yp.fromBufferAttribute(a,e),o?_p.addScaledVector(yp,r):_p.addScaledVector(yp.sub(t),r))}t.add(_p)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),dp.copy(n.boundingSphere),dp.applyMatrix4(i),fp.copy(e.ray).recast(e.near),!1===dp.containsPoint(fp.origin)){if(null===fp.intersectSphere(dp,pp))return;if(fp.origin.distanceToSquared(pp)>(e.far-e.near)**2)return}hp.copy(i).invert(),fp.copy(e.ray).applyMatrix4(hp),null!==n.boundingBox&&!1===fp.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,fp)}}_computeIntersections(e,t,n){let r;const i=this.geometry,o=this.material,s=i.index,a=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,h=i.groups,f=i.drawRange;if(null!==s)if(Array.isArray(o))for(let d=0,p=h.length;d<p;d++){const i=h[d],a=o[i.materialIndex];for(let o=Math.max(i.start,f.start),h=Math.min(s.count,Math.min(i.start+i.count,f.start+f.count));o<h;o+=3){r=Op(this,a,e,n,l,c,u,s.getX(o),s.getX(o+1),s.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),a=Math.min(s.count,f.start+f.count);i<a;i+=3){r=Op(this,o,e,n,l,c,u,s.getX(i),s.getX(i+1),s.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==a)if(Array.isArray(o))for(let d=0,p=h.length;d<p;d++){const i=h[d],s=o[i.materialIndex];for(let o=Math.max(i.start,f.start),h=Math.min(a.count,Math.min(i.start+i.count,f.start+f.count));o<h;o+=3){r=Op(this,s,e,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),s=Math.min(a.count,f.start+f.count);i<s;i+=3){r=Op(this,o,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Op(e,t,n,r,i,o,s,a,l,c){e.getVertexPosition(a,mp),e.getVertexPosition(l,gp),e.getVertexPosition(c,vp);const u=function(e,t,n,r,i,o,s,a){let l;if(l=1===t.side?r.intersectTriangle(s,o,i,!0,a):r.intersectTriangle(i,o,s,0===t.side,a),null===l)return null;Mp.copy(a),Mp.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Mp);return c<n.near||c>n.far?null:{distance:c,point:Mp.clone(),object:e}}(e,t,n,r,mp,gp,vp,Ap);if(u){i&&(bp.fromBufferAttribute(i,a),xp.fromBufferAttribute(i,l),wp.fromBufferAttribute(i,c),u.uv=Ld.getInterpolation(Ap,mp,gp,vp,bp,xp,wp,new Gh)),o&&(bp.fromBufferAttribute(o,a),xp.fromBufferAttribute(o,l),wp.fromBufferAttribute(o,c),u.uv1=Ld.getInterpolation(Ap,mp,gp,vp,bp,xp,wp,new Gh)),s&&(Sp.fromBufferAttribute(s,a),Ep.fromBufferAttribute(s,l),Tp.fromBufferAttribute(s,c),u.normal=Ld.getInterpolation(Ap,mp,gp,vp,Sp,Ep,Tp,new wf),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const e={a:a,b:l,c:c,normal:new wf,materialIndex:0};Ld.getNormal(mp,gp,vp,e.normal),u.face=e}return u}class Rp extends up{constructor(e=1,t=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const s=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const a=[],l=[],c=[],u=[];let h=0,f=0;function d(e,t,n,r,i,o,d,p,m,g,v){const y=o/m,_=d/g,b=o/2,x=d/2,w=p/2,S=m+1,E=g+1;let T=0,A=0;const M=new wf;for(let s=0;s<E;s++){const o=s*_-x;for(let a=0;a<S;a++){const h=a*y-b;M[e]=h*r,M[t]=o*i,M[n]=w,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,c.push(M.x,M.y,M.z),u.push(a/m),u.push(1-s/g),T+=1}}for(let s=0;s<g;s++)for(let e=0;e<m;e++){const t=h+e+S*s,n=h+e+S*(s+1),r=h+(e+1)+S*(s+1),i=h+(e+1)+S*s;a.push(t,n,i),a.push(n,r,i),A+=6}s.addGroup(f,A,v),f+=A,h+=T}d("z","y","x",-1,-1,n,t,e,o,i,0),d("z","y","x",1,-1,n,t,-e,o,i,1),d("x","z","y",1,1,e,n,t,r,o,2),d("x","z","y",1,-1,e,n,-t,r,o,3),d("x","y","z",1,-1,e,t,n,r,i,4),d("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(a),this.setAttribute("position",new np(l,3)),this.setAttribute("normal",new np(c,3)),this.setAttribute("uv",new np(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ip(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?t[n][r]=null:t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function kp(e){const t={};for(let n=0;n<e.length;n++){const r=Ip(e[n]);for(const e in r)t[e]=r[e]}return t}function Pp(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:sf.workingColorSpace}const Np={clone:Ip,merge:kp};class Dp extends Wd{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ip(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Lp extends Td{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Jf,this.projectionMatrix=new Jf,this.projectionMatrixInverse=new Jf,this.coordinateSystem=Ih}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Fp=new wf,Up=new Gh,Bp=new Gh;class zp extends Lp{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Fh*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Lh*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Fh*Math.atan(Math.tan(.5*Lh*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Fp.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Fp.x,Fp.y).multiplyScalar(-e/Fp.z),Fp.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Fp.x,Fp.y).multiplyScalar(-e/Fp.z)}getViewSize(e,t){return this.getViewBounds(e,Up,Bp),t.subVectors(Bp,Up)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Lh*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/s,r*=o.width/e,n*=o.height/s}const s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Vp=-90;class jp extends Td{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new zp(Vp,1,e,t);r.layers=this.layers,this.add(r);const i=new zp(Vp,1,e,t);i.layers=this.layers,this.add(i);const o=new zp(Vp,1,e,t);o.layers=this.layers,this.add(o);const s=new zp(Vp,1,e,t);s.layers=this.layers,this.add(s);const a=new zp(Vp,1,e,t);a.layers=this.layers,this.add(a);const l=new zp(Vp,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,o,s,a]=t;for(const l of t)this.remove(l);if(e===Ih)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(e!==kh)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,s,a,l,c]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),d=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,s),e.setRenderTarget(n,3,r),e.render(t,a),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,h,f),e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Hp extends mf{constructor(e,t,n,r,i,o,s,a,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:Vc,n,r,i,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Wp extends yf{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Hp(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Jc}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},r=new Rp(5,5,5),i=new Dp({name:"CubemapFromEquirect",uniforms:Ip(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;const o=new Cp(r,i),s=t.minFilter;t.minFilter===eu&&(t.minFilter=Jc);return new jp(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}const Gp=new wf,qp=new wf,$p=new qh;class Xp{constructor(e=new wf(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=Gp.subVectors(n,t).cross(qp.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(Gp),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||$p.getNormalMatrix(e),r=this.coplanarPoint(Gp).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Yp=new Hf,Kp=new wf;class Zp{constructor(e=new Xp,t=new Xp,n=new Xp,r=new Xp,i=new Xp,o=new Xp){this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(r),s[4].copy(i),s[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){const n=this.planes,r=e.elements,i=r[0],o=r[1],s=r[2],a=r[3],l=r[4],c=r[5],u=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],_=r[15];if(n[0].setComponents(a-i,h-l,m-f,_-g).normalize(),n[1].setComponents(a+i,h+l,m+f,_+g).normalize(),n[2].setComponents(a+o,h+c,m+d,_+v).normalize(),n[3].setComponents(a-o,h-c,m-d,_-v).normalize(),n[4].setComponents(a-s,h-u,m-p,_-y).normalize(),t===Ih)n[5].setComponents(a+s,h+u,m+p,_+y).normalize();else{if(t!==kh)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(s,u,p,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Yp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Yp.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Yp)}intersectsSprite(e){return Yp.center.set(0,0,0),Yp.radius=.7071067811865476,Yp.applyMatrix4(e.matrixWorld),this.intersectsSphere(Yp)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Kp.x=r.normal.x>0?e.max.x:e.min.x,Kp.y=r.normal.y>0?e.max.y:e.min.y,Kp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Kp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Jp(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Qp(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,o=r.byteLength,s=e.createBuffer();let a;if(e.bindBuffer(n,s),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)a=e.FLOAT;else if(r instanceof Uint16Array)a=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)a=e.SHORT;else if(r instanceof Uint32Array)a=e.UNSIGNED_INT;else if(r instanceof Int32Array)a=e.INT;else if(r instanceof Int8Array)a=e.BYTE;else if(r instanceof Uint8Array)a=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);a=e.UNSIGNED_BYTE}return{buffer:s,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:o}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,o=n._updateRange,s=n.updateRanges;if(e.bindBuffer(r,t),-1===o.count&&0===s.length&&e.bufferSubData(r,0,i),0!==s.length){for(let t=0,n=s.length;t<n;t++){const n=s[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}-1!==o.count&&(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count),o.count=-1),n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}class em extends up{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,s=Math.floor(n),a=Math.floor(r),l=s+1,c=a+1,u=e/s,h=t/a,f=[],d=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*h-o;for(let t=0;t<l;t++){const n=t*u-i;d.push(n,-e,0),p.push(0,0,1),m.push(t/s),m.push(1-g/a)}}for(let g=0;g<a;g++)for(let e=0;e<s;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;f.push(t,n,i),f.push(n,r,i)}this.setIndex(f),this.setAttribute("position",new np(d,3)),this.setAttribute("normal",new np(p,3)),this.setAttribute("uv",new np(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new em(e.width,e.height,e.widthSegments,e.heightSegments)}}const tm={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},nm={common:{diffuse:{value:new Vd(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new qh},alphaMap:{value:null},alphaMapTransform:{value:new qh},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new qh}},envmap:{envMap:{value:null},envMapRotation:{value:new qh},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new qh}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new qh}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new qh},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new qh},normalScale:{value:new Gh(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new qh},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new qh}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new qh}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new qh}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vd(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vd(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new qh},alphaTest:{value:0},uvTransform:{value:new qh}},sprite:{diffuse:{value:new Vd(16777215)},opacity:{value:1},center:{value:new Gh(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new qh},alphaMap:{value:null},alphaMapTransform:{value:new qh},alphaTest:{value:0}}},rm={basic:{uniforms:kp([nm.common,nm.specularmap,nm.envmap,nm.aomap,nm.lightmap,nm.fog]),vertexShader:tm.meshbasic_vert,fragmentShader:tm.meshbasic_frag},lambert:{uniforms:kp([nm.common,nm.specularmap,nm.envmap,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.fog,nm.lights,{emissive:{value:new Vd(0)}}]),vertexShader:tm.meshlambert_vert,fragmentShader:tm.meshlambert_frag},phong:{uniforms:kp([nm.common,nm.specularmap,nm.envmap,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.fog,nm.lights,{emissive:{value:new Vd(0)},specular:{value:new Vd(1118481)},shininess:{value:30}}]),vertexShader:tm.meshphong_vert,fragmentShader:tm.meshphong_frag},standard:{uniforms:kp([nm.common,nm.envmap,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.roughnessmap,nm.metalnessmap,nm.fog,nm.lights,{emissive:{value:new Vd(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tm.meshphysical_vert,fragmentShader:tm.meshphysical_frag},toon:{uniforms:kp([nm.common,nm.aomap,nm.lightmap,nm.emissivemap,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.gradientmap,nm.fog,nm.lights,{emissive:{value:new Vd(0)}}]),vertexShader:tm.meshtoon_vert,fragmentShader:tm.meshtoon_frag},matcap:{uniforms:kp([nm.common,nm.bumpmap,nm.normalmap,nm.displacementmap,nm.fog,{matcap:{value:null}}]),vertexShader:tm.meshmatcap_vert,fragmentShader:tm.meshmatcap_frag},points:{uniforms:kp([nm.points,nm.fog]),vertexShader:tm.points_vert,fragmentShader:tm.points_frag},dashed:{uniforms:kp([nm.common,nm.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tm.linedashed_vert,fragmentShader:tm.linedashed_frag},depth:{uniforms:kp([nm.common,nm.displacementmap]),vertexShader:tm.depth_vert,fragmentShader:tm.depth_frag},normal:{uniforms:kp([nm.common,nm.bumpmap,nm.normalmap,nm.displacementmap,{opacity:{value:1}}]),vertexShader:tm.meshnormal_vert,fragmentShader:tm.meshnormal_frag},sprite:{uniforms:kp([nm.sprite,nm.fog]),vertexShader:tm.sprite_vert,fragmentShader:tm.sprite_frag},background:{uniforms:{uvTransform:{value:new qh},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tm.background_vert,fragmentShader:tm.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new qh}},vertexShader:tm.backgroundCube_vert,fragmentShader:tm.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tm.cube_vert,fragmentShader:tm.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tm.equirect_vert,fragmentShader:tm.equirect_frag},distanceRGBA:{uniforms:kp([nm.common,nm.displacementmap,{referencePosition:{value:new wf},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tm.distanceRGBA_vert,fragmentShader:tm.distanceRGBA_frag},shadow:{uniforms:kp([nm.lights,nm.fog,{color:{value:new Vd(0)},opacity:{value:1}}]),vertexShader:tm.shadow_vert,fragmentShader:tm.shadow_frag}};rm.physical={uniforms:kp([rm.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new qh},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new qh},clearcoatNormalScale:{value:new Gh(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new qh},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new qh},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new qh},sheen:{value:0},sheenColor:{value:new Vd(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new qh},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new qh},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new qh},transmissionSamplerSize:{value:new Gh},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new qh},attenuationDistance:{value:0},attenuationColor:{value:new Vd(0)},specularColor:{value:new Vd(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new qh},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new qh},anisotropyVector:{value:new Gh},anisotropyMap:{value:null},anisotropyMapTransform:{value:new qh}}]),vertexShader:tm.meshphysical_vert,fragmentShader:tm.meshphysical_frag};const im={r:0,b:0,g:0},om=new ld,sm=new Jf;function am(e,t,n,r,i,o,s){const a=new Vd(0);let l,c,u=!0===o?0:1,h=null,f=0,d=null;function p(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function m(t,n){t.getRGB(im,Pp(e)),r.buffers.color.setClear(im.r,im.g,im.b,n,s)}return{getClearColor:function(){return a},setClearColor:function(e,t=1){a.set(e),u=t,m(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(a,u)},render:function(t){let n=!1;const i=p(t);null===i?m(a,u):i&&i.isColor&&(m(i,1),n=!0);const o=e.xr.getEnvironmentBlendMode();"additive"===o?r.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===o&&r.buffers.color.setClear(0,0,0,0,s),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===Gc)?(void 0===c&&(c=new Cp(new Rp(1,1,1),new Dp({name:"BackgroundCubeMaterial",uniforms:Ip(rm.backgroundCube.uniforms),vertexShader:rm.backgroundCube.vertexShader,fragmentShader:rm.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),om.copy(n.backgroundRotation),om.x*=-1,om.y*=-1,om.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(om.y*=-1,om.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(sm.makeRotationFromEuler(om)),c.material.toneMapped=sf.getTransfer(r.colorSpace)!==vh,h===r&&f===r.version&&d===e.toneMapping||(c.material.needsUpdate=!0,h=r,f=r.version,d=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new Cp(new em(2,2),new Dp({name:"BackgroundMaterial",uniforms:Ip(rm.background.uniforms),vertexShader:rm.background.vertexShader,fragmentShader:rm.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=sf.getTransfer(r.colorSpace)!==vh,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),h===r&&f===r.version&&d===e.toneMapping||(l.material.needsUpdate=!0,h=r,f=r.version,d=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}}}function lm(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=c(null);let o=i,s=!1;function a(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],i=[];for(let o=0;o<n;o++)t[o]=0,r[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function u(){const e=o.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function h(e){f(e,0)}function f(t,n){const r=o.newAttributes,i=o.enabledAttributes,s=o.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),s[t]!==n&&(e.vertexAttribDivisor(t,n),s[t]=n)}function d(){const t=o.newAttributes,n=o.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,o,s,a){!0===a?e.vertexAttribIPointer(t,n,r,o,s):e.vertexAttribPointer(t,n,r,i,o,s)}function m(){g(),s=!0,o!==i&&(o=i,a(o.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(t,n,i){const o=!0===i.wireframe;let s=r[t.id];void 0===s&&(s={},r[t.id]=s);let a=s[n.id];void 0===a&&(a={},s[n.id]=a);let l=a[o];void 0===l&&(l=c(e.createVertexArray()),a[o]=l);return l}(m,l,i);o!==y&&(o=y,a(o.object)),v=function(e,t,n,r){const i=o.attributes,s=t.attributes;let a=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){const t=i[o];let n=s[o];if(void 0===n&&("instanceMatrix"===o&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;a++}}return o.attributesNum!==a||o.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},s=t.attributes;let a=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){let t=s[o];void 0===t&&("instanceMatrix"===o&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[o]=n,a++}}o.attributes=i,o.attributesNum=a,o.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||s)&&(s=!1,function(n,r,i,o){u();const s=o.attributes,a=i.getAttributes(),l=r.defaultAttributeValues;for(const c in a){const r=a[c];if(r.location>=0){let i=s[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const s=i.normalized,a=i.itemSize,l=t.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,d=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||i.gpuType===ou;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)f(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,a/r.locationSize,u,s,l*d,(g+a/r.locationSize*e)*d,m)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)f(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,a/r.locationSize,u,s,a*d,a/r.locationSize*e*d,m)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}d()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:u,enableAttribute:h,disableUnusedAttributes:d}}function cm(e,t,n){let r;function i(t,i,o){0!==o&&(e.drawArraysInstanced(r,t,i,o),n.update(i,r,o))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,o);let s=0;for(let t=0;t<o;t++)s+=i[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,o,s,a){if(0===s)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],o[t],a[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,o,0,a,0,s);let t=0;for(let e=0;e<s;e++)t+=o[e];for(let e=0;e<a.length;e++)n.update(t,r,a[e])}}}function um(e,t,n,r){let i;function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=void 0!==n.precision?n.precision:"highp";const a=o(s);a!==s&&(s=a);const l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,textureFormatReadable:function(t){return t===mu||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===lu&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==tu&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==au&&!i)},precision:s,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:u>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function hm(e){const t=this;let n=null,r=0,i=!1,o=!1;const s=new Xp,a=new qh,l={value:null,needsUpdate:!1};function c(e,n,r,i){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const t=r+4*o,i=n.matrixWorldInverse;a.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==o;++n,l+=4)s.copy(e[n]).applyMatrix4(i,a),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(s,a,u){const h=s.clippingPlanes,f=s.clipIntersection,d=s.clipShadows,p=e.get(s);if(!i||null===h||0===h.length||o&&!d)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=o?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(h,a,t,u);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=e}}}function fm(e){let t=new WeakMap;function n(e,t){return t===Hc?e.mapping=Vc:t===Wc&&(e.mapping=jc),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping;if(o===Hc||o===Wc){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const s=new Wp(o.height);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class dm extends Lp{constructor(e=-1,t=1,n=1,r=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,s=r+t,a=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,s-=t*this.view.offsetY,a=s-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,s,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const pm=[.125,.215,.35,.446,.526,.582],mm=20,gm=new dm,vm=new Vd;let ym=null,_m=0,bm=0,xm=!1;const wm=(1+Math.sqrt(5))/2,Sm=1/wm,Em=[new wf(-wm,Sm,0),new wf(wm,Sm,0),new wf(-Sm,0,wm),new wf(Sm,0,wm),new wf(0,wm,-Sm),new wf(0,wm,Sm),new wf(-1,1,-1),new wf(1,1,-1),new wf(-1,1,1),new wf(1,1,1)];class Tm{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){ym=this._renderer.getRenderTarget(),_m=this._renderer.getActiveCubeFace(),bm=this._renderer.getActiveMipmapLevel(),xm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Om(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Cm(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ym,_m,bm),this._renderer.xr.enabled=xm,e.scissorTest=!1,Mm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Vc||e.mapping===jc?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),ym=this._renderer.getRenderTarget(),_m=this._renderer.getActiveCubeFace(),bm=this._renderer.getActiveMipmapLevel(),xm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Jc,minFilter:Jc,generateMipmaps:!1,type:lu,format:mu,colorSpace:dh,depthBuffer:!1},r=Am(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Am(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const o=e-4+1+pm.length;for(let s=0;s<o;s++){const o=Math.pow(2,i);n.push(o);let a=1/o;s>e-4?a=pm[s-e+4-1]:0===s&&(a=0),r.push(a);const l=1/(o-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],f=6,d=6,p=3,m=2,g=1,v=new Float32Array(p*d*f),y=new Float32Array(m*d*f),_=new Float32Array(g*d*f);for(let e=0;e<f;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*d*e),y.set(h,m*d*e);const i=[e,e,e,e,e,e];_.set(i,g*d*e)}const b=new up;b.setAttribute("position",new Qd(v,p)),b.setAttribute("uv",new Qd(y,m)),b.setAttribute("faceIndex",new Qd(_,g)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(mm),i=new wf(0,1,0),o=new Dp({name:"SphericalGaussianBlur",defines:{n:mm,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Rm(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return o}(r,e,t)}return r}_compileMaterial(e){const t=new Cp(this._lodPlanes[0],e);this._renderer.compile(t,gm)}_sceneToCubeUV(e,t,n,r){const i=new zp(90,1,t,n),o=[1,-1,1,1,1,1],s=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,c=a.toneMapping;a.getClearColor(vm),a.toneMapping=0,a.autoClear=!1;const u=new Gd({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new Cp(new Rp,u);let f=!1;const d=e.background;d?d.isColor&&(u.color.copy(d),e.background=null,f=!0):(u.color.copy(vm),f=!0);for(let p=0;p<6;p++){const t=p%3;0===t?(i.up.set(0,o[p],0),i.lookAt(s[p],0,0)):1===t?(i.up.set(0,0,o[p]),i.lookAt(0,s[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,s[p]));const n=this._cubeSize;Mm(r,t*n,p>2?n:0,n,n),a.setRenderTarget(r),f&&a.render(h,i),a.render(e,i)}h.geometry.dispose(),h.material.dispose(),a.toneMapping=c,a.autoClear=l,e.background=d}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===Vc||e.mapping===jc;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Om()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Cm());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new Cp(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const s=this._cubeSize;Mm(t,0,0,3*s,2*s),n.setRenderTarget(t),n.render(o,gm)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Em[(r-i-1)%Em.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,s){const a=this._renderer,l=this._blurMaterial,c=new Cp(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,d=i/f,p=isFinite(i)?1+Math.floor(3*d):mm,m=[];let g=0;for(let _=0;_<mm;++_){const e=_/d,t=Math.exp(-e*e/2);m.push(t),0===_?g+=t:_<p&&(g+=2*t)}for(let _=0;_<m.length;_++)m[_]=m[_]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===o,s&&(u.poleAxis.value=s);const{_lodMax:v}=this;u.dTheta.value=f,u.mipInt.value=v-n;const y=this._sizeLods[r];Mm(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),a.setRenderTarget(t),a.render(c,gm)}}function Am(e,t,n){const r=new yf(e,t,n);return r.texture.mapping=Gc,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Mm(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Cm(){return new Dp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Rm(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Om(){return new Dp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Rm(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Rm(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Im(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,s=o===Hc||o===Wc,a=o===Vc||o===jc;if(s||a){let o=t.get(i);const l=void 0!==o?o.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new Tm(e)),o=s?n.fromEquirectangular(i,o):n.fromCubemap(i,o),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),o.texture;if(void 0!==o)return o.texture;{const l=i.image;return s&&l&&l.height>0||a&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new Tm(e)),o=s?n.fromEquirectangular(i):n.fromCubemap(i),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),i.addEventListener("dispose",r),o.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function km(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&ef("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Pm(e,t,n,r){const i={},o=new WeakMap;function s(e){const a=e.target;null!==a.index&&t.remove(a.index);for(const n in a.attributes)t.remove(a.attributes[n]);for(const n in a.morphAttributes){const e=a.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}a.removeEventListener("dispose",s),delete i[a.id];const l=o.get(a);l&&(t.remove(l),o.delete(a)),r.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,n.memory.geometries--}function a(e){const n=[],r=e.index,i=e.attributes.position;let s=0;if(null!==r){const e=r.array;s=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{if(void 0===i)return;{const e=i.array;s=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const a=new(Xh(n)?tp:ep)(n,1);a.version=s;const l=o.get(e);l&&t.remove(l),o.set(e,a)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",s),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const o in r)t.update(r[o],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const o in i){const n=i[o];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&a(e)}else a(e);return o.get(e)}}}function Nm(e,t,n){let r,i,o;function s(t,s,a){0!==a&&(e.drawElementsInstanced(r,s,i,t*o,a),n.update(s,r,a))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,s){e.drawElements(r,s,i,t*o),n.update(s,r,1)},this.renderInstances=s,this.renderMultiDraw=function(e,o,s){if(0===s)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,o,0,i,e,0,s);let a=0;for(let t=0;t<s;t++)a+=o[t];n.update(a,r,1)},this.renderMultiDrawInstances=function(e,a,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)s(e[t]/o,a[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,a,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=a[e];for(let e=0;e<c.length;e++)n.update(t,r,c[e])}}}function Dm(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n}}}}function Lm(e,t,n){const r=new WeakMap,i=new gf;return{update:function(o,s,a){const l=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=void 0!==c?c.length:0;let h=r.get(s);if(void 0===h||h.count!==u){let e=function(){v.dispose(),r.delete(s),s.removeEventListener("dispose",e)};void 0!==h&&h.texture.dispose();const n=void 0!==s.morphAttributes.position,o=void 0!==s.morphAttributes.normal,a=void 0!==s.morphAttributes.color,l=s.morphAttributes.position||[],c=s.morphAttributes.normal||[],f=s.morphAttributes.color||[];let d=0;!0===n&&(d=1),!0===o&&(d=2),!0===a&&(d=3);let p=s.attributes.position.count*d,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const g=new Float32Array(p*m*4*u),v=new _f(g,p,m,u);v.type=au,v.needsUpdate=!0;const y=4*d;for(let t=0;t<u;t++){const e=l[t],r=c[t],s=f[t],u=p*m*4*t;for(let t=0;t<e.count;t++){const l=t*y;!0===n&&(i.fromBufferAttribute(e,t),g[u+l+0]=i.x,g[u+l+1]=i.y,g[u+l+2]=i.z,g[u+l+3]=0),!0===o&&(i.fromBufferAttribute(r,t),g[u+l+4]=i.x,g[u+l+5]=i.y,g[u+l+6]=i.z,g[u+l+7]=0),!0===a&&(i.fromBufferAttribute(s,t),g[u+l+8]=i.x,g[u+l+9]=i.y,g[u+l+10]=i.z,g[u+l+11]=4===s.itemSize?i.w:1)}}h={count:u,texture:v,size:new Gh(p,m)},r.set(s,h),s.addEventListener("dispose",e)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)a.getUniforms().setValue(e,"morphTexture",o.morphTexture,n);else{let t=0;for(let e=0;e<l.length;e++)t+=l[e];const n=s.morphTargetsRelative?1:1-t;a.getUniforms().setValue(e,"morphTargetBaseInfluence",n),a.getUniforms().setValue(e,"morphTargetInfluences",l)}a.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),a.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}}}function Fm(e,t,n,r){let i=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(s){const a=r.render.frame,l=s.geometry,c=t.get(s,l);if(i.get(c)!==a&&(t.update(c),i.set(c,a)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",o)&&s.addEventListener("dispose",o),i.get(s)!==a&&(n.update(s.instanceMatrix,e.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,e.ARRAY_BUFFER),i.set(s,a))),s.isSkinnedMesh){const e=s.skeleton;i.get(e)!==a&&(e.update(),i.set(e,a))}return c},dispose:function(){i=new WeakMap}}}class Um extends mf{constructor(e,t,n,r,i,o,s,a,l,c=1026){if(c!==yu&&c!==_u)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===yu&&(n=su),void 0===n&&c===_u&&(n=hu),super(null,r,i,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==s?s:Yc,this.minFilter=void 0!==a?a:Yc,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const Bm=new mf,zm=new Um(1,1),Vm=new _f,jm=new bf,Hm=new Hp,Wm=[],Gm=[],qm=new Float32Array(16),$m=new Float32Array(9),Xm=new Float32Array(4);function Ym(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=Wm[i];if(void 0===o&&(o=new Float32Array(i),Wm[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function Km(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Zm(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Jm(e,t){let n=Gm[t];void 0===n&&(n=new Int32Array(t),Gm[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Qm(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function eg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Km(n,t))return;e.uniform2fv(this.addr,t),Zm(n,t)}}function tg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Km(n,t))return;e.uniform3fv(this.addr,t),Zm(n,t)}}function ng(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Km(n,t))return;e.uniform4fv(this.addr,t),Zm(n,t)}}function rg(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Km(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Zm(n,t)}else{if(Km(n,r))return;Xm.set(r),e.uniformMatrix2fv(this.addr,!1,Xm),Zm(n,r)}}function ig(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Km(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Zm(n,t)}else{if(Km(n,r))return;$m.set(r),e.uniformMatrix3fv(this.addr,!1,$m),Zm(n,r)}}function og(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Km(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Zm(n,t)}else{if(Km(n,r))return;qm.set(r),e.uniformMatrix4fv(this.addr,!1,qm),Zm(n,r)}}function sg(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ag(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Km(n,t))return;e.uniform2iv(this.addr,t),Zm(n,t)}}function lg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Km(n,t))return;e.uniform3iv(this.addr,t),Zm(n,t)}}function cg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Km(n,t))return;e.uniform4iv(this.addr,t),Zm(n,t)}}function ug(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function hg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Km(n,t))return;e.uniform2uiv(this.addr,t),Zm(n,t)}}function fg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Km(n,t))return;e.uniform3uiv(this.addr,t),Zm(n,t)}}function dg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Km(n,t))return;e.uniform4uiv(this.addr,t),Zm(n,t)}}function pg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let o;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(zm.compareFunction=515,o=zm):o=Bm,n.setTexture2D(t||o,i)}function mg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||jm,i)}function gg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Hm,i)}function vg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Vm,i)}function yg(e,t){e.uniform1fv(this.addr,t)}function _g(e,t){const n=Ym(t,this.size,2);e.uniform2fv(this.addr,n)}function bg(e,t){const n=Ym(t,this.size,3);e.uniform3fv(this.addr,n)}function xg(e,t){const n=Ym(t,this.size,4);e.uniform4fv(this.addr,n)}function wg(e,t){const n=Ym(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Sg(e,t){const n=Ym(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Eg(e,t){const n=Ym(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Tg(e,t){e.uniform1iv(this.addr,t)}function Ag(e,t){e.uniform2iv(this.addr,t)}function Mg(e,t){e.uniform3iv(this.addr,t)}function Cg(e,t){e.uniform4iv(this.addr,t)}function Og(e,t){e.uniform1uiv(this.addr,t)}function Rg(e,t){e.uniform2uiv(this.addr,t)}function Ig(e,t){e.uniform3uiv(this.addr,t)}function kg(e,t){e.uniform4uiv(this.addr,t)}function Pg(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Km(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let s=0;s!==i;++s)n.setTexture2D(t[s]||Bm,o[s])}function Ng(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Km(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let s=0;s!==i;++s)n.setTexture3D(t[s]||jm,o[s])}function Dg(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Km(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let s=0;s!==i;++s)n.setTextureCube(t[s]||Hm,o[s])}function Lg(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);Km(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(t[s]||Vm,o[s])}class Fg{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return Qm;case 35664:return eg;case 35665:return tg;case 35666:return ng;case 35674:return rg;case 35675:return ig;case 35676:return og;case 5124:case 35670:return sg;case 35667:case 35671:return ag;case 35668:case 35672:return lg;case 35669:case 35673:return cg;case 5125:return ug;case 36294:return hg;case 36295:return fg;case 36296:return dg;case 35678:case 36198:case 36298:case 36306:case 35682:return pg;case 35679:case 36299:case 36307:return mg;case 35680:case 36300:case 36308:case 36293:return gg;case 36289:case 36303:case 36311:case 36292:return vg}}(t.type)}}class Ug{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return yg;case 35664:return _g;case 35665:return bg;case 35666:return xg;case 35674:return wg;case 35675:return Sg;case 35676:return Eg;case 5124:case 35670:return Tg;case 35667:case 35671:return Ag;case 35668:case 35672:return Mg;case 35669:case 35673:return Cg;case 5125:return Og;case 36294:return Rg;case 36295:return Ig;case 36296:return kg;case 35678:case 36198:case 36298:case 36306:case 35682:return Pg;case 35679:case 36299:case 36307:return Ng;case 35680:case 36300:case 36308:case 36293:return Dg;case 36289:case 36303:case 36311:case 36292:return Lg}}(t.type)}}class Bg{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const zg=/(\w+)(\])?(\[|\.)?/g;function Vg(e,t){e.seq.push(t),e.map[t.id]=t}function jg(e,t,n){const r=e.name,i=r.length;for(zg.lastIndex=0;;){const o=zg.exec(r),s=zg.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===i){Vg(n,void 0===c?new Fg(a,e,t):new Ug(a,e,t));break}{let e=n.map[a];void 0===e&&(e=new Bg(a),Vg(n,e)),n=e}}}class Hg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);jg(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Wg(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let Gg=0;function qg(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let s=i;s<o;s++){const e=s+1;r.push(`${e===t?">":" "} ${e}: ${n[s]}`)}return r.join("\n")}(e.getShaderSource(t),r)}return i}function $g(e,t){const n=function(e){const t=sf.getPrimaries(sf.workingColorSpace),n=sf.getPrimaries(e);let r;switch(t===n?r="":t===_h&&n===yh?r="LinearDisplayP3ToLinearSRGB":t===yh&&n===_h&&(r="LinearSRGBToLinearDisplayP3"),e){case dh:case mh:return[r,"LinearTransferOETF"];case fh:case ph:return[r,"sRGBTransferOETF"];default:return[r,"LinearTransferOETF"]}}(t);return`vec4 ${e}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Xg(e,t){let n;switch(t){case 1:default:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Yg(e){return""!==e}function Kg(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Zg(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Jg=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qg(e){return e.replace(Jg,tv)}const ev=new Map;function tv(e,t){let n=tm[t];if(void 0===n){const e=ev.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=tm[e]}return Qg(n)}const nv=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rv(e){return e.replace(nv,iv)}function iv(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function ov(e){let t=`precision ${e.precision} float;\n\tprecision ${e.precision} int;\n\tprecision ${e.precision} sampler2D;\n\tprecision ${e.precision} samplerCube;\n\tprecision ${e.precision} sampler3D;\n\tprecision ${e.precision} sampler2DArray;\n\tprecision ${e.precision} sampler2DShadow;\n\tprecision ${e.precision} samplerCubeShadow;\n\tprecision ${e.precision} sampler2DArrayShadow;\n\tprecision ${e.precision} isampler2D;\n\tprecision ${e.precision} isampler3D;\n\tprecision ${e.precision} isamplerCube;\n\tprecision ${e.precision} isampler2DArray;\n\tprecision ${e.precision} usampler2D;\n\tprecision ${e.precision} usampler3D;\n\tprecision ${e.precision} usamplerCube;\n\tprecision ${e.precision} usampler2DArray;\n\t`;return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function sv(e,t,n,r){const i=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Vc:case jc:t="ENVMAP_TYPE_CUBE";break;case Gc:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===jc&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),f=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),d=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Yg).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Yg).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Yg).join("\n"),v.length>0&&(v+="\n")):(g=[ov(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Yg).join("\n"),v=[ov(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?tm.tonemapping_pars_fragment:"",0!==n.toneMapping?Xg("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",tm.colorspace_pars_fragment,$g("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Yg).join("\n")),s=Qg(s),s=Kg(s,n),s=Zg(s,n),a=Qg(a),a=Kg(a,n),a=Zg(a,n),s=rv(s),a=rv(a),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[d,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Rh?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Rh?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const _=y+g+s,b=y+v+a,x=Wg(i,i.VERTEX_SHADER,_),w=Wg(i,i.FRAGMENT_SHADER,b);function S(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(m).trim(),r=i.getShaderInfoLog(x).trim(),o=i.getShaderInfoLog(w).trim();let s=!0,a=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(s=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(i,m,x,w);else{qg(i,x,"vertex"),qg(i,w,"fragment")}else""!==n||""!==r&&""!==o||(a=!1);a&&(t.diagnostics={runnable:s,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:o,prefix:v}})}i.deleteShader(x),i.deleteShader(w),E=new Hg(i,m),T=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let s=1;r.type===e.FLOAT_MAT2&&(s=2),r.type===e.FLOAT_MAT3&&(s=3),r.type===e.FLOAT_MAT4&&(s=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(i,m)}let E,T;i.attachShader(m,x),i.attachShader(m,w),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===E&&S(this),E},this.getAttributes=function(){return void 0===T&&S(this),T};let A=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===A&&(A=i.getProgramParameter(m,37297)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Gg++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}let av=0;class lv{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new cv(e),t.set(e,n)),n}}class cv{constructor(e){this.id=av++,this.code=e,this.usedTimes=0}}function uv(e,t,n,r,i,o,s){const a=new cd,l=new lv,c=new Set,u=[],h=i.logarithmicDepthBuffer,f=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return c.add(e),0===e?"uv":`uv${e}`}return{getParameters:function(o,a,u,g,v){const y=g.fog,_=v.geometry,b=o.isMeshStandardMaterial?g.environment:null,x=(o.isMeshStandardMaterial?n:t).get(o.envMap||b),w=x&&x.mapping===Gc?x.image.height:null,S=p[o.type];null!==o.precision&&(d=i.getMaxPrecision(o.precision),o.precision);const E=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,T=void 0!==E?E.length:0;let A,M,C,O,R=0;if(void 0!==_.morphAttributes.position&&(R=1),void 0!==_.morphAttributes.normal&&(R=2),void 0!==_.morphAttributes.color&&(R=3),S){const e=rm[S];A=e.vertexShader,M=e.fragmentShader}else A=o.vertexShader,M=o.fragmentShader,l.update(o),C=l.getVertexShaderID(o),O=l.getFragmentShaderID(o);const I=e.getRenderTarget(),k=!0===v.isInstancedMesh,P=!0===v.isBatchedMesh,N=!!o.map,D=!!o.matcap,L=!!x,F=!!o.aoMap,U=!!o.lightMap,B=!!o.bumpMap,z=!!o.normalMap,V=!!o.displacementMap,j=!!o.emissiveMap,H=!!o.metalnessMap,W=!!o.roughnessMap,G=o.anisotropy>0,q=o.clearcoat>0,$=o.dispersion>0,X=o.iridescence>0,Y=o.sheen>0,K=o.transmission>0,Z=G&&!!o.anisotropyMap,J=q&&!!o.clearcoatMap,Q=q&&!!o.clearcoatNormalMap,ee=q&&!!o.clearcoatRoughnessMap,te=X&&!!o.iridescenceMap,ne=X&&!!o.iridescenceThicknessMap,re=Y&&!!o.sheenColorMap,ie=Y&&!!o.sheenRoughnessMap,oe=!!o.specularMap,se=!!o.specularColorMap,ae=!!o.specularIntensityMap,le=K&&!!o.transmissionMap,ce=K&&!!o.thicknessMap,ue=!!o.gradientMap,he=!!o.alphaMap,fe=o.alphaTest>0,de=!!o.alphaHash,pe=!!o.extensions;let me=0;o.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(me=e.toneMapping));const ge={shaderID:S,shaderType:o.type,shaderName:o.name,vertexShader:A,fragmentShader:M,defines:o.defines,customVertexShaderID:C,customFragmentShaderID:O,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:d,batching:P,batchingColor:P&&null!==v._colorsTexture,instancing:k,instancingColor:k&&null!==v.instanceColor,instancingMorph:k&&null!==v.morphTexture,supportsVertexTextures:f,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:dh,alphaToCoverage:!!o.alphaToCoverage,map:N,matcap:D,envMap:L,envMapMode:L&&x.mapping,envMapCubeUVHeight:w,aoMap:F,lightMap:U,bumpMap:B,normalMap:z,displacementMap:f&&V,emissiveMap:j,normalMapObjectSpace:z&&1===o.normalMapType,normalMapTangentSpace:z&&0===o.normalMapType,metalnessMap:H,roughnessMap:W,anisotropy:G,anisotropyMap:Z,clearcoat:q,clearcoatMap:J,clearcoatNormalMap:Q,clearcoatRoughnessMap:ee,dispersion:$,iridescence:X,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:Y,sheenColorMap:re,sheenRoughnessMap:ie,specularMap:oe,specularColorMap:se,specularIntensityMap:ae,transmission:K,transmissionMap:le,thicknessMap:ce,gradientMap:ue,opaque:!1===o.transparent&&1===o.blending&&!1===o.alphaToCoverage,alphaMap:he,alphaTest:fe,alphaHash:de,combine:o.combine,mapUv:N&&m(o.map.channel),aoMapUv:F&&m(o.aoMap.channel),lightMapUv:U&&m(o.lightMap.channel),bumpMapUv:B&&m(o.bumpMap.channel),normalMapUv:z&&m(o.normalMap.channel),displacementMapUv:V&&m(o.displacementMap.channel),emissiveMapUv:j&&m(o.emissiveMap.channel),metalnessMapUv:H&&m(o.metalnessMap.channel),roughnessMapUv:W&&m(o.roughnessMap.channel),anisotropyMapUv:Z&&m(o.anisotropyMap.channel),clearcoatMapUv:J&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:re&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:ie&&m(o.sheenRoughnessMap.channel),specularMapUv:oe&&m(o.specularMap.channel),specularColorMapUv:se&&m(o.specularColorMap.channel),specularIntensityMapUv:ae&&m(o.specularIntensityMap.channel),transmissionMapUv:le&&m(o.transmissionMap.channel),thicknessMapUv:ce&&m(o.thicknessMap.channel),alphaMapUv:he&&m(o.alphaMap.channel),vertexTangents:!!_.attributes.tangent&&(z||G),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!_.attributes.uv&&(N||he),fog:!!y,useFog:!0===o.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==_.morphAttributes.position,morphNormals:void 0!==_.morphAttributes.normal,morphColors:void 0!==_.morphAttributes.color,morphTargetsCount:T,morphTextureStride:R,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numSpotLightMaps:a.spotLightMap.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numSpotLightShadowsWithMaps:a.numSpotLightShadowsWithMaps,numLightProbes:a.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:me,decodeVideoTexture:N&&!0===o.map.isVideoTexture&&sf.getTransfer(o.map.colorSpace)===vh,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionClipCullDistance:pe&&!0===o.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(pe&&!0===o.extensions.multiDraw||P)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return ge.vertexUv1s=c.has(1),ge.vertexUv2s=c.has(2),ge.vertexUv3s=c.has(3),c.clear(),ge},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){a.disableAll(),t.supportsVertexTextures&&a.enable(0);t.instancing&&a.enable(1);t.instancingColor&&a.enable(2);t.instancingMorph&&a.enable(3);t.matcap&&a.enable(4);t.envMap&&a.enable(5);t.normalMapObjectSpace&&a.enable(6);t.normalMapTangentSpace&&a.enable(7);t.clearcoat&&a.enable(8);t.iridescence&&a.enable(9);t.alphaTest&&a.enable(10);t.vertexColors&&a.enable(11);t.vertexAlphas&&a.enable(12);t.vertexUv1s&&a.enable(13);t.vertexUv2s&&a.enable(14);t.vertexUv3s&&a.enable(15);t.vertexTangents&&a.enable(16);t.anisotropy&&a.enable(17);t.alphaHash&&a.enable(18);t.batching&&a.enable(19);t.dispersion&&a.enable(20);t.batchingColor&&a.enable(21);e.push(a.mask),a.disableAll(),t.fog&&a.enable(0);t.useFog&&a.enable(1);t.flatShading&&a.enable(2);t.logarithmicDepthBuffer&&a.enable(3);t.skinning&&a.enable(4);t.morphTargets&&a.enable(5);t.morphNormals&&a.enable(6);t.morphColors&&a.enable(7);t.premultipliedAlpha&&a.enable(8);t.shadowMapEnabled&&a.enable(9);t.doubleSided&&a.enable(10);t.flipSided&&a.enable(11);t.useDepthPacking&&a.enable(12);t.dithering&&a.enable(13);t.transmission&&a.enable(14);t.sheen&&a.enable(15);t.opaque&&a.enable(16);t.pointsUvs&&a.enable(17);t.decodeVideoTexture&&a.enable(18);t.alphaToCoverage&&a.enable(19);e.push(a.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=rm[t];n=Np.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=u.length;e<i;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new sv(e,n,t,o),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function hv(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function fv(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function dv(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function pv(){const e=[];let t=0;const n=[],r=[],i=[];function o(n,r,i,o,s,a){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:s,group:a},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=a),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,s,a,l,c){const u=o(e,t,s,a,l,c);s.transmission>0?r.push(u):!0===s.transparent?i.push(u):n.push(u)},unshift:function(e,t,s,a,l,c){const u=o(e,t,s,a,l,c);s.transmission>0?r.unshift(u):!0===s.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||fv),r.length>1&&r.sort(t||dv),i.length>1&&i.sort(t||dv)}}}function mv(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new pv,e.set(t,[i])):n>=r.length?(i=new pv,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function gv(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new wf,color:new Vd};break;case"SpotLight":n={position:new wf,direction:new wf,color:new Vd,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new wf,color:new Vd,distance:0,decay:0};break;case"HemisphereLight":n={direction:new wf,skyColor:new Vd,groundColor:new Vd};break;case"RectAreaLight":n={color:new Vd,position:new wf,halfWidth:new wf,halfHeight:new wf}}return e[t.id]=n,n}}}let vv=0;function yv(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function _v(e){const t=new gv,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gh};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gh,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let a=0;a<9;a++)r.probe.push(new wf);const i=new wf,o=new Jf,s=new Jf;return{setup:function(i){let o=0,s=0,a=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0;i.sort(yv);for(let e=0,b=i.length;e<b;e++){const _=i[e],b=_.color,x=_.intensity,w=_.distance,S=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)o+=b.r*x,s+=b.g*x,a+=b.b*x;else if(_.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(_.sh.coefficients[e],x);y++}else if(_.isDirectionalLight){const e=t.get(_);if(e.color.copy(_.color).multiplyScalar(_.intensity),_.castShadow){const e=_.shadow,t=n.get(_);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=_.shadow.matrix,d++}r.directional[l]=e,l++}else if(_.isSpotLight){const e=t.get(_);e.position.setFromMatrixPosition(_.matrixWorld),e.color.copy(b).multiplyScalar(x),e.distance=w,e.coneCos=Math.cos(_.angle),e.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),e.decay=_.decay,r.spot[u]=e;const i=_.shadow;if(_.map&&(r.spotLightMap[g]=_.map,g++,i.updateMatrices(_),_.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,_.castShadow){const e=n.get(_);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,m++}u++}else if(_.isRectAreaLight){const e=t.get(_);e.color.copy(b).multiplyScalar(x),e.halfWidth.set(.5*_.width,0,0),e.halfHeight.set(0,.5*_.height,0),r.rectArea[h]=e,h++}else if(_.isPointLight){const e=t.get(_);if(e.color.copy(_.color).multiplyScalar(_.intensity),e.distance=_.distance,e.decay=_.decay,_.castShadow){const e=_.shadow,t=n.get(_);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=_.shadow.matrix,p++}r.point[c]=e,c++}else if(_.isHemisphereLight){const e=t.get(_);e.skyColor.copy(_.color).multiplyScalar(x),e.groundColor.copy(_.groundColor).multiplyScalar(x),r.hemi[f]=e,f++}}h>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=nm.LTC_FLOAT_1,r.rectAreaLTC2=nm.LTC_FLOAT_2):(r.rectAreaLTC1=nm.LTC_HALF_1,r.rectAreaLTC2=nm.LTC_HALF_2)),r.ambient[0]=o,r.ambient[1]=s,r.ambient[2]=a;const _=r.hash;_.directionalLength===l&&_.pointLength===c&&_.spotLength===u&&_.rectAreaLength===h&&_.hemiLength===f&&_.numDirectionalShadows===d&&_.numPointShadows===p&&_.numSpotShadows===m&&_.numSpotMaps===g&&_.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=f,r.directionalShadow.length=d,r.directionalShadowMap.length=d,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=d,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,_.directionalLength=l,_.pointLength=c,_.spotLength=u,_.rectAreaLength=h,_.hemiLength=f,_.numDirectionalShadows=d,_.numPointShadows=p,_.numSpotShadows=m,_.numSpotMaps=g,_.numLightProbes=y,r.version=vv++)},setupView:function(e,t){let n=0,a=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let f=0,d=e.length;f<d;f++){const t=e[f];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),s.identity(),o.copy(t.matrixWorld),o.premultiply(h),s.extractRotation(o),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(s),e.halfHeight.applyMatrix4(s),c++}else if(t.isPointLight){const e=r.point[a];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),u++}}},state:r}}function bv(e){const t=new _v(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function xv(e){let t=new WeakMap;return{get:function(n,r=0){const i=t.get(n);let o;return void 0===i?(o=new bv(e),t.set(n,[o])):r>=i.length?(o=new bv(e),i.push(o)):o=i[r],o},dispose:function(){t=new WeakMap}}}class wv extends Wd{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Sv extends Wd{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Ev(e,t,n){let r=new Zp;const i=new Gh,o=new Gh,s=new gf,a=new wv({depthPacking:3201}),l=new Sv,c={},u=n.maxTextureSize,h={[vc]:1,[yc]:0,[_c]:2},f=new Dp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Gh},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;const p=new up;p.setAttribute("position",new Qd(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Cp(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(n,r){const o=t.update(m);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,d.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new yf(i.x,i.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,f,m,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,d,m,null)}function _(t,n,r,i){let o=null;const s=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==s)o=s;else if(o=!0===r.isPointLight?l:a,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=o.clone(),r[t]=i,n.addEventListener("dispose",x)),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){e.properties.get(o).light=r}return o}function b(n,i,o,s,a){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],h=l[u.materialIndex];if(h&&h.visible){const t=_(n,h,s,a);n.onBeforeShadow(e,n,i,o,r,t,u),e.renderBufferDirect(o,null,r,t,n,u),n.onAfterShadow(e,n,i,o,r,t,u)}}}else if(l.visible){const t=_(n,l,s,a);n.onBeforeShadow(e,n,i,o,r,t,null),e.renderBufferDirect(o,null,r,t,n,null),n.onAfterShadow(e,n,i,o,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)b(l[e],i,o,s,a)}function x(e){e.target.removeEventListener("dispose",x);for(const t in c){const n=c[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,a){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);const d=3!==v&&3===this.type,p=3===v&&3!==this.type;for(let m=0,g=t.length;m<g;m++){const l=t[m],c=l.shadow;if(void 0===c)continue;if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const h=c.getFrameExtents();if(i.multiply(h),o.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/h.x),i.x=o.x*h.x,c.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/h.y),i.y=o.y*h.y,c.mapSize.y=o.y)),null===c.map||!0===d||!0===p){const e=3!==this.type?{minFilter:Yc,magFilter:Yc}:{};null!==c.map&&c.map.dispose(),c.map=new yf(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const g=c.getViewportCount();for(let e=0;e<g;e++){const t=c.getViewport(e);s.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),f.viewport(s),c.updateMatrices(l,e),r=c.getFrustum(),b(n,a,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&y(c,a),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,h)}}function Tv(e){const t=new function(){let t=!1;const n=new gf;let r=null;const i=new gf(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,s,a){!0===a&&(t*=s,r*=s,o*=s),n.set(t,r,o,s),!1===i.equals(n)&&(e.clearColor(t,r,o,s),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},n=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?B(e.DEPTH_TEST):z(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},r=new function(){let t=!1,n=null,r=null,i=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(n){t||(n?B(e.STENCIL_TEST):z(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,s){r===t&&i===n&&o===s||(e.stencilFunc(t,n,s),r=t,i=n,o=s)},setOp:function(t,n,r){s===t&&a===n&&l===r||(e.stencilOp(t,n,r),s=t,a=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,s=null,a=null,l=null,c=null}}},i=new WeakMap,o=new WeakMap;let s={},a={},l=new WeakMap,c=[],u=null,h=!1,f=null,d=null,p=null,m=null,g=null,v=null,y=null,_=new Vd(0,0,0),b=0,x=!1,w=null,S=null,E=null,T=null,A=null;const M=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let C=!1,O=0;const R=e.getParameter(e.VERSION);-1!==R.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(R)[1]),C=O>=1):-1!==R.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),C=O>=2);let I=null,k={};const P=e.getParameter(e.SCISSOR_BOX),N=e.getParameter(e.VIEWPORT),D=(new gf).fromArray(P),L=(new gf).fromArray(N);function F(t,n,r,i){const o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let a=0;a<r;a++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n+a,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}const U={};function B(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function z(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}U[e.TEXTURE_2D]=F(e.TEXTURE_2D,e.TEXTURE_2D,1),U[e.TEXTURE_CUBE_MAP]=F(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),U[e.TEXTURE_2D_ARRAY]=F(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),U[e.TEXTURE_3D]=F(e.TEXTURE_3D,e.TEXTURE_3D,1,1),t.setClear(0,0,0,1),n.setClear(1),r.setClear(0),B(e.DEPTH_TEST),n.setFunc(3),W(!1),G(1),B(e.CULL_FACE),H(0);const V={[bc]:e.FUNC_ADD,[xc]:e.FUNC_SUBTRACT,[wc]:e.FUNC_REVERSE_SUBTRACT};V[103]=e.MIN,V[104]=e.MAX;const j={[Sc]:e.ZERO,[Ec]:e.ONE,[Tc]:e.SRC_COLOR,[Mc]:e.SRC_ALPHA,[Pc]:e.SRC_ALPHA_SATURATE,[Ic]:e.DST_COLOR,[Oc]:e.DST_ALPHA,[Ac]:e.ONE_MINUS_SRC_COLOR,[Cc]:e.ONE_MINUS_SRC_ALPHA,[kc]:e.ONE_MINUS_DST_COLOR,[Rc]:e.ONE_MINUS_DST_ALPHA,[Nc]:e.CONSTANT_COLOR,[Dc]:e.ONE_MINUS_CONSTANT_COLOR,[Lc]:e.CONSTANT_ALPHA,[Fc]:e.ONE_MINUS_CONSTANT_ALPHA};function H(t,n,r,i,o,s,a,l,c,u){if(0!==t){if(!1===h&&(B(e.BLEND),h=!0),5===t)o=o||n,s=s||r,a=a||i,n===d&&o===g||(e.blendEquationSeparate(V[n],V[o]),d=n,g=o),r===p&&i===m&&s===v&&a===y||(e.blendFuncSeparate(j[r],j[i],j[s],j[a]),p=r,m=i,v=s,y=a),!1!==l.equals(_)&&c===b||(e.blendColor(l.r,l.g,l.b,c),_.copy(l),b=c),f=t,x=!1;else if(t!==f||u!==x){if(d===bc&&g===bc||(e.blendEquation(e.FUNC_ADD),d=bc,g=bc),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR)}p=null,m=null,v=null,y=null,_.set(0,0,0),b=0,f=t,x=u}}else!0===h&&(z(e.BLEND),h=!1)}function W(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function G(t){0!==t?(B(e.CULL_FACE),t!==S&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):z(e.CULL_FACE),S=t}function q(t,n,r){t?(B(e.POLYGON_OFFSET_FILL),T===n&&A===r||(e.polygonOffset(n,r),T=n,A=r)):z(e.POLYGON_OFFSET_FILL)}return{buffers:{color:t,depth:n,stencil:r},enable:B,disable:z,bindFramebuffer:function(t,n){return a[t]!==n&&(e.bindFramebuffer(t,n),a[t]=n,t===e.DRAW_FRAMEBUFFER&&(a[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(a[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=c,i=!1;if(t){r=l.get(n),void 0===r&&(r=[],l.set(n,r));const o=t.textures;if(r.length!==o.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=o.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=o.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return u!==t&&(e.useProgram(t),u=t,!0)},setBlending:H,setMaterial:function(i,o){2===i.side?z(e.CULL_FACE):B(e.CULL_FACE);let s=1===i.side;o&&(s=!s),W(s),1===i.blending&&!1===i.transparent?H(0):H(i.blending,i.blendEquation,i.blendSrc,i.blendDst,i.blendEquationAlpha,i.blendSrcAlpha,i.blendDstAlpha,i.blendColor,i.blendAlpha,i.premultipliedAlpha),n.setFunc(i.depthFunc),n.setTest(i.depthTest),n.setMask(i.depthWrite),t.setMask(i.colorWrite);const a=i.stencilWrite;r.setTest(a),a&&(r.setMask(i.stencilWriteMask),r.setFunc(i.stencilFunc,i.stencilRef,i.stencilFuncMask),r.setOp(i.stencilFail,i.stencilZFail,i.stencilZPass)),q(i.polygonOffset,i.polygonOffsetFactor,i.polygonOffsetUnits),!0===i.alphaToCoverage?B(e.SAMPLE_ALPHA_TO_COVERAGE):z(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:G,setLineWidth:function(t){t!==E&&(C&&e.lineWidth(t),E=t)},setPolygonOffset:q,setScissorTest:function(t){t?B(e.SCISSOR_TEST):z(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+M-1),I!==t&&(e.activeTexture(t),I=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===I?e.TEXTURE0+M-1:I);let i=k[r];void 0===i&&(i={type:void 0,texture:void 0},k[r]=i),i.type===t&&i.texture===n||(I!==r&&(e.activeTexture(r),I=r),e.bindTexture(t,n||U[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=k[I];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);i.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),i.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){}},scissor:function(t){!1===D.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),D.copy(t))},viewport:function(t){!1===L.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),L.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),s={},I=null,k={},a={},l=new WeakMap,c=[],u=null,h=!1,f=null,d=null,p=null,m=null,g=null,v=null,y=null,_=new Vd(0,0,0),b=0,x=!1,w=null,S=null,E=null,T=null,A=null,D.set(0,0,e.canvas.width,e.canvas.height),L.set(0,0,e.canvas.width,e.canvas.height),t.reset(),n.reset(),r.reset()}}}function Av(e,t,n,r){const i=function(e){switch(e){case tu:case nu:return{byteLength:1,components:1};case iu:case ru:case lu:return{byteLength:2,components:1};case cu:case uu:return{byteLength:2,components:4};case su:case ou:case au:return{byteLength:4,components:1};case fu:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${e}.`)}(r);switch(n){case du:case gu:return e*t;case vu:return e*t*2;case bu:case xu:return e*t/i.components*i.byteLength;case wu:case Su:return e*t*2/i.components*i.byteLength;case pu:return e*t*3/i.components*i.byteLength;case mu:case Eu:return e*t*4/i.components*i.byteLength;case Tu:case Au:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Mu:case Cu:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Ru:case ku:return Math.max(e,16)*Math.max(t,8)/4;case Ou:case Iu:return Math.max(e,8)*Math.max(t,8)/2;case Pu:case Nu:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Du:case Lu:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Fu:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case Uu:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case Bu:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case zu:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case Vu:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case ju:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case Hu:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case Wu:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case Gu:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case qu:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case $u:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case Xu:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case Yu:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case Ku:case Zu:case Ju:return Math.ceil(e/4)*Math.ceil(t/4)*16;case Qu:case eh:return Math.ceil(e/4)*Math.ceil(t/4)*8;case th:case nh:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}const Mv={contain:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:Av};function Cv(e,t,n,r,i,o,s){const a=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new Gh,u=new WeakMap;let h;const f=new WeakMap;let d=!1;try{d="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function p(e,t){return d?new OffscreenCanvas(e,t):Zh("canvas")}function m(e,t,n){let r=1;const i=z(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),o=Math.floor(r*i.height);void 0===h&&(h=p(n,o));const s=t?p(n,o):h;s.width=n,s.height=o;return s.getContext("2d").drawImage(e,0,0,n,o),s}return e}return e}function g(e){return e.generateMipmaps&&e.minFilter!==Yc&&e.minFilter!==Jc}function v(t){e.generateMipmap(t)}function y(n,r,i,o,s=!1){if(null!==n&&void 0!==e[n])return e[n];let a=r;if(r===e.RED&&(i===e.FLOAT&&(a=e.R32F),i===e.HALF_FLOAT&&(a=e.R16F),i===e.UNSIGNED_BYTE&&(a=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(a=e.R8UI),i===e.UNSIGNED_SHORT&&(a=e.R16UI),i===e.UNSIGNED_INT&&(a=e.R32UI),i===e.BYTE&&(a=e.R8I),i===e.SHORT&&(a=e.R16I),i===e.INT&&(a=e.R32I)),r===e.RG&&(i===e.FLOAT&&(a=e.RG32F),i===e.HALF_FLOAT&&(a=e.RG16F),i===e.UNSIGNED_BYTE&&(a=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(a=e.RG8UI),i===e.UNSIGNED_SHORT&&(a=e.RG16UI),i===e.UNSIGNED_INT&&(a=e.RG32UI),i===e.BYTE&&(a=e.RG8I),i===e.SHORT&&(a=e.RG16I),i===e.INT&&(a=e.RG32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(a=e.RGB9_E5),r===e.RGBA){const t=s?gh:sf.getTransfer(o);i===e.FLOAT&&(a=e.RGBA32F),i===e.HALF_FLOAT&&(a=e.RGBA16F),i===e.UNSIGNED_BYTE&&(a=t===vh?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(a=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(a=e.RGB5_A1)}return a!==e.R16F&&a!==e.R32F&&a!==e.RG16F&&a!==e.RG32F&&a!==e.RGBA16F&&a!==e.RGBA32F||t.get("EXT_color_buffer_float"),a}function _(t,n){let r;return t?null===n||n===su||n===hu?r=e.DEPTH24_STENCIL8:n===au?r=e.DEPTH32F_STENCIL8:n===iu&&(r=e.DEPTH24_STENCIL8):null===n||n===su||n===hu?r=e.DEPTH_COMPONENT24:n===au?r=e.DEPTH_COMPONENT32F:n===iu&&(r=e.DEPTH_COMPONENT16),r}function b(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==Yc&&e.minFilter!==Jc?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function x(e){const t=e.target;t.removeEventListener("dispose",x),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=f.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&S(e),0===Object.keys(i).length&&f.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function w(t){const n=t.target;n.removeEventListener("dispose",w),function(t){const n=r.get(t);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let o=0,a=i.length;o<a;o++){const t=r.get(i[o]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),s.memory.textures--),r.remove(i[o])}r.remove(t)}(n)}function S(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete f.get(i)[n.__cacheKey],s.memory.textures--}let E=0;function T(t,i){const o=r.get(t);if(t.isVideoTexture&&function(e){const t=s.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e);else if(!1!==e.complete)return void I(o,t,i)}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+i)}const A={[qc]:e.REPEAT,[$c]:e.CLAMP_TO_EDGE,[Xc]:e.MIRRORED_REPEAT},M={[Yc]:e.NEAREST,[Kc]:e.NEAREST_MIPMAP_NEAREST,[Zc]:e.NEAREST_MIPMAP_LINEAR,[Jc]:e.LINEAR,[Qc]:e.LINEAR_MIPMAP_NEAREST,[eu]:e.LINEAR_MIPMAP_LINEAR},C={[xh]:e.NEVER,[Ch]:e.ALWAYS,[wh]:e.LESS,[Eh]:e.LEQUAL,[Sh]:e.EQUAL,[Mh]:e.GEQUAL,[Th]:e.GREATER,[Ah]:e.NOTEQUAL};function O(n,o){if(o.type===au&&!1===t.has("OES_texture_float_linear")&&(o.magFilter===Jc||o.magFilter===Qc||o.magFilter===Zc||o.magFilter===eu||o.minFilter===Jc||o.minFilter===Qc||o.minFilter===Zc||o.minFilter),e.texParameteri(n,e.TEXTURE_WRAP_S,A[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,A[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,A[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M[o.minFilter]),o.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,C[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(o.magFilter===Yc)return;if(o.minFilter!==Zc&&o.minFilter!==eu)return;if(o.type===au&&!1===t.has("OES_texture_float_linear"))return;if(o.anisotropy>1||r.get(o).__currentAnisotropy){const s=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy}}}function R(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",x));const i=n.source;let o=f.get(i);void 0===o&&(o={},f.set(i,o));const a=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(a!==t.__cacheKey){void 0===o[a]&&(o[a]={texture:e.createTexture(),usedTimes:0},s.memory.textures++,r=!0),o[a].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&S(n)),t.__cacheKey=a,t.__webglTexture=o[a].texture}return r}function I(t,s,a){let l=e.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=e.TEXTURE_3D);const c=R(t,s),u=s.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+a);const h=r.get(u);if(u.version!==h.__version||!0===c){n.activeTexture(e.TEXTURE0+a);const t=sf.getPrimaries(sf.workingColorSpace),r=s.colorSpace===hh?null:sf.getPrimaries(s.colorSpace),f=s.colorSpace===hh||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);let d=m(s.image,!1,i.maxTextureSize);d=B(s,d);const p=o.convert(s.format,s.colorSpace),x=o.convert(s.type);let w,S=y(s.internalFormat,p,x,s.colorSpace,s.isVideoTexture);O(l,s);const E=s.mipmaps,T=!0!==s.isVideoTexture,A=void 0===h.__version||!0===c,M=u.dataReady,C=b(s,d);if(s.isDepthTexture)S=_(s.format===_u,s.type),A&&(T?n.texStorage2D(e.TEXTURE_2D,1,S,d.width,d.height):n.texImage2D(e.TEXTURE_2D,0,S,d.width,d.height,0,p,x,null));else if(s.isDataTexture)if(E.length>0){T&&A&&n.texStorage2D(e.TEXTURE_2D,C,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)w=E[t],T?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,x,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,x,w.data);s.generateMipmaps=!1}else T?(A&&n.texStorage2D(e.TEXTURE_2D,C,S,d.width,d.height),M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,d.width,d.height,p,x,d.data)):n.texImage2D(e.TEXTURE_2D,0,S,d.width,d.height,0,p,x,d.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){T&&A&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,E[0].width,E[0].height,d.depth);for(let t=0,r=E.length;t<r;t++)if(w=E[t],s.format!==mu){if(null!==p)if(T){if(M)if(s.layerUpdates.size>0){const r=Av(w.width,w.height,s.format,s.type);for(const i of s.layerUpdates){const o=w.data.subarray(i*r/w.data.BYTES_PER_ELEMENT,(i+1)*r/w.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,w.width,w.height,1,p,o,0,0)}s.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,d.depth,p,w.data,0,0)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,d.depth,0,w.data,0,0)}else T?M&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,d.depth,p,x,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,d.depth,0,p,x,w.data)}else{T&&A&&n.texStorage2D(e.TEXTURE_2D,C,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)w=E[t],s.format!==mu?null!==p&&(T?M&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,w.data)):T?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,x,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,x,w.data)}else if(s.isDataArrayTexture)if(T){if(A&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,d.width,d.height,d.depth),M)if(s.layerUpdates.size>0){const t=Av(d.width,d.height,s.format,s.type);for(const r of s.layerUpdates){const i=d.data.subarray(r*t/d.data.BYTES_PER_ELEMENT,(r+1)*t/d.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,d.width,d.height,1,p,x,i)}s.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,p,x,d.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,d.width,d.height,d.depth,0,p,x,d.data);else if(s.isData3DTexture)T?(A&&n.texStorage3D(e.TEXTURE_3D,C,S,d.width,d.height,d.depth),M&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,p,x,d.data)):n.texImage3D(e.TEXTURE_3D,0,S,d.width,d.height,d.depth,0,p,x,d.data);else if(s.isFramebufferTexture){if(A)if(T)n.texStorage2D(e.TEXTURE_2D,C,S,d.width,d.height);else{let t=d.width,r=d.height;for(let i=0;i<C;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,p,x,null),t>>=1,r>>=1}}else if(E.length>0){if(T&&A){const t=z(E[0]);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}for(let t=0,r=E.length;t<r;t++)w=E[t],T?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,x,w):n.texImage2D(e.TEXTURE_2D,t,S,p,x,w);s.generateMipmaps=!1}else if(T){if(A){const t=z(d);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,x,d)}else n.texImage2D(e.TEXTURE_2D,0,S,p,x,d);g(s)&&v(l),h.__version=u.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}function k(t,i,s,l,c,u){const h=o.convert(s.format,s.colorSpace),f=o.convert(s.type),d=y(s.internalFormat,h,f,s.colorSpace);if(!r.get(i).__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,d,t,r,i.depth,0,h,f,null):n.texImage2D(c,u,d,t,r,0,h,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),U(i)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,r.get(s).__webglTexture,0,F(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,r.get(s).__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function P(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,o=i&&i.isDepthTexture?i.type:null,s=_(n.stencilBuffer,o),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=F(n);U(n)?a.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,s,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,s,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,s,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const s=t[i],l=o.convert(s.format,s.colorSpace),c=o.convert(s.type),u=y(s.internalFormat,l,c,s.colorSpace),h=F(n);r&&!1===U(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,h,u,n.width,n.height):U(n)?a.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,h,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function N(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),T(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,s=F(i);if(i.depthTexture.format===yu)U(i)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==_u)throw new Error("Unknown depthTexture format");U(i)?a.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,s):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),P(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),P(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}const D=[],L=[];function F(e){return Math.min(i.maxSamples,e.samples)}function U(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function B(e,t){const n=e.colorSpace;e.format,e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==dh&&n!==hh&&sf.getTransfer(n),t}function z(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=E;return i.maxTextures,E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=T,this.setTexture2DArray=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?I(o,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?I(o,t,i):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,s){const a=r.get(t);t.version>0&&a.__version!==t.version?function(t,s,a){if(6!==s.image.length)return;const l=R(t,s),c=s.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+a);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+a);const t=sf.getPrimaries(sf.workingColorSpace),r=s.colorSpace===hh?null:sf.getPrimaries(s.colorSpace),h=s.colorSpace===hh||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,s.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,s.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const f=s.isCompressedTexture||s.image[0].isCompressedTexture,d=s.image[0]&&s.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=f||d?d?s.image[e].image:s.image[e]:m(s.image[e],!0,i.maxCubemapSize),p[e]=B(s,p[e]);const _=p[0],x=o.convert(s.format,s.colorSpace),w=o.convert(s.type),S=y(s.internalFormat,x,w,s.colorSpace),E=!0!==s.isVideoTexture,T=void 0===u.__version||!0===l,A=c.dataReady;let M,C=b(s,_);if(O(e.TEXTURE_CUBE_MAP,s),f){E&&T&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,_.width,_.height);for(let t=0;t<6;t++){M=p[t].mipmaps;for(let r=0;r<M.length;r++){const i=M[r];s.format!==mu?null!==x&&(E?A&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data)):E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,x,w,i.data)}}}else{if(M=s.mipmaps,E&&T){M.length>0&&C++;const t=z(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,t.width,t.height)}for(let t=0;t<6;t++)if(d){E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,x,w,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,x,w,p[t].data);for(let r=0;r<M.length;r++){const i=M[r].image[t].image;E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,x,w,i.data)}}else{E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,w,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,w,p[t]);for(let r=0;r<M.length;r++){const i=M[r];E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,x,w,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,x,w,i.image[t])}}}g(s)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,s.onUpdate&&s.onUpdate(s)}t.__version=s.version}(a,t,s):n.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture,e.TEXTURE0+s)},this.rebindTextures=function(t,n,i){const o=r.get(t);void 0!==n&&k(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&N(t)},this.setupRenderTarget=function(t){const i=t.texture,a=r.get(t),l=r.get(i);t.addEventListener("dispose",w);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,h=c.length>1;if(h||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,s.memory.textures++),u){a.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){a.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)a.__webglFramebuffer[t][n]=e.createFramebuffer()}else a.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){a.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)a.__webglFramebuffer[t]=e.createFramebuffer()}else a.__webglFramebuffer=e.createFramebuffer();if(h)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),s.memory.textures++)}if(t.samples>0&&!1===U(t)){a.__webglMultisampledFramebuffer=e.createFramebuffer(),a.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,a.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];a.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,a.__webglColorRenderbuffer[n]);const i=o.convert(r.format,r.colorSpace),s=o.convert(r.type),l=y(r.internalFormat,i,s,r.colorSpace,!0===t.isXRRenderTarget),u=F(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,a.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(a.__webglDepthRenderbuffer=e.createRenderbuffer(),P(a.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),O(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)k(a.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else k(a.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){for(let i=0,o=c.length;i<o;i++){const o=c[i],s=r.get(o);n.bindTexture(e.TEXTURE_2D,s.__webglTexture),O(e.TEXTURE_2D,o),k(a.__webglFramebuffer,t,o,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),g(o)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),O(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)k(a.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else k(a.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&N(t)},this.updateRenderTargetMipmap=function(t){const i=t.textures;for(let o=0,s=i.length;o<s;o++){const s=i[o];if(g(s)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=r.get(s).__webglTexture;n.bindTexture(i,o),v(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===U(t)){const i=t.textures,o=t.width,s=t.height;let a=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),h=i.length>1;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(a|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(a|=e.STENCIL_BUFFER_BIT)),h){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,s,0,0,o,s,a,e.NEAREST),!0===l&&(D.length=0,L.length=0,D.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(D.push(c),L.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,L)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,D))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=N,this.setupFrameBufferTexture=k,this.useMultisampledRTT=U}function Ov(e,t){return{convert:function(n,r=""){let i;const o=sf.getTransfer(r);if(n===tu)return e.UNSIGNED_BYTE;if(n===cu)return e.UNSIGNED_SHORT_4_4_4_4;if(n===uu)return e.UNSIGNED_SHORT_5_5_5_1;if(n===fu)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===nu)return e.BYTE;if(n===ru)return e.SHORT;if(n===iu)return e.UNSIGNED_SHORT;if(n===ou)return e.INT;if(n===su)return e.UNSIGNED_INT;if(n===au)return e.FLOAT;if(n===lu)return e.HALF_FLOAT;if(n===du)return e.ALPHA;if(n===pu)return e.RGB;if(n===mu)return e.RGBA;if(n===gu)return e.LUMINANCE;if(n===vu)return e.LUMINANCE_ALPHA;if(n===yu)return e.DEPTH_COMPONENT;if(n===_u)return e.DEPTH_STENCIL;if(n===bu)return e.RED;if(n===xu)return e.RED_INTEGER;if(n===wu)return e.RG;if(n===Su)return e.RG_INTEGER;if(n===Eu)return e.RGBA_INTEGER;if(n===Tu||n===Au||n===Mu||n===Cu)if(o===vh){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Tu)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Au)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Mu)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Cu)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Tu)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Au)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Mu)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Cu)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Ou||n===Ru||n===Iu||n===ku){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===Ou)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Ru)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Iu)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===ku)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Pu||n===Nu||n===Du){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===Pu||n===Nu)return o===vh?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===Du)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===Lu||n===Fu||n===Uu||n===Bu||n===zu||n===Vu||n===ju||n===Hu||n===Wu||n===Gu||n===qu||n===$u||n===Xu||n===Yu){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===Lu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Fu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Uu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Bu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===zu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Vu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===ju)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Hu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Wu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Gu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===qu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===$u)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Xu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Yu)return o===vh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Ku||n===Zu||n===Ju){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===Ku)return o===vh?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Zu)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Ju)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===Qu||n===eh||n===th||n===nh){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===Ku)return i.COMPRESSED_RED_RGTC1_EXT;if(n===eh)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===th)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===nh)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===hu?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Rv extends zp{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Iv=class extends Td{constructor(){super(),this.isGroup=!0,this.type="Group"}};const kv={type:"move"};class Pv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Iv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Iv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new wf,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new wf),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Iv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new wf,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new wf),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const s=this._targetRay,a=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),r=this._getHandJoint(l,o);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],s=r.position.distanceTo(i.position),a=.02,c=.005;l.inputState.pinching&&s>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&s<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==a&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(kv)))}return null!==s&&(s.visible=null!==r),null!==a&&(a.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Iv;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Nv{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new mf;e.properties.get(r).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Dp({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Cp(new em(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Dv extends Ph{constructor(e,t){super();const n=this;let r=null,i=1,o=null,s="local-floor",a=1,l=null,c=null,u=null,h=null,f=null,d=null;const p=new Nv,m=t.getContextAttributes();let g=null,v=null;const y=[],_=[],b=new Gh;let x=null;const w=new zp;w.layers.enable(1),w.viewport=new gf;const S=new zp;S.layers.enable(2),S.viewport=new gf;const E=[w,S],T=new Rv;T.layers.enable(1),T.layers.enable(2);let A=null,M=null;function C(e){const t=_.indexOf(e.inputSource);if(-1===t)return;const n=y[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||o),n.dispatchEvent({type:e.type,data:e.inputSource}))}function O(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",O),r.removeEventListener("inputsourceschange",R);for(let e=0;e<y.length;e++){const t=_[e];null!==t&&(_[e]=null,y[e].disconnect(t))}A=null,M=null,p.reset(),e.setRenderTarget(g),f=null,h=null,u=null,r=null,v=null,D.stop(),n.isPresenting=!1,e.setPixelRatio(x),e.setSize(b.width,b.height,!1),n.dispatchEvent({type:"sessionend"})}function R(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=_.indexOf(n);r>=0&&(_[r]=null,y[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=_.indexOf(n);if(-1===r){for(let e=0;e<y.length;e++){if(e>=_.length){_.push(n),r=e;break}if(null===_[e]){_[e]=n,r=e;break}}if(-1===r)break}const i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=y[e];return void 0===t&&(t=new Pv,y[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=y[e];return void 0===t&&(t=new Pv,y[e]=t),t.getGripSpace()},this.getHand=function(e){let t=y[e];return void 0===t&&(t=new Pv,y[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting},this.setReferenceSpaceType=function(e){s=e,n.isPresenting},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==h?h:f},this.getBinding=function(){return u},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",O),r.addEventListener("inputsourceschange",R),!0!==m.xrCompatible&&await t.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(b),void 0===r.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),v=new yf(f.framebufferWidth,f.framebufferHeight,{format:mu,type:tu,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,o=null,s=null;m.depth&&(s=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?_u:yu,o=m.stencil?hu:su);const a={colorFormat:t.RGBA8,depthFormat:s,scaleFactor:i};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(a),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),v=new yf(h.textureWidth,h.textureHeight,{format:mu,type:tu,depthTexture:new Um(h.textureWidth,h.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=await r.requestReferenceSpace(s),D.setContext(r),D.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const I=new wf,k=new wf;function P(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;null!==p.texture&&(e.near=p.depthNear,e.far=p.depthFar),T.near=S.near=w.near=e.near,T.far=S.far=w.far=e.far,A===T.near&&M===T.far||(r.updateRenderState({depthNear:T.near,depthFar:T.far}),A=T.near,M=T.far,w.near=A,w.far=M,S.near=A,S.far=M,w.updateProjectionMatrix(),S.updateProjectionMatrix(),e.updateProjectionMatrix());const t=e.parent,n=T.cameras;P(T,t);for(let r=0;r<n.length;r++)P(n[r],t);2===n.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),k.setFromMatrixPosition(n.matrixWorld);const r=I.distanceTo(k),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,s=i[14]/(i[10]-1),a=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],f=s*u,d=s*h,p=r/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=s+p,v=a+p,y=f-m,_=d+(r-m),b=l*a/v*g,x=c*a/v*g;e.projectionMatrix.makePerspective(y,_,b,x,g,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(T,w,S):T.projectionMatrix.copy(w.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Fh*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,T,t)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==h||null!==f)return a},this.setFoveation=function(e){a=e,null!==h&&(h.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(T)};let N=null;const D=new Jp;D.setAnimationLoop(function(t,i){if(c=i.getViewerPose(l||o),d=i,null!==c){const t=c.views;null!==f&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let n=!1;t.length!==T.cameras.length&&(T.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let o=null;if(null!==f)o=f.getViewport(i);else{const t=u.getViewSubImage(h,i);o=t.viewport,0===r&&(e.setRenderTargetTextures(v,t.colorTexture,h.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(v))}let s=E[r];void 0===s&&(s=new zp,s.layers.enable(r),s.viewport=new gf,E[r]=s),s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(i.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(o.x,o.y,o.width,o.height),0===r&&(T.matrix.copy(s.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===n&&T.cameras.push(s)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<y.length;e++){const t=_[e],n=y[e];null!==t&&void 0!==n&&n.update(t,i,l||o)}N&&N(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),d=null}),this.setAnimationLoop=function(e){N=e},this.dispose=function(){}}}const Lv=new ld,Fv=new Jf;function Uv(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),o=i.envMap,s=i.envMapRotation;o&&(e.envMap.value=o,Lv.copy(s),Lv.x*=-1,Lv.y*=-1,Lv.z*=-1,o.isCubeTexture&&!1===o.isRenderTargetTexture&&(Lv.y*=-1,Lv.z*=-1),e.envMapRotation.value.setFromMatrix4(Fv.makeRotationFromEuler(Lv)),e.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Pp(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,o,s,a){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,a)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,o,s):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Bv(e,t,n,r){let i={},o={},s=[];const a=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,o=t+"_"+n;if(void 0===r[o])return r[o]="number"==typeof i||"boolean"==typeof i?i:i.clone(),!0;{const e=r[o];if("number"==typeof i||"boolean"==typeof i){if(e!==i)return r[o]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture,t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=s.indexOf(n.__bindingPointIndex);s.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){let f=i[n.id];void 0===f&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let o=0,s=t.length;o<s;o++){const e=Array.isArray(t[o])?t[o]:[t[o]];for(let t=0,i=e.length;t<i;t++){const i=e[t],o=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=o.length;e<t;e++){const t=c(o[e]),s=n%r;0!==s&&r-s<t.boundary&&(n+=r-s),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){const n=function(){for(let e=0;e<a;e++)if(-1===s.indexOf(e))return s.push(e),e;return 0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",u));const d=h.program;r.updateUBOMapping(n,d);const p=t.render.frame;o[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,s=r.length;i<s;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,o)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let o=0;o<n.length;o++){const s=n[o],a=c(s);"number"==typeof s||"boolean"==typeof s?(r.__data[0]=s,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):s.isMatrix3?(r.__data[0]=s.elements[0],r.__data[1]=s.elements[1],r.__data[2]=s.elements[2],r.__data[3]=0,r.__data[4]=s.elements[3],r.__data[5]=s.elements[4],r.__data[6]=s.elements[5],r.__data[7]=0,r.__data[8]=s.elements[6],r.__data[9]=s.elements[7],r.__data[10]=s.elements[8],r.__data[11]=0):(s.toArray(r.__data,i),i+=a.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),o[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);s=[],i={},o={}}}}class zv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Vd(e),this.density=t}clone(){return new zv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Vv{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new Vd(e),this.near=t,this.far=n}clone(){return new Vv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class jv extends Td{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ld,this.environmentIntensity=1,this.environmentRotation=new ld,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Hv{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Oh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Uh()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return ef("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Uh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Uh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Wv=new wf;class Gv{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Wv.fromBufferAttribute(this,t),Wv.applyMatrix4(e),this.setXYZ(t,Wv.x,Wv.y,Wv.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Wv.fromBufferAttribute(this,t),Wv.applyNormalMatrix(e),this.setXYZ(t,Wv.x,Wv.y,Wv.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Wv.fromBufferAttribute(this,t),Wv.transformDirection(e),this.setXYZ(t,Wv.x,Wv.y,Wv.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=jh(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Hh(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Hh(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Hh(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Hh(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Hh(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=jh(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=jh(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=jh(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=jh(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array),r=Hh(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array),r=Hh(r,this.array),i=Hh(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Qd(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class qv extends Wd{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Vd(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let $v;const Xv=new wf,Yv=new wf,Kv=new wf,Zv=new Gh,Jv=new Gh,Qv=new Jf,ey=new wf,ty=new wf,ny=new wf,ry=new Gh,iy=new Gh,oy=new Gh;class sy extends Td{constructor(e=new qv){if(super(),this.isSprite=!0,this.type="Sprite",void 0===$v){$v=new up;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Hv(e,5);$v.setIndex([0,1,2,0,2,3]),$v.setAttribute("position",new Gv(t,3,0,!1)),$v.setAttribute("uv",new Gv(t,2,3,!1))}this.geometry=$v,this.material=e,this.center=new Gh(.5,.5)}raycast(e,t){e.camera,Yv.setFromMatrixScale(this.matrixWorld),Qv.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Kv.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Yv.multiplyScalar(-Kv.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;ay(ey.set(-.5,-.5,0),Kv,o,Yv,r,i),ay(ty.set(.5,-.5,0),Kv,o,Yv,r,i),ay(ny.set(.5,.5,0),Kv,o,Yv,r,i),ry.set(0,0),iy.set(1,0),oy.set(1,1);let s=e.ray.intersectTriangle(ey,ty,ny,!1,Xv);if(null===s&&(ay(ty.set(-.5,.5,0),Kv,o,Yv,r,i),iy.set(0,1),s=e.ray.intersectTriangle(ey,ny,ty,!1,Xv),null===s))return;const a=e.ray.origin.distanceTo(Xv);a<e.near||a>e.far||t.push({distance:a,point:Xv.clone(),uv:Ld.getInterpolation(Xv,ey,ty,ny,ry,iy,oy,new Gh),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function ay(e,t,n,r,i,o){Zv.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Jv.x=o*Zv.x-i*Zv.y,Jv.y=i*Zv.x+o*Zv.y):Jv.copy(Zv),e.copy(t),e.x+=Jv.x,e.y+=Jv.y,e.applyMatrix4(Qv)}const ly=new wf,cy=new wf;class uy extends Td{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){ly.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(ly);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ly.setFromMatrixPosition(e.matrixWorld),cy.setFromMatrixPosition(this.matrixWorld);const n=ly.distanceTo(cy)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const hy=new wf,fy=new gf,dy=new gf,py=new wf,my=new Jf,gy=new wf,vy=new Hf,yy=new Jf,_y=new Zf;class by extends Cp{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Uc,this.bindMatrix=new Jf,this.bindMatrixInverse=new Jf,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Tf),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,gy),this.boundingBox.expandByPoint(gy)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Hf),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,gy),this.boundingSphere.expandByPoint(gy)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),vy.copy(this.boundingSphere),vy.applyMatrix4(r),!1!==e.ray.intersectsSphere(vy)&&(yy.copy(r).invert(),_y.copy(e.ray).applyMatrix4(yy),null!==this.boundingBox&&!1===_y.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,_y)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new gf,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Uc?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Bc&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;fy.fromBufferAttribute(r.attributes.skinIndex,e),dy.fromBufferAttribute(r.attributes.skinWeight,e),hy.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=dy.getComponent(i);if(0!==e){const r=fy.getComponent(i);my.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(py.copy(hy).applyMatrix4(my),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class xy extends Td{constructor(){super(),this.isBone=!0,this.type="Bone"}}class wy extends mf{constructor(e=null,t=1,n=1,r,i,o,s,a,l=1003,c=1003,u,h){super(null,o,s,a,l,c,r,i,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Sy=new Jf,Ey=new Jf;class Ty{constructor(e=[],t=[]){this.uuid=Uh(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Jf)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Jf;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:Ey;Sy.multiplyMatrices(r,t[i]),Sy.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Ty(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new wy(t,e,e,mu,au);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=t[e.bones[n]];void 0===r&&(r=new xy),this.bones.push(r),this.boneInverses.push((new Jf).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class Ay extends Qd{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const My=new Jf,Cy=new Jf,Oy=[],Ry=new Tf,Iy=new Jf,ky=new Cp,Py=new Hf;class Ny extends Cp{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ay(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Iy)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Tf),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,My),Ry.copy(e.boundingBox).applyMatrix4(My),this.boundingBox.union(Ry)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Hf),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,My),Py.copy(e.boundingSphere).applyMatrix4(My),this.boundingSphere.union(Py)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let o=0;o<n.length;o++)n[o]=r[i+o]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(ky.geometry=this.geometry,ky.material=this.material,void 0!==ky.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Py.copy(this.boundingSphere),Py.applyMatrix4(n),!1!==e.ray.intersectsSphere(Py)))for(let i=0;i<r;i++){this.getMatrixAt(i,My),Cy.multiplyMatrices(n,My),ky.matrixWorld=Cy,ky.raycast(e,Oy);for(let e=0,n=Oy.length;e<n;e++){const n=Oy[e];n.instanceId=i,n.object=this,t.push(n)}Oy.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Ay(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new wy(new Float32Array(r*this.count),r,this.count,bu,au));const i=this.morphTexture.source.data.data;let o=0;for(let l=0;l<n.length;l++)o+=n[l];const s=this.geometry.morphTargetsRelative?1:1-o,a=r*e;i[a]=s,i.set(n,a+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Dy(e,t){return e.z-t.z}function Ly(e,t){return t.z-e.z}class Fy{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=t,o.index=n}reset(){this.list.length=0,this.index=0}}const Uy=new Jf,By=new Jf,zy=new Jf,Vy=new Vd(1,1,1),jy=new Jf,Hy=new Zp,Wy=new Tf,Gy=new Hf,qy=new wf,$y=new wf,Xy=new wf,Yy=new Fy,Ky=new Cp,Zy=[];function Jy(e,t,n=0){const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let o=0;o<i;o++)for(let i=0;i<r;i++)t.setComponent(o+n,i,e.getComponent(o,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}class Qy extends Cp{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,t,n=2*t,r){super(new up,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new wy(t,e,e,mu,au);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new wy(t,e,e,xu,su);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxIndexCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new wy(t,e,e,mu,au);n.colorSpace=sf.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:o,itemSize:s,normalized:a}=i,l=new o.constructor(n*s),c=new Qd(l,s,a);t.setAttribute(r,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new Qd(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Tf);const e=this._geometryCount,t=this.boundingBox,n=this._drawInfo;t.makeEmpty();for(let r=0;r<e;r++){if(!1===n[r].active)continue;const e=n[r].geometryIndex;this.getMatrixAt(r,Uy),this.getBoundingBoxAt(e,Wy).applyMatrix4(Uy),t.union(Wy)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Hf);const e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Uy),this.getBoundingSphereAt(r,Gy).applyMatrix4(Uy),e.union(Gy)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const t=this._drawInfo.length-1,n=this._matricesTexture,r=n.image.data;zy.toArray(r,16*t),n.needsUpdate=!0;const i=this._colorsTexture;return i&&(Vy.toArray(i.image.data,4*t),i.needsUpdate=!0),t}addGeometry(e,t=-1,n=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let i=null;const o=this._reservedRanges,s=this._drawRanges,a=this._bounds;0!==this._geometryCount&&(i=o[o.length-1]),r.vertexCount=-1===t?e.getAttribute("position").count:t,r.vertexStart=null===i?0:i.vertexStart+i.vertexCount;const l=e.getIndex(),c=null!==l;if(c&&(r.indexCount=-1===n?l.count:n,r.indexStart=null===i?0:i.indexStart+i.indexCount),-1!==r.indexStart&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const u=this._geometryCount;return this._geometryCount++,o.push(r),s.push({start:c?r.indexStart:r.vertexStart,count:-1}),a.push({boxInitialized:!1,box:new Tf,sphereInitialized:!1,sphere:new Hf}),this.setGeometryAt(u,e),u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),o=t.getIndex(),s=this._reservedRanges[e];if(r&&o.count>s.indexCount||t.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const a=s.vertexStart,l=s.vertexCount;for(const f in n.attributes){const e=t.getAttribute(f),r=n.getAttribute(f);Jy(e,r,a);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=a+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(a*i,l*i)}if(r){const e=s.indexStart;for(let t=0;t<o.count;t++)i.setX(e+t,a+o.getX(t));for(let t=o.count,n=s.indexCount;t<n;t++)i.setX(e+t,a);i.needsUpdate=!0,i.addUpdateRange(e,s.indexCount)}const c=this._bounds[e];null!==t.boundingBox?(c.box.copy(t.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,null!==t.boundingSphere?(c.sphere.copy(t.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const u=this._drawRanges[e],h=t.getAttribute("position");return u.count=r?o.count:h.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.box,i=this.geometry;if(!1===n.boxInitialized){r.makeEmpty();const t=i.index,o=i.attributes.position,s=this._drawRanges[e];for(let e=s.start,n=s.start+s.count;e<n;e++){let n=e;t&&(n=t.getX(n)),r.expandByPoint(qy.fromBufferAttribute(o,n))}n.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.sphere,i=this.geometry;if(!1===n.sphereInitialized){r.makeEmpty(),this.getBoundingBoxAt(e,Wy),Wy.getCenter(r.center);const t=i.index,o=i.attributes.position,s=this._drawRanges[e];let a=0;for(let e=s.start,n=s.start+s.count;e<n;e++){let n=e;t&&(n=t.getX(n)),qy.fromBufferAttribute(o,n),a=Math.max(a,r.center.distanceToSquared(qy))}r.radius=Math.sqrt(a),n.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture,i=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active||(t.toArray(i,16*e),r.needsUpdate=!0),this}getMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active?null:t.fromArray(r,16*e)}setColorAt(e,t){null===this._colorsTexture&&this._initColorsTexture();const n=this._colorsTexture,r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||!1===i[e].active||(t.toArray(r,4*e),n.needsUpdate=!0),this}getColorAt(e,t){const n=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||!1===r[e].active?null:t.fromArray(n,4*e)}setVisibleAt(e,t){const n=this._drawInfo;return e>=n.length||!1===n[e].active||n[e].visible===t||(n[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){const t=this._drawInfo;return!(e>=t.length||!1===t[e].active)&&t[e].visible}raycast(e,t){const n=this._drawInfo,r=this._drawRanges,i=this.matrixWorld,o=this.geometry;Ky.material=this.material,Ky.geometry.index=o.index,Ky.geometry.attributes=o.attributes,null===Ky.geometry.boundingBox&&(Ky.geometry.boundingBox=new Tf),null===Ky.geometry.boundingSphere&&(Ky.geometry.boundingSphere=new Hf);for(let s=0,a=n.length;s<a;s++){if(!n[s].visible||!n[s].active)continue;const o=n[s].geometryIndex,a=r[o];Ky.geometry.setDrawRange(a.start,a.count),this.getMatrixAt(s,Ky.matrixWorld).premultiply(i),this.getBoundingBoxAt(o,Ky.geometry.boundingBox),this.getBoundingSphereAt(o,Ky.geometry.boundingSphere),Ky.raycast(e,Zy);for(let e=0,n=Zy.length;e<n;e++){const n=Zy[e];n.object=this,n.batchId=s,t.push(n)}Zy.length=0}Ky.material=null,Ky.geometry.index=null,Ky.geometry.attributes={},Ky.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(e=>({...e})),this._reservedRanges=e._reservedRanges.map(e=>({...e})),this._drawInfo=e._drawInfo.map(e=>({...e})),this._bounds=e._bounds.map(e=>({boxInitialized:e.boxInitialized,box:e.box.clone(),sphereInitialized:e.sphereInitialized,sphere:e.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),s=null===o?1:o.array.BYTES_PER_ELEMENT,a=this._drawInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._drawRanges,h=this.perObjectFrustumCulled,f=this._indirectTexture,d=f.image.data;h&&(jy.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Hy.setFromProjectionMatrix(jy,e.coordinateSystem));let p=0;if(this.sortObjects){By.copy(this.matrixWorld).invert(),qy.setFromMatrixPosition(n.matrixWorld).applyMatrix4(By),$y.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(By);for(let n=0,r=a.length;n<r;n++)if(a[n].visible&&a[n].active){const e=a[n].geometryIndex;this.getMatrixAt(n,Uy),this.getBoundingSphereAt(e,Gy).applyMatrix4(Uy);let t=!1;if(h&&(t=!Hy.intersectsSphere(Gy)),!t){const t=Xy.subVectors(Gy.center,qy).dot($y);Yy.push(u[e],t,n)}}const e=Yy.list,t=this.customSort;null===t?e.sort(i.transparent?Ly:Dy):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];l[p]=t.start*s,c[p]=t.count,d[p]=t.index,p++}Yy.reset()}else for(let m=0,g=a.length;m<g;m++)if(a[m].visible&&a[m].active){const e=a[m].geometryIndex;let t=!1;if(h&&(this.getMatrixAt(m,Uy),this.getBoundingSphereAt(e,Gy).applyMatrix4(Uy),t=!Hy.intersectsSphere(Gy)),!t){const t=u[e];l[p]=t.start*s,c[p]=t.count,d[p]=m,p++}}f.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,o){this.onBeforeRender(e,null,r,i,o)}}class e_ extends Wd{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vd(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const t_=new wf,n_=new wf,r_=new Jf,i_=new Zf,o_=new Hf,s_=new wf,a_=new wf;class l_ extends Td{constructor(e=new up,t=new e_){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)t_.fromBufferAttribute(t,e-1),n_.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=t_.distanceTo(n_);e.setAttribute("lineDistance",new np(n,1))}return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),o_.copy(n.boundingSphere),o_.applyMatrix4(r),o_.radius+=i,!1===e.ray.intersectsSphere(o_))return;r_.copy(r).invert(),i_.copy(e.ray).applyMatrix4(r_);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=c.getX(i),r=c.getX(i+1),o=c_(this,e,i_,a,n,r);o&&t.push(o)}if(this.isLineLoop){const i=c.getX(r-1),o=c.getX(n),s=c_(this,e,i_,a,i,o);s&&t.push(s)}}else{const n=Math.max(0,o.start),r=Math.min(u.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=c_(this,e,i_,a,i,i+1);n&&t.push(n)}if(this.isLineLoop){const i=c_(this,e,i_,a,r-1,n);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function c_(e,t,n,r,i,o){const s=e.geometry.attributes.position;t_.fromBufferAttribute(s,i),n_.fromBufferAttribute(s,o);if(n.distanceSqToSegment(t_,n_,s_,a_)>r)return;s_.applyMatrix4(e.matrixWorld);const a=t.ray.origin.distanceTo(s_);return a<t.near||a>t.far?void 0:{distance:a,point:a_.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,object:e}}const u_=new wf,h_=new wf;class f_ extends l_{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)u_.fromBufferAttribute(t,e),h_.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+u_.distanceTo(h_);e.setAttribute("lineDistance",new np(n,1))}return this}}class d_ extends l_{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class p_ extends Wd{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vd(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const m_=new Jf,g_=new Zf,v_=new Hf,y_=new wf;class __ extends Td{constructor(e=new up,t=new p_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),v_.copy(n.boundingSphere),v_.applyMatrix4(r),v_.radius+=i,!1===e.ray.intersectsSphere(v_))return;m_.copy(r).invert(),g_.copy(e.ray).applyMatrix4(m_);const s=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);n<i;n++){const i=l.getX(n);y_.fromBufferAttribute(c,i),b_(y_,i,a,r,e,t,this)}}else{for(let n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);n<i;n++)y_.fromBufferAttribute(c,n),b_(y_,n,a,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function b_(e,t,n,r,i,o,s){const a=g_.distanceSqToPoint(e);if(a<n){const n=new wf;g_.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:t,face:null,object:s})}}class x_ extends mf{constructor(e,t,n,r,i,o,s,a,l,c,u,h){super(null,o,s,a,l,c,r,i,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class w_{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let s,a=0,l=i-1;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),s=n[r]-o,s<0)a=r+1;else{if(!(s>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),s=this.getPoint(i),a=t||(o.isVector2?new Gh:new wf);return a.copy(s).sub(o).normalize(),a}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new wf,r=[],i=[],o=[],s=new wf,a=new Jf;for(let f=0;f<=e;f++){const t=f/e;r[f]=this.getTangentAt(t,new wf)}i[0]=new wf,o[0]=new wf;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),s.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],s),o[0].crossVectors(r[0],i[0]);for(let f=1;f<=e;f++){if(i[f]=i[f-1].clone(),o[f]=o[f-1].clone(),s.crossVectors(r[f-1],r[f]),s.length()>Number.EPSILON){s.normalize();const e=Math.acos(Bh(r[f-1].dot(r[f]),-1,1));i[f].applyMatrix4(a.makeRotationAxis(s,e))}o[f].crossVectors(r[f],i[f])}if(!0===t){let t=Math.acos(Bh(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(s.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(a.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class S_ extends w_{constructor(e=0,t=0,n=1,r=1,i=0,o=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(e,t=new Gh){const n=t,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const s=this.aStartAngle+e*i;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=a-this.aX,r=l-this.aY;a=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(a,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class E_ extends S_{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function T_(){let e=0,t=0,n=0,r=0;function i(i,o,s,a){e=i,t=s,n=-3*i+3*o-2*s-a,r=2*i-2*o+s+a}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,s,a){let l=(t-e)/o-(n-e)/(o+s)+(n-t)/s,c=(n-t)/s-(r-t)/(s+a)+(r-n)/a;l*=s,c*=s,i(t,n,l,c)},calc:function(i){const o=i*i;return e+t*i+n*o+r*(o*i)}}}const A_=new wf,M_=new T_,C_=new T_,O_=new T_;class R_ extends w_{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new wf){const n=t,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e;let s,a,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?s=r[(l-1)%i]:(A_.subVectors(r[0],r[1]).add(r[0]),s=A_);const u=r[l%i],h=r[(l+1)%i];if(this.closed||l+2<i?a=r[(l+2)%i]:(A_.subVectors(r[i-1],r[i-2]).add(r[i-1]),a=A_),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(s.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(a),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),M_.initNonuniformCatmullRom(s.x,u.x,h.x,a.x,t,n,r),C_.initNonuniformCatmullRom(s.y,u.y,h.y,a.y,t,n,r),O_.initNonuniformCatmullRom(s.z,u.z,h.z,a.z,t,n,r)}else"catmullrom"===this.curveType&&(M_.initCatmullRom(s.x,u.x,h.x,a.x,this.tension),C_.initCatmullRom(s.y,u.y,h.y,a.y,this.tension),O_.initCatmullRom(s.z,u.z,h.z,a.z,this.tension));return n.set(M_.calc(c),C_.calc(c),O_.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new wf).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function I_(e,t,n,r,i){const o=.5*(r-t),s=.5*(i-n),a=e*e;return(2*n-2*r+o+s)*(e*a)+(-3*n+3*r-2*o-s)*a+o*e+n}function k_(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function P_(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class N_ extends w_{constructor(e=new Gh,t=new Gh,n=new Gh,r=new Gh){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Gh){const n=t,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(P_(e,r.x,i.x,o.x,s.x),P_(e,r.y,i.y,o.y,s.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class D_ extends w_{constructor(e=new wf,t=new wf,n=new wf,r=new wf){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new wf){const n=t,r=this.v0,i=this.v1,o=this.v2,s=this.v3;return n.set(P_(e,r.x,i.x,o.x,s.x),P_(e,r.y,i.y,o.y,s.y),P_(e,r.z,i.z,o.z,s.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L_ extends w_{constructor(e=new Gh,t=new Gh){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Gh){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Gh){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class F_ extends w_{constructor(e=new wf,t=new wf){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new wf){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new wf){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U_ extends w_{constructor(e=new Gh,t=new Gh,n=new Gh){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Gh){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(k_(e,r.x,i.x,o.x),k_(e,r.y,i.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class B_ extends w_{constructor(e=new wf,t=new wf,n=new wf){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new wf){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(k_(e,r.x,i.x,o.x),k_(e,r.y,i.y,o.y),k_(e,r.z,i.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class z_ extends w_{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Gh){const n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),s=i-o,a=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(I_(s,a.x,l.x,c.x,u.x),I_(s,a.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Gh).fromArray(n))}return this}}var V_=Object.freeze({__proto__:null,ArcCurve:E_,CatmullRomCurve3:R_,CubicBezierCurve:N_,CubicBezierCurve3:D_,EllipseCurve:S_,LineCurve:L_,LineCurve3:F_,QuadraticBezierCurve:U_,QuadraticBezierCurve3:B_,SplineCurve:z_});class j_ extends w_{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new V_[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,o=this.curves[i],s=o.getLength(),a=0===s?0:1-e/s;return o.getPointAt(a,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],s=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let e=0;e<a.length;e++){const r=a[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new V_[n.type]).fromJSON(n))}return this}}class H_ extends j_{constructor(e){super(),this.type="Path",this.currentPoint=new Gh,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new L_(this.currentPoint.clone(),new Gh(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new U_(this.currentPoint.clone(),new Gh(e,t),new Gh(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,o){const s=new N_(this.currentPoint.clone(),new Gh(e,t),new Gh(n,r),new Gh(i,o));return this.curves.push(s),this.currentPoint.set(i,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new z_(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,r,i,o),this}absarc(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}ellipse(e,t,n,r,i,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,o,s,a),this}absellipse(e,t,n,r,i,o,s,a){const l=new S_(e,t,n,r,i,o,s,a);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class W_ extends up{constructor(e=[new Gh(0,-.5),new Gh(.5,0),new Gh(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=Bh(r,0,2*Math.PI);const i=[],o=[],s=[],a=[],l=[],c=1/t,u=new wf,h=new Gh,f=new wf,d=new wf,p=new wf;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=1*g,f.y=-m,f.z=0*g,p.copy(f),f.normalize(),a.push(f.x,f.y,f.z);break;case e.length-1:a.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=1*g,f.y=-m,f.z=0*g,d.copy(f),f.x+=p.x,f.y+=p.y,f.z+=p.z,f.normalize(),a.push(f.x,f.y,f.z),p.copy(d)}for(let v=0;v<=t;v++){const i=n+v*c*r,f=Math.sin(i),d=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*f,u.y=e[n].y,u.z=e[n].x*d,o.push(u.x,u.y,u.z),h.x=v/t,h.y=n/(e.length-1),s.push(h.x,h.y);const r=a[3*n+0]*f,i=a[3*n+1],c=a[3*n+0]*d;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,o=n+e.length,s=n+e.length+1,a=n+1;i.push(r,o,a),i.push(s,a,o)}this.setIndex(i),this.setAttribute("position",new np(o,3)),this.setAttribute("uv",new np(s,2)),this.setAttribute("normal",new np(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W_(e.points,e.segments,e.phiStart,e.phiLength)}}class G_ extends W_{constructor(e=1,t=1,n=4,r=8){const i=new H_;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new G_(e.radius,e.length,e.capSegments,e.radialSegments)}}class q_ extends up{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],o=[],s=[],a=[],l=new wf,c=new Gh;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),o.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,a.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new np(o,3)),this.setAttribute("normal",new np(s,3)),this.setAttribute("uv",new np(a,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class $_ extends up{constructor(e=1,t=1,n=1,r=32,i=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],h=[],f=[];let d=0;const p=[],m=n/2;let g=0;function v(n){const i=d,o=new Gh,p=new wf;let v=0;const y=!0===n?e:t,_=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*_,0),h.push(0,_,0),f.push(.5,.5),d++;const b=d;for(let e=0;e<=r;e++){const t=e/r*a+s,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*_,p.z=y*n,u.push(p.x,p.y,p.z),h.push(0,_,0),o.x=.5*n+.5,o.y=.5*i*_+.5,f.push(o.x,o.y),d++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new wf,v=new wf;let y=0;const _=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*a+s,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),o.set(l,_,p).normalize(),h.push(o.x,o.y,o.z),f.push(t,1-g),c.push(d++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],o=p[t][e+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(g,y,0),g+=y}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new np(u,3)),this.setAttribute("normal",new np(h,3)),this.setAttribute("uv",new np(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class X_ extends $_{constructor(e=1,t=1,n=32,r=1,i=!1,o=0,s=2*Math.PI){super(0,e,t,n,r,i,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:s}}static fromJSON(e){return new X_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Y_ extends up{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],o=[];function s(e,t,n,r){const i=r+1,o=[];for(let s=0;s<=i;s++){o[s]=[];const r=e.clone().lerp(n,s/i),a=t.clone().lerp(n,s/i),l=i-s;for(let e=0;e<=l;e++)o[s][e]=0===e&&s===i?r:r.clone().lerp(a,e/l)}for(let s=0;s<i;s++)for(let e=0;e<2*(i-s)-1;e++){const t=Math.floor(e/2);e%2==0?(a(o[s][t+1]),a(o[s+1][t]),a(o[s][t])):(a(o[s][t+1]),a(o[s+1][t+1]),a(o[s+1][t]))}}function a(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function h(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new wf,r=new wf,i=new wf;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),s(n,r,i,e)}(r),function(e){const t=new wf;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new wf;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=u(e)/2/Math.PI+.5,r=h(e)/Math.PI+.5;o.push(n,1-r)}(function(){const e=new wf,t=new wf,n=new wf,r=new wf,s=new Gh,a=new Gh,l=new Gh;for(let h=0,f=0;h<i.length;h+=9,f+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),s.set(o[f+0],o[f+1]),a.set(o[f+2],o[f+3]),l.set(o[f+4],o[f+5]),r.copy(e).add(t).add(n).divideScalar(3);const d=u(r);c(s,f+0,e,d),c(a,f+2,t,d),c(l,f+4,n,d)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),s=Math.min(t,n,r);i>.9&&s<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new np(i,3)),this.setAttribute("normal",new np(i.slice(),3)),this.setAttribute("uv",new np(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Y_(e.vertices,e.indices,e.radius,e.details)}}class K_ extends Y_{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new K_(e.radius,e.detail)}}const Z_=new wf,J_=new wf,Q_=new wf,eb=new Ld;class tb extends up{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Lh*t),o=e.getIndex(),s=e.getAttribute("position"),a=o?o.count:s.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},f=[];for(let e=0;e<a;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:a}=eb;if(t.fromBufferAttribute(s,l[0]),n.fromBufferAttribute(s,l[1]),a.fromBufferAttribute(s,l[2]),eb.getNormal(Q_),u[0]=`${Math.round(t.x*r)},${Math.round(t.y*r)},${Math.round(t.z*r)}`,u[1]=`${Math.round(n.x*r)},${Math.round(n.y*r)},${Math.round(n.z*r)}`,u[2]=`${Math.round(a.x*r)},${Math.round(a.y*r)},${Math.round(a.z*r)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],o=eb[c[e]],s=eb[c[t]],a=`${n}_${r}`,d=`${r}_${n}`;d in h&&h[d]?(Q_.dot(h[d].normal)<=i&&(f.push(o.x,o.y,o.z),f.push(s.x,s.y,s.z)),h[d]=null):a in h||(h[a]={index0:l[e],index1:l[t],normal:Q_.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];Z_.fromBufferAttribute(s,t),J_.fromBufferAttribute(s,n),f.push(Z_.x,Z_.y,Z_.z),f.push(J_.x,J_.y,J_.z)}this.setAttribute("position",new np(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class nb extends H_{constructor(e){super(e),this.uuid=Uh(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new H_).fromJSON(n))}return this}}const rb=function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let o=ib(e,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,h,f,d;if(r&&(o=function(e,t,n,r){const i=[];let o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*r,l=o<s-1?t[o+1]*r:e.length,c=ib(e,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(mb(c));for(i.sort(hb),o=0;o<i.length;o++)n=fb(i[o],n);return n}(e,t,o,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)h=e[t],f=e[t+1],h<a&&(a=h),f<l&&(l=f),h>c&&(c=h),f>u&&(u=f);d=Math.max(c-a,u-l),d=0!==d?32767/d:0}return sb(o,s,n,a,l,d,0),s};function ib(e,t,n,r,i){let o,s;if(i===function(e,t,n,r){let i=0;for(let o=t,s=n-r;o<n;o+=r)i+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)s=Tb(o,e[o],e[o+1],s);else for(o=n-r;o>=t;o-=r)s=Tb(o,e[o],e[o+1],s);return s&&_b(s,s.next)&&(Ab(s),s=s.next),s}function ob(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!_b(r,r.next)&&0!==yb(r.prev,r,r.next))r=r.next;else{if(Ab(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function sb(e,t,n,r,i,o,s){if(!e)return;!s&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=pb(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,r=n,a=0,t=0;t<c&&(a++,r=r.nextZ,r);t++);for(l=c;a>0||l>0&&r;)0!==a&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(s>1)}(i)}(e,r,i,o);let a,l,c=e;for(;e.prev!==e.next;)if(a=e.prev,l=e.next,o?lb(e,r,i,o):ab(e))t.push(a.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Ab(e),e=l.next,c=l.next;else if((e=l)===c){s?1===s?sb(e=cb(ob(e),t,n),t,n,r,i,o,2):2===s&&ub(e,t,n,r,i,o):sb(ob(e),t,n,r,i,o,1);break}}function ab(e){const t=e.prev,n=e,r=e.next;if(yb(t,n,r)>=0)return!1;const i=t.x,o=n.x,s=r.x,a=t.y,l=n.y,c=r.y,u=i<o?i<s?i:s:o<s?o:s,h=a<l?a<c?a:c:l<c?l:c,f=i>o?i>s?i:s:o>s?o:s,d=a>l?a>c?a:c:l>c?l:c;let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=f&&p.y>=h&&p.y<=d&&gb(i,a,o,l,s,c,p.x,p.y)&&yb(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function lb(e,t,n,r){const i=e.prev,o=e,s=e.next;if(yb(i,o,s)>=0)return!1;const a=i.x,l=o.x,c=s.x,u=i.y,h=o.y,f=s.y,d=a<l?a<c?a:c:l<c?l:c,p=u<h?u<f?u:f:h<f?h:f,m=a>l?a>c?a:c:l>c?l:c,g=u>h?u>f?u:f:h>f?h:f,v=pb(d,p,t,n,r),y=pb(m,g,t,n,r);let _=e.prevZ,b=e.nextZ;for(;_&&_.z>=v&&b&&b.z<=y;){if(_.x>=d&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&gb(a,u,l,h,c,f,_.x,_.y)&&yb(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&gb(a,u,l,h,c,f,b.x,b.y)&&yb(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=v;){if(_.x>=d&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==s&&gb(a,u,l,h,c,f,_.x,_.y)&&yb(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==s&&gb(a,u,l,h,c,f,b.x,b.y)&&yb(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function cb(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!_b(i,o)&&bb(i,r,r.next,o)&&Sb(i,o)&&Sb(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Ab(r),Ab(r.next),r=e=o),r=r.next}while(r!==e);return ob(r)}function ub(e,t,n,r,i,o){let s=e;do{let e=s.next.next;for(;e!==s.prev;){if(s.i!==e.i&&vb(s,e)){let a=Eb(s,e);return s=ob(s,s.next),a=ob(a,a.next),sb(s,t,n,r,i,o,0),void sb(a,t,n,r,i,o,0)}e=e.next}s=s.next}while(s!==e)}function hb(e,t){return e.x-t.x}function fb(e,t){const n=function(e,t){let n,r=t,i=-1/0;const o=e.x,s=e.y;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){const e=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=o&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===o))return n}r=r.next}while(r!==t);if(!n)return null;const a=n,l=n.x,c=n.y;let u,h=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&gb(s<c?o:i,s,l,c,s<c?i:o,s,r.x,r.y)&&(u=Math.abs(s-r.y)/(o-r.x),Sb(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&db(n,r)))&&(n=r,h=u)),r=r.next}while(r!==a);return n}(e,t);if(!n)return t;const r=Eb(n,e);return ob(r,r.next),ob(n,n.next)}function db(e,t){return yb(e.prev,e,t.prev)<0&&yb(t.next,e,e.next)<0}function pb(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function mb(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function gb(e,t,n,r,i,o,s,a){return(i-s)*(t-a)>=(e-s)*(o-a)&&(e-s)*(r-a)>=(n-s)*(t-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function vb(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&bb(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Sb(e,t)&&Sb(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(yb(e.prev,e,t.prev)||yb(e,t.prev,t))||_b(e,t)&&yb(e.prev,e,e.next)>0&&yb(t.prev,t,t.next)>0)}function yb(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function _b(e,t){return e.x===t.x&&e.y===t.y}function bb(e,t,n,r){const i=wb(yb(e,t,n)),o=wb(yb(e,t,r)),s=wb(yb(n,r,e)),a=wb(yb(n,r,t));return i!==o&&s!==a||(!(0!==i||!xb(e,n,t))||(!(0!==o||!xb(e,r,t))||(!(0!==s||!xb(n,e,r))||!(0!==a||!xb(n,t,r)))))}function xb(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function wb(e){return e>0?1:e<0?-1:0}function Sb(e,t){return yb(e.prev,e,e.next)<0?yb(e,t,e.next)>=0&&yb(e,e.prev,t)>=0:yb(e,t,e.prev)<0||yb(e,e.next,t)<0}function Eb(e,t){const n=new Mb(e.i,e.x,e.y),r=new Mb(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Tb(e,t,n,r){const i=new Mb(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ab(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Mb(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Cb{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Cb.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Ob(e),Rb(n,e);let o=e.length;t.forEach(Ob);for(let a=0;a<t.length;a++)r.push(o),o+=t[a].length,Rb(n,t[a]);const s=rb(n,r);for(let a=0;a<s.length;a+=3)i.push(s.slice(a,a+3));return i}}function Ob(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Rb(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Ib extends up{constructor(e=new nb([new Gh(.5,.5),new Gh(-.5,.5),new Gh(-.5,-.5),new Gh(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let s=0,a=e.length;s<a;s++){o(e[s])}function o(e){const o=[],s=void 0!==t.curveSegments?t.curveSegments:12,a=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,f=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:kb;let g,v,y,_,b,x=!1;p&&(g=p.getSpacedPoints(a),x=!0,c=!1,v=p.computeFrenetFrames(a,!1),y=new wf,_=new wf,b=new wf),c||(d=0,u=0,h=0,f=0);const w=e.extractPoints(s);let S=w.shape;const E=w.holes;if(!Cb.isClockWise(S)){S=S.reverse();for(let e=0,t=E.length;e<t;e++){const t=E[e];Cb.isClockWise(t)&&(E[e]=t.reverse())}}const T=Cb.triangulateShape(S,E),A=S;for(let t=0,n=E.length;t<n;t++){const e=E[t];S=S.concat(e)}function M(e,t,n){return e.clone().addScaledVector(t,n)}const C=S.length,O=T.length;function R(e,t,n){let r,i,o;const s=e.x-t.x,a=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=s*s+a*a,h=s*c-a*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),f=Math.sqrt(l*l+c*c),d=t.x-a/h,p=t.y+s/h,m=((n.x-c/f-d)*c-(n.y+l/f-p)*l)/(s*c-a*l);r=d+s*m-e.x,i=p+a*m-e.y;const g=r*r+i*i;if(g<=2)return new Gh(r,i);o=Math.sqrt(g/2)}else{let e=!1;s>Number.EPSILON?l>Number.EPSILON&&(e=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(a)===Math.sign(c)&&(e=!0),e?(r=-a,i=s,o=Math.sqrt(u)):(r=s,i=a,o=Math.sqrt(u/2))}return new Gh(r/o,i/o)}const I=[];for(let t=0,n=A.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=R(A[t],A[r],A[i]);const k=[];let P,N=I.concat();for(let t=0,n=E.length;t<n;t++){const e=E[t];P=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),P[t]=R(e[t],e[r],e[i]);k.push(P),N=N.concat(P)}for(let t=0;t<d;t++){const e=t/d,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,i=A.length;t<i;t++){const e=M(A[t],I[t],r);F(e.x,e.y,-n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];P=k[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],P[t],r);F(i.x,i.y,-n)}}}const D=h+f;for(let t=0;t<C;t++){const e=c?M(S[t],N[t],D):S[t];x?(_.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(_).add(y),F(b.x,b.y,b.z)):F(e.x,e.y,0)}for(let t=1;t<=a;t++)for(let e=0;e<C;e++){const n=c?M(S[e],N[e],D):S[e];x?(_.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),b.copy(g[t]).add(_).add(y),F(b.x,b.y,b.z)):F(n.x,n.y,l/a*t)}for(let t=d-1;t>=0;t--){const e=t/d,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,i=A.length;t<i;t++){const e=M(A[t],I[t],r);F(e.x,e.y,l+n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];P=k[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],P[t],r);x?F(i.x,i.y+g[a-1].y,g[a-1].x+n):F(i.x,i.y,l+n)}}}function L(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=a+2*d;e<n;e++){const n=C*e,o=C*(e+1);B(t+r+n,t+i+n,t+i+o,t+r+o)}}}function F(e,t,n){o.push(e),o.push(t),o.push(n)}function U(e,t,i){z(e),z(t),z(i);const o=r.length/3,s=m.generateTopUV(n,r,o-3,o-2,o-1);V(s[0]),V(s[1]),V(s[2])}function B(e,t,i,o){z(e),z(t),z(o),z(t),z(i),z(o);const s=r.length/3,a=m.generateSideWallUV(n,r,s-6,s-3,s-2,s-1);V(a[0]),V(a[1]),V(a[3]),V(a[1]),V(a[2]),V(a[3])}function z(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function V(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=C*e;for(let n=0;n<O;n++){const e=T[n];U(e[2]+t,e[1]+t,e[0]+t)}e=a+2*d,t=C*e;for(let n=0;n<O;n++){const e=T[n];U(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<O;e++){const t=T[e];U(t[2],t[1],t[0])}for(let e=0;e<O;e++){const t=T[e];U(t[0]+C*a,t[1]+C*a,t[2]+C*a)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;L(A,t),t+=A.length;for(let n=0,r=E.length;n<r;n++){const e=E[n];L(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new np(r,3)),this.setAttribute("uv",new np(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,o=e.shapes.length;i<o;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new V_[r.type]).fromJSON(r)),new Ib(n,e.options)}}const kb={generateTopUV:function(e,t,n,r,i){const o=t[3*n],s=t[3*n+1],a=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new Gh(o,s),new Gh(a,l),new Gh(c,u)]},generateSideWallUV:function(e,t,n,r,i,o){const s=t[3*n],a=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],h=t[3*r+2],f=t[3*i],d=t[3*i+1],p=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(a-u)<Math.abs(s-c)?[new Gh(s,1-l),new Gh(c,1-h),new Gh(f,1-p),new Gh(m,1-v)]:[new Gh(a,1-l),new Gh(u,1-h),new Gh(d,1-p),new Gh(g,1-v)]}};class Pb extends Y_{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pb(e.radius,e.detail)}}class Nb extends Y_{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Nb(e.radius,e.detail)}}class Db extends up{constructor(e=.5,t=1,n=32,r=1,i=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n);const s=[],a=[],l=[],c=[];let u=e;const h=(t-e)/(r=Math.max(1,r)),f=new wf,d=new Gh;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*o;f.x=u*Math.cos(r),f.y=u*Math.sin(r),a.push(f.x,f.y,f.z),l.push(0,0,1),d.x=(f.x/t+1)/2,d.y=(f.y/t+1)/2,c.push(d.x,d.y)}u+=h}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,a=r+n+2,l=r+1;s.push(i,o,l),s.push(o,a,l)}}this.setIndex(s),this.setAttribute("position",new np(a,3)),this.setAttribute("normal",new np(l,3)),this.setAttribute("uv",new np(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Db(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Lb extends up{constructor(e=new nb([new Gh(0,.5),new Gh(-.5,-.5),new Gh(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],o=[];let s=0,a=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,a,c),s+=a,a=0;function l(e){const s=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Cb.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Cb.isClockWise(e)&&(u[t]=e.reverse())}const h=Cb.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,r=h.length;t<r;t++){const e=h[t],r=e[0]+s,i=e[1]+s,o=e[2]+s;n.push(r,i,o),a+=3}}this.setIndex(n),this.setAttribute("position",new np(r,3)),this.setAttribute("normal",new np(i,3)),this.setAttribute("uv",new np(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Lb(n,e.curveSegments)}}class Fb extends up{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const a=Math.min(o+s,Math.PI);let l=0;const c=[],u=new wf,h=new wf,f=[],d=[],p=[],m=[];for(let g=0;g<=n;g++){const f=[],v=g/n;let y=0;0===g&&0===o?y=.5/t:g===n&&a===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const a=n/t;u.x=-e*Math.cos(r+a*i)*Math.sin(o+v*s),u.y=e*Math.cos(o+v*s),u.z=e*Math.sin(r+a*i)*Math.sin(o+v*s),d.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(a+y,1-v),f.push(l++)}c.push(f)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],s=c[g+1][e+1];(0!==g||o>0)&&f.push(t,r,s),(g!==n-1||a<Math.PI)&&f.push(r,i,s)}this.setIndex(f),this.setAttribute("position",new np(d,3)),this.setAttribute("normal",new np(p,3)),this.setAttribute("uv",new np(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ub extends Y_{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ub(e.radius,e.detail)}}class Bb extends up{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],s=[],a=[],l=[],c=new wf,u=new wf,h=new wf;for(let f=0;f<=n;f++)for(let o=0;o<=r;o++){const d=o/r*i,p=f/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(d),u.y=(e+t*Math.cos(p))*Math.sin(d),u.z=t*Math.sin(p),s.push(u.x,u.y,u.z),c.x=e*Math.cos(d),c.y=e*Math.sin(d),h.subVectors(u,c).normalize(),a.push(h.x,h.y,h.z),l.push(o/r),l.push(f/n)}for(let f=1;f<=n;f++)for(let e=1;e<=r;e++){const t=(r+1)*f+e-1,n=(r+1)*(f-1)+e-1,i=(r+1)*(f-1)+e,s=(r+1)*f+e;o.push(t,n,s),o.push(n,i,s)}this.setIndex(o),this.setAttribute("position",new np(s,3)),this.setAttribute("normal",new np(a,3)),this.setAttribute("uv",new np(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class zb extends up{constructor(e=1,t=.4,n=64,r=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const s=[],a=[],l=[],c=[],u=new wf,h=new wf,f=new wf,d=new wf,p=new wf,m=new wf,g=new wf;for(let y=0;y<=n;++y){const s=y/n*i*Math.PI*2;v(s,i,o,e,f),v(s+.01,i,o,e,d),m.subVectors(d,f),g.addVectors(d,f),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),s=t*Math.sin(i);u.x=f.x+(o*g.x+s*p.x),u.y=f.y+(o*g.y+s*p.y),u.z=f.z+(o*g.z+s*p.z),a.push(u.x,u.y,u.z),h.subVectors(u,f).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,o=(r+1)*(y-1)+e;s.push(t,n,o),s.push(n,i,o)}function v(e,t,n,r,i){const o=Math.cos(e),s=Math.sin(e),a=n/t*e,l=Math.cos(a);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*s*.5,i.z=r*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new np(a,3)),this.setAttribute("normal",new np(l,3)),this.setAttribute("uv",new np(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Vb extends up{constructor(e=new B_(new wf(-1,-1,0),new wf(-1,1,0),new wf(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new wf,a=new wf,l=new Gh;let c=new wf;const u=[],h=[],f=[],d=[];function p(i){c=e.getPointAt(i/t,c);const l=o.normals[i],f=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);a.x=o*l.x+i*f.x,a.y=o*l.y+i*f.y,a.z=o*l.z+i*f.z,a.normalize(),h.push(a.x,a.y,a.z),s.x=c.x+n*a.x,s.y=c.y+n*a.y,s.z=c.z+n*a.z,u.push(s.x,s.y,s.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,f.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,s=(r+1)*(e-1)+t;d.push(n,i,s),d.push(i,o,s)}}()}(),this.setIndex(d),this.setAttribute("position",new np(u,3)),this.setAttribute("normal",new np(h,3)),this.setAttribute("uv",new np(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Vb((new V_[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class jb extends up{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new wf,i=new wf;if(null!==e.index){const o=e.attributes.position,s=e.index;let a=e.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let e=0,l=a.length;e<l;++e){const l=a[e],c=l.start;for(let e=c,a=c+l.count;e<a;e+=3)for(let l=0;l<3;l++){const a=s.getX(e+l),c=s.getX(e+(l+1)%3);r.fromBufferAttribute(o,a),i.fromBufferAttribute(o,c),!0===Hb(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const o=e.attributes.position;for(let e=0,s=o.count/3;e<s;e++)for(let a=0;a<3;a++){const s=3*e+a,l=3*e+(a+1)%3;r.fromBufferAttribute(o,s),i.fromBufferAttribute(o,l),!0===Hb(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new np(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Hb(e,t,n){const r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`,i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`;return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Wb=Object.freeze({__proto__:null,BoxGeometry:Rp,CapsuleGeometry:G_,CircleGeometry:q_,ConeGeometry:X_,CylinderGeometry:$_,DodecahedronGeometry:K_,EdgesGeometry:tb,ExtrudeGeometry:Ib,IcosahedronGeometry:Pb,LatheGeometry:W_,OctahedronGeometry:Nb,PlaneGeometry:em,PolyhedronGeometry:Y_,RingGeometry:Db,ShapeGeometry:Lb,SphereGeometry:Fb,TetrahedronGeometry:Ub,TorusGeometry:Bb,TorusKnotGeometry:zb,TubeGeometry:Vb,WireframeGeometry:jb});class Gb extends Wd{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Vd(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class qb extends Dp{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class $b extends Wd{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Vd(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ld,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Xb extends $b{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Gh(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Bh(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vd(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vd(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vd(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Yb extends Wd{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vd(16777215),this.specular=new Vd(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ld,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Kb extends Wd{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Vd(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Zb extends Wd{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Jb extends Wd{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Vd(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ld,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qb extends Wd{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Vd(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new Gh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ex extends e_{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function tx(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function nx(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rx(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n}function ix(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,s=0;s!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[s++]=e[r+n]}return i}function ox(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let s=o[r];if(void 0!==s)if(Array.isArray(s))do{s=o[r],void 0!==s&&(t.push(o.time),n.push.apply(n,s)),o=e[i++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[r],void 0!==s&&(t.push(o.time),s.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{s=o[r],void 0!==s&&(t.push(o.time),n.push(s)),o=e[i++]}while(void 0!==o)}const sx={convertArray:tx,isTypedArray:nx,getKeyframeOrder:rx,sortedArray:ix,flattenJSON:ox,subclip:function(e,t,n,r,i=30){const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),a=[],c=[];for(let o=0;o<e.times.length;++o){const s=e.times[o]*i;if(!(s<n||s>=r)){a.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==a.length&&(e.times=tx(a,e.times.constructor),e.values=tx(c,e.values.constructor),s.push(e))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,o=t/r;for(let s=0;s<i;++s){const t=n.tracks[s],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find(function(e){return e.name===t.name&&e.ValueTypeName===r});if(void 0===i)continue;let a=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let f;if(o<=t.times[0]){const e=a,n=l-a;f=t.values.slice(e,n)}else if(o>=t.times[h]){const e=h*l+a,n=e+l-a;f=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=a,r=l-a;e.evaluate(o),f=e.resultBuffer.slice(n,r)}if("quaternion"===r){(new xf).fromArray(f).normalize().conjugate().toArray(f)}const d=i.times.length;for(let e=0;e<d;++e){const t=e*u+c;if("quaternion"===r)xf.multiplyQuaternionsFlat(i.values,t,f,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=f[n]}}}return e.blendMode=uh,e}};class ax{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=i)){const s=t[1];e<s&&(n=2,i=s);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0;break n}break e}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class lx extends ax{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:sh,endingEnd:sh}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,s=r[i],a=r[o];if(void 0===s)switch(this.getSettings_().endingStart){case ah:i=e,s=2*t-n;break;case lh:i=r.length-2,s=t+r[i]-r[i+1];break;default:i=e,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case ah:o=e,a=2*n-t;break;case lh:o=1,a=n+r[1]-r[0];break;default:o=e-1,a=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,g=-h*m+2*h*p-h*d,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,_=f*m-f*p;for(let b=0;b!==s;++b)i[b]=g*o[c+b]+v*o[l+b]+y*o[a+b]+_*o[u+b];return i}}class cx extends ax{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(r-t),u=1-c;for(let h=0;h!==s;++h)i[h]=o[l+h]*u+o[a+h]*c;return i}}class ux extends ax{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class hx{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tx(t,this.TimeBufferType),this.values=tx(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:tx(e.times,Array),values:tx(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new ux(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new cx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lx(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case rh:t=this.InterpolantFactoryMethodDiscrete;break;case ih:t=this.InterpolantFactoryMethodLinear;break;case oh:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rh;case this.InterpolantFactoryMethodLinear:return ih;case this.InterpolantFactoryMethodSmooth:return oh}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(e=!1);let o=null;for(let s=0;s!==i;s++){const t=n[s];if("number"==typeof t&&isNaN(t)){e=!1;break}if(null!==o&&o>t){e=!1;break}o=t}if(void 0!==r&&nx(r))for(let s=0,a=r.length;s!==a;++s){const t=r[s];if(isNaN(t)){e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===oh,i=e.length-1;let o=1;for(let s=1;s<i;++s){let i=!1;const a=e[s];if(a!==e[s+1]&&(1!==s||a!==e[0]))if(r)i=!0;else{const e=s*n,r=e-n,o=e+n;for(let s=0;s!==n;++s){const n=t[e+s];if(n!==t[r+s]||n!==t[o+s]){i=!0;break}}}if(i){if(s!==o){e[o]=e[s];const r=s*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,s=0;s!==n;++s)t[r+s]=t[e+s];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}hx.prototype.TimeBufferType=Float32Array,hx.prototype.ValueBufferType=Float32Array,hx.prototype.DefaultInterpolation=ih;class fx extends hx{constructor(e,t,n){super(e,t,n)}}fx.prototype.ValueTypeName="bool",fx.prototype.ValueBufferType=Array,fx.prototype.DefaultInterpolation=rh,fx.prototype.InterpolantFactoryMethodLinear=void 0,fx.prototype.InterpolantFactoryMethodSmooth=void 0;class dx extends hx{}dx.prototype.ValueTypeName="color";class px extends hx{}px.prototype.ValueTypeName="number";class mx extends ax{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(r-t);let l=e*s;for(let c=l+s;l!==c;l+=4)xf.slerpFlat(i,0,o,l-s,o,l,a);return i}}class gx extends hx{InterpolantFactoryMethodLinear(e){return new mx(this.times,this.values,this.getValueSize(),e)}}gx.prototype.ValueTypeName="quaternion",gx.prototype.InterpolantFactoryMethodSmooth=void 0;class vx extends hx{constructor(e,t,n){super(e,t,n)}}vx.prototype.ValueTypeName="string",vx.prototype.ValueBufferType=Array,vx.prototype.DefaultInterpolation=rh,vx.prototype.InterpolantFactoryMethodLinear=void 0,vx.prototype.InterpolantFactoryMethodSmooth=void 0;class yx extends hx{}yx.prototype.ValueTypeName="vector";class _x{constructor(e="",t=-1,n=[],r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Uh(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,s=n.length;o!==s;++o)t.push(bx(n[o]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(hx.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let s=0;s<i;s++){let e=[],a=[];e.push((s+i-1)%i,s,(s+1)%i),a.push(0,1,0);const l=rx(e);e=ix(e,1,l),a=ix(a,1,l),r||0!==e[0]||(e.push(i),a.push(a[0])),o.push(new px(".morphTargetInfluences["+t[s].name+"]",e,a).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const t=e[s],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const s in r)o.push(this.CreateFromMorphTargetSequence(s,r[s],t,n));return o}static parseAnimation(e,t){if(!e)return null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],s=[];ox(n,o,s,r),0!==o.length&&i.push(new e(t,o,s))}},r=[],i=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new px(".morphTargetInfluence["+i+"]",t,o))}a=t.length*o}else{const i=".bones["+t[c].name+"]";n(yx,i+".position",e,"pos",r),n(gx,i+".quaternion",e,"rot",r),n(yx,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,a,r,s)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bx(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return px;case"vector":case"vector2":case"vector3":case"vector4":return yx;case"color":return dx;case"quaternion":return gx;case"bool":case"boolean":return fx;case"string":return vx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];ox(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const xx={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class wx{constructor(e,t,n){const r=this;let i,o=!1,s=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===o&&void 0!==r.onStart&&r.onStart(e,s,a),o=!0},this.itemEnd=function(e){s++,void 0!==r.onProgress&&r.onProgress(e,s,a),s===a&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Sx=new wx;class Ex{constructor(e){this.manager=void 0!==e?e:Sx,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ex.DEFAULT_MATERIAL_NAME="__DEFAULT";const Tx={};class Ax extends Error{constructor(e,t){super(e),this.response=t}}class Mx extends Ex{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=xx.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==Tx[e])return void Tx[e].push({onLoad:t,onProgress:n,onError:r});Tx[e]=[],Tx[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then(t=>{if(200===t.status||0===t.status){if(t.status,"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Tx[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),o=i?parseInt(i):0,s=0!==o;let a=0;const l=new ReadableStream({start(e){!function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{a+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new Ax(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`,t)}).then(e=>{switch(a){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,s));case"json":return e.json();default:if(void 0===s)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(s),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{xx.add(e,t);const n=Tx[e];delete Tx[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=Tx[e];if(void 0===n)throw this.manager.itemError(e),t;delete Tx[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Cx extends Ex{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=xx.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;const s=Zh("img");function a(){c(),xx.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),i.manager.itemStart(e),s.src=e,s}}class Ox extends Td{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Vd(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class Rx extends Ox{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Td.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vd(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Ix=new Jf,kx=new wf,Px=new wf;class Nx{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Gh(512,512),this.map=null,this.mapPass=null,this.matrix=new Jf,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Zp,this._frameExtents=new Gh(1,1),this._viewportCount=1,this._viewports=[new gf(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;kx.setFromMatrixPosition(e.matrixWorld),t.position.copy(kx),Px.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Px),t.updateMatrixWorld(),Ix.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ix),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Ix)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Dx extends Nx{constructor(){super(new zp(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Fh*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lx extends Ox{constructor(e,t,n=0,r=Math.PI/3,i=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Td.DEFAULT_UP),this.updateMatrix(),this.target=new Td,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new Dx}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Fx=new Jf,Ux=new wf,Bx=new wf;class zx extends Nx{constructor(){super(new zp(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Gh(4,2),this._viewportCount=6,this._viewports=[new gf(2,1,1,1),new gf(0,1,1,1),new gf(3,1,1,1),new gf(1,1,1,1),new gf(3,0,1,1),new gf(1,0,1,1)],this._cubeDirections=[new wf(1,0,0),new wf(-1,0,0),new wf(0,0,1),new wf(0,0,-1),new wf(0,1,0),new wf(0,-1,0)],this._cubeUps=[new wf(0,1,0),new wf(0,1,0),new wf(0,1,0),new wf(0,1,0),new wf(0,0,1),new wf(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Ux.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ux),Bx.copy(n.position),Bx.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Bx),n.updateMatrixWorld(),r.makeTranslation(-Ux.x,-Ux.y,-Ux.z),Fx.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Fx)}}class Vx extends Ox{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new zx}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class jx extends Nx{constructor(){super(new dm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Hx extends Ox{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Td.DEFAULT_UP),this.updateMatrix(),this.target=new Td,this.shadow=new jx}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Wx extends Ox{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Gx extends Ox{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class qx{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new wf)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class $x extends Ox{constructor(e=new qx,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Xx extends Ex{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,o=new Mx(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(vme){r&&r(vme),i.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(e){return t[e],t[e]}const r=Xx.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Vd).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new Vd).setHex(t.value);break;case"v2":r.uniforms[i].value=(new Gh).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new wf).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new gf).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new qh).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new Jf).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new Gh).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new Gh).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:Gb,SpriteMaterial:qv,RawShaderMaterial:qb,ShaderMaterial:Dp,PointsMaterial:p_,MeshPhysicalMaterial:Xb,MeshStandardMaterial:$b,MeshPhongMaterial:Yb,MeshToonMaterial:Kb,MeshNormalMaterial:Zb,MeshLambertMaterial:Jb,MeshDepthMaterial:wv,MeshDistanceMaterial:Sv,MeshBasicMaterial:Gd,MeshMatcapMaterial:Qb,LineDashedMaterial:ex,LineBasicMaterial:e_,Material:Wd}[e]}}class Yx{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(vme){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class Kx extends up{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Zx extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Mx(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(vme){r&&r(vme),i.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],o=new Uint32Array(i).buffer;return n[t]=o,o}(e,i.buffer),s=Kh(i.type,o),a=new Hv(s,i.stride);return a.uuid=i.uuid,t[r]=a,a}const i=e.isInstancedBufferGeometry?new Kx:new up,o=e.data.index;if(void 0!==o){const e=Kh(o.type,o.array);i.setIndex(new Qd(e,1))}const s=e.data.attributes;for(const u in s){const t=s[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Gv(i,t.itemSize,t.offset,t.normalized)}else{const e=Kh(t.type,t.array);n=new(t.isInstancedBufferAttribute?Ay:Qd)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(u,n)}const a=e.data.morphAttributes;if(a)for(const u in a){const t=a[u],n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];let s;if(o.isInterleavedBufferAttribute){const t=r(e.data,o.data);s=new Gv(t,o.itemSize,o.offset,o.normalized)}else{const e=Kh(o.type,o.array);s=new Qd(e,o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new wf;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new Hf(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}const Jx={UVMapping:zc,CubeReflectionMapping:Vc,CubeRefractionMapping:jc,EquirectangularReflectionMapping:Hc,EquirectangularRefractionMapping:Wc,CubeUVReflectionMapping:Gc},Qx={RepeatWrapping:qc,ClampToEdgeWrapping:$c,MirroredRepeatWrapping:Xc},ew={NearestFilter:Yc,NearestMipmapNearestFilter:Kc,NearestMipmapLinearFilter:Zc,LinearFilter:Jc,LinearMipmapNearestFilter:Qc,LinearMipmapLinearFilter:eu};let tw;class nw{static getContext(){return void 0===tw&&(tw=new(window.AudioContext||window.webkitAudioContext)),tw}static setContext(e){tw=e}}const rw=new Jf,iw=new Jf,ow=new Jf;class sw{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=aw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=aw();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function aw(){return("undefined"==typeof performance?Date:performance).now()}const lw=new wf,cw=new xf,uw=new wf,hw=new wf;class fw extends Td{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const dw=new wf,pw=new xf,mw=new wf,gw=new wf;class vw{constructor(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let o=0;o!==i;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){xf.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const o=this._workIndex*i;xf.multiplyQuaternionsFlat(e,o,e,t,e,n),xf.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,i){const o=1-r;for(let s=0;s!==i;++s){const i=t+s;e[i]=e[i]*o+e[n+s]*r}}_lerpAdditive(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}}const yw="\\[\\]\\.:\\/",_w=new RegExp("["+yw+"]","g"),bw="[^"+yw+"]",xw="[^"+yw.replace("\\.","")+"]",ww=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",bw)+/(WCOD+)?/.source.replace("WCOD",xw)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bw)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bw)+"$"),Sw=["material","materials","bones","map"];class Ew{constructor(e,t,n){this.path=t,this.parsedPath=n||Ew.parseTrackName(t),this.node=Ew.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Ew.Composite(e,t,n):new Ew(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_w,"")}static parseTrackName(e){const t=ww.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Sw.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Ew.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return;if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return;if(!e.material.map)return;e=e.material.map;break;default:if(void 0===e[n])return;e=e[n]}if(void 0!==r){if(void 0===e[r])return;e=e[r]}}const o=e[r];if(void 0===o){t.nodeName;return}let s=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?s=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.morphAttributes)return;void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ew.Composite=class{constructor(e,t,n){const r=n||Ew.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Ew.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ew.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ew.prototype.GetterByBindingType=[Ew.prototype._getValue_direct,Ew.prototype._getValue_array,Ew.prototype._getValue_arrayElement,Ew.prototype._getValue_toArray],Ew.prototype.SetterByBindingTypeAndVersioning=[[Ew.prototype._setValue_direct,Ew.prototype._setValue_direct_setNeedsUpdate,Ew.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ew.prototype._setValue_array,Ew.prototype._setValue_array_setNeedsUpdate,Ew.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ew.prototype._setValue_arrayElement,Ew.prototype._setValue_arrayElement_setNeedsUpdate,Ew.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ew.prototype._setValue_fromArray,Ew.prototype._setValue_fromArray_setNeedsUpdate,Ew.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Tw{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,o=i.length,s=new Array(o),a={endingStart:sh,endingEnd:sh};for(let l=0;l!==o;++l){const e=i[l].createInterpolant(null);s[l]=e,e.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let s=this._timeScaleInterpolant;null===s&&(s=r._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=i,a[1]=i+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===uh)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(s);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,s)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=2202===n;if(0===e)return-1===i||!o||1&~i?r:t-r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&!(1&~i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=ah,r.endingEnd=ah):(r.endingStart=e?this.zeroSlopeAtStart?ah:sh:lh,r.endingEnd=t?this.zeroSlopeAtEnd?ah:sh:lh)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=i,a[0]=t,s[1]=i+e,a[1]=n,this}}const Aw=new Float32Array(1);class Mw{constructor(e){this.value=e}clone(){return new Mw(void 0===this.value.clone?this.value:this.value.clone())}}let Cw=0;const Ow=new Jf;function Rw(e,t){return e.distance-t.distance}function Iw(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Iw(r[e],t,n,!0)}}const kw=new Gh;const Pw=new wf,Nw=new wf;const Dw=new wf;const Lw=new wf,Fw=new Jf,Uw=new Jf;function Bw(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Bw(e.children[n]));return t}const zw=new wf,Vw=new Vd,jw=new Vd;const Hw=new wf,Ww=new wf,Gw=new wf;const qw=new wf,$w=new Lp;function Xw(e,t,n,r,i,o,s){qw.set(i,o,s).unproject(r);const a=t[e];if(void 0!==a){const e=n.getAttribute("position");for(let t=0,n=a.length;t<n;t++)e.setXYZ(a[t],qw.x,qw.y,qw.z)}}const Yw=new Tf;const Kw=new wf;let Zw,Jw;"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:mc}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__=mc));const Qw=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:4,AddEquation:bc,AddOperation:2,AdditiveAnimationBlendMode:uh,AdditiveBlending:2,AgXToneMapping:6,AlphaFormat:du,AlwaysCompare:519,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:Wx,AnimationAction:Tw,AnimationClip:_x,AnimationLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Mx(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(vme){r&&r(vme),i.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=_x.parse(e[n]);t.push(r)}return t}},AnimationMixer:class extends Ph{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new vw(Ew.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,i),o[u]=l}s[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,s=o[i],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;delete s.actionByRoot[(e._localRoot||this._root).uuid],0===a.length&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,s=o[r],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[i],0===Object.keys(s).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new cx(new Float32Array(2),new Float32Array(2),1,Aw),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let o="string"==typeof e?_x.findByName(r,e):e;const s=null!==o?o.uuid:e,a=this._actionsByClip[s];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:ch),void 0!==a){const e=a.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=a.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Tw(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?_x.findByName(n,e):e,o=i?i.uuid:e,s=this._actionsByClip[o];return void 0!==s&&s.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,o)}const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Uh(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let s,a=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let f=t[h];if(void 0===f){f=a++,t[h]=f,e.push(u);for(let e=0,t=o;e!==t;++e)i[e].push(new Ew(u,n[e],r[e]))}else if(f<l){s=e[f];const a=--l,c=e[a];t[c.uuid]=f,e[f]=c,t[h]=a,e[a]=u;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[a];let s=t[f];t[f]=o,void 0===s&&(s=new Ew(u,n[e],r[e])),t[a]=s}}else e[f]}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,l=t[a];if(void 0!==l&&l>=i){const o=i++,c=e[o];t[c.uuid]=l,e[l]=c,t[a]=o,e[o]=s;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[l]=r,t[o]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,l=t[a];if(void 0!==l)if(delete t[a],l<i){const s=--i,a=e[s],c=--o,u=e[c];t[a.uuid]=l,e[l]=a,t[u.uuid]=s,e[s]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[s],i=t[c];t[l]=r,t[s]=i,t.pop()}}else{const i=--o,s=e[i];i>0&&(t[s.uuid]=l),e[l]=s,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,o.push(e),s.push(t),i.push(u);for(let h=c,f=a.length;h!==f;++h){const n=a[h];u[h]=new Ew(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s];t[e[s]]=n,o[n]=a,o.pop(),i[n]=i[s],i.pop(),r[n]=r[s],r.pop()}}},AnimationUtils:sx,ArcCurve:E_,ArrayCamera:Rv,ArrowHelper:class extends Td{constructor(e=new wf(0,0,1),t=new wf(0,0,0),n=1,r=16776960,i=.2*n,o=.2*i){super(),this.type="ArrowHelper",void 0===Zw&&(Zw=new up,Zw.setAttribute("position",new np([0,0,0,0,1,0],3)),Jw=new $_(0,.5,1,5,1),Jw.translate(0,-.5,0)),this.position.copy(t),this.line=new l_(Zw,new e_({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Cp(Jw,new Gd({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Kw.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(Kw,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},AttachedBindMode:Uc,Audio:fw,AudioAnalyser:class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},AudioContext:nw,AudioListener:class extends Td{constructor(){super(),this.type="AudioListener",this.context=nw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new sw}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lw,cw,uw),hw.set(0,0,-1).applyQuaternion(cw),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(lw.x,e),t.positionY.linearRampToValueAtTime(lw.y,e),t.positionZ.linearRampToValueAtTime(lw.z,e),t.forwardX.linearRampToValueAtTime(hw.x,e),t.forwardY.linearRampToValueAtTime(hw.y,e),t.forwardZ.linearRampToValueAtTime(hw.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(lw.x,lw.y,lw.z),t.setOrientation(hw.x,hw.y,hw.z,n.x,n.y,n.z)}},AudioLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Mx(this.manager);function s(t){r&&r(t),i.manager.itemError(e)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(e){try{const n=e.slice(0);nw.getContext().decodeAudioData(n,function(e){t(e)}).catch(s)}catch(vme){s(vme)}},n,r)}},AxesHelper:class extends f_{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new up;n.setAttribute("position",new np(t,3)),n.setAttribute("color",new np([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new e_({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new Vd,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,BatchedMesh:Qy,Bone:xy,BooleanKeyframeTrack:fx,Box2:class{constructor(e=new Gh(1/0,1/0),t=new Gh(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=kw.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,kw).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Box3:Tf,Box3Helper:class extends f_{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new up;r.setIndex(new Qd(n,1)),r.setAttribute("position",new np([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new e_({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxGeometry:Rp,BoxHelper:class extends f_{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new up;i.setIndex(new Qd(n,1)),i.setAttribute("position",new Qd(r,3)),super(i,new e_({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==this.object&&Yw.setFromObject(this.object),Yw.isEmpty())return;const t=Yw.min,n=Yw.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BufferAttribute:Qd,BufferGeometry:up,BufferGeometryLoader:Zx,ByteType:nu,Cache:xx,Camera:Lp,CameraHelper:class extends f_{constructor(e){const t=new up,n=new e_({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={};function s(e,t){a(e),a(t)}function a(e){r.push(0,0,0),i.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),t.setAttribute("position",new np(r,3)),t.setAttribute("color",new np(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new Vd(16755200),c=new Vd(16711680),u=new Vd(43775),h=new Vd(16777215),f=new Vd(3355443);this.setColors(l,c,u,h,f)}setColors(e,t,n,r,i){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;$w.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xw("c",t,e,$w,0,0,-1),Xw("t",t,e,$w,0,0,1),Xw("n1",t,e,$w,-1,-1,-1),Xw("n2",t,e,$w,1,-1,-1),Xw("n3",t,e,$w,-1,1,-1),Xw("n4",t,e,$w,1,1,-1),Xw("f1",t,e,$w,-1,-1,1),Xw("f2",t,e,$w,1,-1,1),Xw("f3",t,e,$w,-1,1,1),Xw("f4",t,e,$w,1,1,1),Xw("u1",t,e,$w,.7,1.1,-1),Xw("u2",t,e,$w,-.7,1.1,-1),Xw("u3",t,e,$w,0,2,-1),Xw("cf1",t,e,$w,-1,0,1),Xw("cf2",t,e,$w,1,0,1),Xw("cf3",t,e,$w,0,-1,1),Xw("cf4",t,e,$w,0,1,1),Xw("cn1",t,e,$w,-1,0,-1),Xw("cn2",t,e,$w,1,0,-1),Xw("cn3",t,e,$w,0,-1,-1),Xw("cn4",t,e,$w,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},CanvasTexture:class extends mf{constructor(e,t,n,r,i,o,s,a,l){super(e,t,n,r,i,o,s,a,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleGeometry:G_,CatmullRomCurve3:R_,CineonToneMapping:3,CircleGeometry:q_,ClampToEdgeWrapping:$c,Clock:sw,Color:Vd,ColorKeyframeTrack:dx,ColorManagement:sf,CompressedArrayTexture:class extends x_{constructor(e,t,n,r,i,o){super(e,t,n,i,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=$c,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},CompressedCubeTexture:class extends x_{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Vc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},CompressedTexture:x_,CompressedTextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=[],s=new x_,a=new Mx(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(i.withCredentials);let l=0;function c(c){a.load(e[c],function(e){const n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=Jc),s.image=o,s.format=n.format,s.needsUpdate=!0,t&&t(s))},n,r)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else a.load(e,function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=Jc),s.format=n.format,s.needsUpdate=!0,t&&t(s)},n,r);return s}},ConeGeometry:X_,ConstantAlphaFactor:213,ConstantColorFactor:211,CubeCamera:jp,CubeReflectionMapping:Vc,CubeRefractionMapping:jc,CubeTexture:Hp,CubeTextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=new Hp;i.colorSpace=fh;const o=new Cx(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(e[n],function(e){i.images[n]=e,s++,6===s&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(let l=0;l<e.length;++l)a(l);return i}},CubeUVReflectionMapping:Gc,CubicBezierCurve:N_,CubicBezierCurve3:D_,CubicInterpolant:lx,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:w_,CurvePath:j_,CustomBlending:5,CustomToneMapping:5,CylinderGeometry:$_,Cylindrical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},Data3DTexture:bf,DataArrayTexture:_f,DataTexture:wy,DataTextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new wy,s=new Mx(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(i.withCredentials),s.load(e,function(e){let n;try{n=i.parse(e)}catch(s){if(void 0===r)return;r(s)}void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:$c,o.wrapT=void 0!==n.wrapT?n.wrapT:$c,o.magFilter=void 0!==n.magFilter?n.magFilter:Jc,o.minFilter=void 0!==n.minFilter?n.minFilter:Jc,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(o.colorSpace=n.colorSpace),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=eu),1===n.mipmapCount&&(o.minFilter=Jc),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n)},n,r),o}},DataUtils:Kd,DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:Sx,DepthFormat:yu,DepthStencilFormat:_u,DepthTexture:Um,DetachedBindMode:Bc,DirectionalLight:Hx,DirectionalLightHelper:class extends Td{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new up;r.setAttribute("position",new np([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new e_({fog:!1,toneMapped:!1});this.lightPlane=new l_(r,i),this.add(this.lightPlane),r=new up,r.setAttribute("position",new np([0,0,0,0,0,1],3)),this.targetLine=new l_(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Hw.setFromMatrixPosition(this.light.matrixWorld),Ww.setFromMatrixPosition(this.light.target.matrixWorld),Gw.subVectors(Ww,Hw),this.lightPlane.lookAt(Ww),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ww),this.targetLine.scale.z=Gw.length()}},DiscreteInterpolant:ux,DisplayP3ColorSpace:ph,DodecahedronGeometry:K_,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:tb,EllipseCurve:S_,EqualCompare:514,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:Hc,EquirectangularRefractionMapping:Wc,Euler:ld,EventDispatcher:Ph,ExtrudeGeometry:Ib,FileLoader:Mx,Float16BufferAttribute:class extends Qd{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Yd(this.array[e*this.itemSize]);return this.normalized&&(t=jh(t,this.array)),t}setX(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize]=Xd(t),this}getY(e){let t=Yd(this.array[e*this.itemSize+1]);return this.normalized&&(t=jh(t,this.array)),t}setY(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize+1]=Xd(t),this}getZ(e){let t=Yd(this.array[e*this.itemSize+2]);return this.normalized&&(t=jh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize+2]=Xd(t),this}getW(e){let t=Yd(this.array[e*this.itemSize+3]);return this.normalized&&(t=jh(t,this.array)),t}setW(e,t){return this.normalized&&(t=Hh(t,this.array)),this.array[e*this.itemSize+3]=Xd(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array)),this.array[e+0]=Xd(t),this.array[e+1]=Xd(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array),r=Hh(r,this.array)),this.array[e+0]=Xd(t),this.array[e+1]=Xd(n),this.array[e+2]=Xd(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Hh(t,this.array),n=Hh(n,this.array),r=Hh(r,this.array),i=Hh(i,this.array)),this.array[e+0]=Xd(t),this.array[e+1]=Xd(n),this.array[e+2]=Xd(r),this.array[e+3]=Xd(i),this}},Float32BufferAttribute:np,FloatType:au,Fog:Vv,FogExp2:zv,FramebufferTexture:class extends mf{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Yc,this.minFilter=Yc,this.generateMipmaps=!1,this.needsUpdate=!0}},FrontSide:0,Frustum:Zp,GLBufferAttribute:class{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},GLSL1:"100",GLSL3:Rh,GreaterCompare:516,GreaterDepth:6,GreaterEqualCompare:518,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends f_{constructor(e=10,t=10,n=4473924,r=8947848){n=new Vd(n),r=new Vd(r);const i=t/2,o=e/t,s=e/2,a=[],l=[];for(let u=0,h=0,f=-s;u<=t;u++,f+=o){a.push(-s,0,f,s,0,f),a.push(f,0,-s,f,0,s);const e=u===i?n:r;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new up;c.setAttribute("position",new np(a,3)),c.setAttribute("color",new np(l,3));super(c,new e_({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},Group:Iv,HalfFloatType:lu,HemisphereLight:Rx,HemisphereLightHelper:class extends Td{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Nb(t);r.rotateY(.5*Math.PI),this.material=new Gd({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Qd(o,3)),this.add(new Cp(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Vw.copy(this.light.color),jw.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?Vw:jw;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zw.setFromMatrixPosition(this.light.matrixWorld).negate())}},IcosahedronGeometry:Pb,ImageBitmapLoader:class extends Ex{constructor(e){super(e),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=xx.get(e);if(void 0!==o)return i.manager.itemStart(e),o.then?void o.then(n=>{t&&t(n),i.manager.itemEnd(e)}).catch(e=>{r&&r(e)}):(setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o);const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader;const a=fetch(e,s).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(n){return xx.add(e,n),t&&t(n),i.manager.itemEnd(e),n}).catch(function(t){r&&r(t),xx.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)});xx.add(e,a),i.manager.itemStart(e)}},ImageLoader:Cx,ImageUtils:uf,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Ay,InstancedBufferGeometry:Kx,InstancedInterleavedBuffer:class extends Hv{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},InstancedMesh:Ny,Int16BufferAttribute:class extends Qd{constructor(e,t,n){super(new Int16Array(e),t,n)}},Int32BufferAttribute:class extends Qd{constructor(e,t,n){super(new Int32Array(e),t,n)}},Int8BufferAttribute:class extends Qd{constructor(e,t,n){super(new Int8Array(e),t,n)}},IntType:ou,InterleavedBuffer:Hv,InterleavedBufferAttribute:Gv,Interpolant:ax,InterpolateDiscrete:rh,InterpolateLinear:ih,InterpolateSmooth:oh,InvertStencilOp:5386,KeepStencilOp:bh,KeyframeTrack:hx,LOD:uy,LatheGeometry:W_,Layers:cd,LessCompare:513,LessDepth:2,LessEqualCompare:515,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:Ox,LightProbe:$x,Line:l_,Line3:class{constructor(e=new wf,t=new wf){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Pw.subVectors(e,this.start),Nw.subVectors(this.end,this.start);const n=Nw.dot(Nw);let r=Nw.dot(Pw)/n;return t&&(r=Bh(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:e_,LineCurve:L_,LineCurve3:F_,LineDashedMaterial:ex,LineLoop:d_,LineSegments:f_,LinearDisplayP3ColorSpace:mh,LinearFilter:Jc,LinearInterpolant:cx,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:eu,LinearMipmapNearestFilter:Qc,LinearSRGBColorSpace:dh,LinearToneMapping:1,LinearTransfer:gh,Loader:Ex,LoaderUtils:Yx,LoadingManager:wx,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:vu,LuminanceFormat:gu,MOUSE:gc,Material:Wd,MaterialLoader:Xx,MathUtils:Wh,Matrix3:qh,Matrix4:Jf,MaxEquation:104,Mesh:Cp,MeshBasicMaterial:Gd,MeshDepthMaterial:wv,MeshDistanceMaterial:Sv,MeshLambertMaterial:Jb,MeshMatcapMaterial:Qb,MeshNormalMaterial:Zb,MeshPhongMaterial:Yb,MeshPhysicalMaterial:Xb,MeshStandardMaterial:$b,MeshToonMaterial:Kb,MinEquation:103,MirroredRepeatWrapping:Xc,MixOperation:1,MultiplyBlending:4,MultiplyOperation:0,NearestFilter:Yc,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:Zc,NearestMipmapNearestFilter:Kc,NeutralToneMapping:7,NeverCompare:512,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColorSpace:hh,NoToneMapping:0,NormalAnimationBlendMode:ch,NormalBlending:1,NotEqualCompare:517,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:px,Object3D:Td,ObjectLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?Yx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Mx(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(n){let o=null;try{o=JSON.parse(n)}catch(a){return void(void 0!==r&&r(a))}const s=o.metadata;void 0!==s&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()?i.parse(o,t):void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e))},n,r)}async loadAsync(e,t){const n=""===this.path?Yx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new Mx(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),o=JSON.parse(i),s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){void 0!==t&&t(l)}),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),l=this.parseObject(e.object,i,a,s,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,r,s,o,t),l=this.parseSkeletons(e.skeletons,a);return this.bindSkeletons(a,l),a}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new nb).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(e){e.isBone&&(r[e.uuid]=e)}),void 0!==e)for(let i=0,o=e.length;i<o;i++){const t=(new Ty).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new Zx;for(let i=0,o=e.length;i<o;i++){let o;const s=e[i];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(s);break;default:s.type in Wb&&(o=Wb[s.type].fromJSON(s,t))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Xx;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=_x.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function o(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:Kh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new wx(t);i=new Cx(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=o(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new wy(n.data,n.width,n.height)))}r[n.uuid]=new ff(e)}else{const e=o(n.url);r[n.uuid]=new ff(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:Kh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Cx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new wy(r.data,r.width,r.height)))}n[r.uuid]=new ff(e)}else{const e=await i(r.url);n[r.uuid]=new ff(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:t[e]}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];o.image,t[o.image];const s=t[o.image],a=s.data;let l;Array.isArray(a)?(l=new Hp,6===a.length&&(l.needsUpdate=!0)):(l=a&&a.data?new wy:new mf,a&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Jx)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],Qx),l.wrapT=n(o.wrap[1],Qx)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,ew)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,ew)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}parseObject(e,t,n,r,i){let o,s,a;function l(e){return t[e],t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n[i],t.push(n[i])}return t}return n[e],n[e]}}function u(e){return r[e],r[e]}switch(e.type){case"Scene":o=new jv,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new Vd(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Vv(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new zv(e.fog.color,e.fog.density)),""!==e.fog.name&&(o.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(o.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&o.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(o.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new zp(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new dm(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Wx(e.color,e.intensity);break;case"DirectionalLight":o=new Hx(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Vx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Gx(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Lx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Rx(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new $x).fromJSON(e);break;case"SkinnedMesh":s=l(e.geometry),a=c(e.material),o=new by(s,a),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":s=l(e.geometry),a=c(e.material),o=new Cp(s,a);break;case"InstancedMesh":s=l(e.geometry),a=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;o=new Ny(s,a,t),o.instanceMatrix=new Ay(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new Ay(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":s=l(e.geometry),a=c(e.material),o=new Qy(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,a),o.geometry=s,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(e=>{const t=new Tf;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new Hf;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new uy;break;case"Line":o=new l_(l(e.geometry),c(e.material));break;case"LineLoop":o=new d_(l(e.geometry),c(e.material));break;case"LineSegments":o=new f_(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new __(l(e.geometry),c(e.material));break;case"Sprite":o=new sy(c(e.material));break;case"Group":o=new Iv;break;case"Bone":o=new xy;break;default:o=new Td}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.up&&o.up.fromArray(e.up),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(o.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const s=e.children;for(let e=0;e<s.length;e++)o.add(this.parseObject(s[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n||e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new Td}})}},ObjectSpaceNormalMap:1,OctahedronGeometry:Nb,OneFactor:201,OneMinusConstantAlphaFactor:214,OneMinusConstantColorFactor:212,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:Cc,OneMinusSrcColorFactor:203,OrthographicCamera:dm,P3Primaries:_h,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:Tm,Path:H_,PerspectiveCamera:zp,Plane:Xp,PlaneGeometry:em,PlaneHelper:class extends l_{constructor(e,t=1,n=16776960){const r=n,i=new up;i.setAttribute("position",new np([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new e_({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=new up;o.setAttribute("position",new np([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),o.computeBoundingSphere(),this.add(new Cp(o,new Gd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:Vx,PointLightHelper:class extends Cp{constructor(e,t,n){super(new Fb(t,4,2),new Gd({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:__,PointsMaterial:p_,PolarGridHelper:class extends f_{constructor(e=10,t=16,n=8,r=64,i=4473924,o=8947848){i=new Vd(i),o=new Vd(o);const s=[],a=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;s.push(0,0,0),s.push(r,0,l);const u=1&c?i:o;a.push(u.r,u.g,u.b),a.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:o,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l;s.push(i,0,o),a.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l,s.push(i,0,o),a.push(t.r,t.g,t.b)}}const l=new up;l.setAttribute("position",new np(s,3)),l.setAttribute("color",new np(a,3));super(l,new e_({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronGeometry:Y_,PositionalAudio:class extends fw{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(dw,pw,mw),gw.set(0,0,1).applyQuaternion(pw);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(dw.x,e),t.positionY.linearRampToValueAtTime(dw.y,e),t.positionZ.linearRampToValueAtTime(dw.z,e),t.orientationX.linearRampToValueAtTime(gw.x,e),t.orientationY.linearRampToValueAtTime(gw.y,e),t.orientationZ.linearRampToValueAtTime(gw.z,e)}else t.setPosition(dw.x,dw.y,dw.z),t.setOrientation(gw.x,gw.y,gw.z)}},PropertyBinding:Ew,PropertyMixer:vw,QuadraticBezierCurve:U_,QuadraticBezierCurve3:B_,Quaternion:xf,QuaternionKeyframeTrack:gx,QuaternionLinearInterpolant:mx,RED_GREEN_RGTC2_Format:th,RED_RGTC1_Format:Qu,REVISION:mc,RGBADepthPacking:3201,RGBAFormat:mu,RGBAIntegerFormat:Eu,RGBA_ASTC_10x10_Format:$u,RGBA_ASTC_10x5_Format:Wu,RGBA_ASTC_10x6_Format:Gu,RGBA_ASTC_10x8_Format:qu,RGBA_ASTC_12x10_Format:Xu,RGBA_ASTC_12x12_Format:Yu,RGBA_ASTC_4x4_Format:Lu,RGBA_ASTC_5x4_Format:Fu,RGBA_ASTC_5x5_Format:Uu,RGBA_ASTC_6x5_Format:Bu,RGBA_ASTC_6x6_Format:zu,RGBA_ASTC_8x5_Format:Vu,RGBA_ASTC_8x6_Format:ju,RGBA_ASTC_8x8_Format:Hu,RGBA_BPTC_Format:Ku,RGBA_ETC2_EAC_Format:Du,RGBA_PVRTC_2BPPV1_Format:ku,RGBA_PVRTC_4BPPV1_Format:Iu,RGBA_S3TC_DXT1_Format:Au,RGBA_S3TC_DXT3_Format:Mu,RGBA_S3TC_DXT5_Format:Cu,RGBFormat:pu,RGBIntegerFormat:1032,RGB_BPTC_SIGNED_Format:Zu,RGB_BPTC_UNSIGNED_Format:Ju,RGB_ETC1_Format:Pu,RGB_ETC2_Format:Nu,RGB_PVRTC_2BPPV1_Format:Ru,RGB_PVRTC_4BPPV1_Format:Ou,RGB_S3TC_DXT1_Format:Tu,RGFormat:wu,RGIntegerFormat:Su,RawShaderMaterial:qb,Ray:Zf,Raycaster:class{constructor(e,t,n=0,r=1/0){this.ray=new Zf(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new cd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}setFromXRController(e){return Ow.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Ow),this}intersectObject(e,t=!0,n=[]){return Iw(e,this,n,t),n.sort(Rw),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)Iw(e[r],this,n,t);return n.sort(Rw),n}},Rec709Primaries:yh,RectAreaLight:Gx,RedFormat:bu,RedIntegerFormat:xu,ReinhardToneMapping:2,RenderTarget:vf,RepeatWrapping:qc,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingGeometry:Db,SIGNED_RED_GREEN_RGTC2_Format:nh,SIGNED_RED_RGTC1_Format:eh,SRGBColorSpace:fh,SRGBTransfer:vh,Scene:jv,ShaderChunk:tm,ShaderLib:rm,ShaderMaterial:Dp,ShadowMaterial:Gb,Shape:nb,ShapeGeometry:Lb,ShapePath:class{constructor(){this.type="ShapePath",this.color=new Vd,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new H_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],s=t[o],a=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],a=-a,s=t[i],l=-l),e.y<n.y||e.y>s.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-a*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(s.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=s.x)return!0}}return r}const n=Cb.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,o,s;const a=[];if(1===r.length)return o=r[0],s=new nb,s.curves=o.curves,a.push(s),a;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let h,f,d=[],p=0;u[p]=void 0,d[p]=[];for(let m=0,g=r.length;m<g;m++)o=r[m],h=o.getPoints(),i=n(h),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new nb,p:h},u[p].s.curves=o.curves,l&&p++,d[p]=[]):d[p].push({h:o,p:h[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new nb;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=d[r];for(let o=0;o<i.length;o++){const s=i[o];let a=!0;for(let i=0;i<u.length;i++)t(s.p,u[i].p)&&(r!==i&&n++,a?(a=!1,c[i].push(s)):e=!0);a&&c[r].push(s)}}n>0&&!1===e&&(d=c)}for(let m=0,g=u.length;m<g;m++){s=u[m].s,a.push(s),f=d[m];for(let e=0,t=f.length;e<t;e++)s.holes.push(f[e].h)}return a}},ShapeUtils:Cb,ShortType:ru,Skeleton:Ty,SkeletonHelper:class extends f_{constructor(e){const t=Bw(e),n=new up,r=[],i=[],o=new Vd(0,0,1),s=new Vd(0,1,0);for(let a=0;a<t.length;a++){const e=t[a];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(s.r,s.g,s.b))}n.setAttribute("position",new np(r,3)),n.setAttribute("color",new np(i,3));super(n,new e_({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Uw.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(Fw.multiplyMatrices(Uw,e.matrixWorld),Lw.setFromMatrixPosition(Fw),r.setXYZ(o,Lw.x,Lw.y,Lw.z),Fw.multiplyMatrices(Uw,e.parent.matrixWorld),Lw.setFromMatrixPosition(Fw),r.setXYZ(o+1,Lw.x,Lw.y,Lw.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:by,Source:ff,Sphere:Hf,SphereGeometry:Fb,Spherical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Bh(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},SphericalHarmonics3:qx,SplineCurve:z_,SpotLight:Lx,SpotLightHelper:class extends Td{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new up,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const e=o/a*Math.PI*2,t=s/a*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new np(r,3));const i=new e_({fog:!1,toneMapped:!1});this.cone=new f_(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Dw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Dw),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:sy,SpriteMaterial:qv,SrcAlphaFactor:Mc,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:Oh,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zp,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zp,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ow.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Lh*t.fov*.5)/t.zoom;let o,s;iw.elements[12]=-n,rw.elements[12]=n,o=-i*t.aspect+r,s=i*t.aspect+r,ow.elements[0]=2*t.near/(s-o),ow.elements[8]=(s+o)/(s-o),this.cameraL.projectionMatrix.copy(ow),o=-i*t.aspect-r,s=i*t.aspect-r,ow.elements[0]=2*t.near/(s-o),ow.elements[8]=(s+o)/(s-o),this.cameraR.projectionMatrix.copy(ow)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(iw),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rw)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:vx,SubtractEquation:101,SubtractiveBlending:3,TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TangentSpaceNormalMap:0,TetrahedronGeometry:Ub,Texture:mf,TextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=new mf,o=new Cx(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}},TextureUtils:Mv,TorusGeometry:Bb,TorusKnotGeometry:zb,Triangle:Ld,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeGeometry:Vb,UVMapping:zc,Uint16BufferAttribute:ep,Uint32BufferAttribute:tp,Uint8BufferAttribute:class extends Qd{constructor(e,t,n){super(new Uint8Array(e),t,n)}},Uint8ClampedBufferAttribute:class extends Qd{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Uniform:Mw,UniformsGroup:class extends Ph{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Cw++}),this.name="",this.usage=Oh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}},UniformsLib:nm,UniformsUtils:Np,UnsignedByteType:tu,UnsignedInt248Type:hu,UnsignedInt5999Type:fu,UnsignedIntType:su,UnsignedShort4444Type:cu,UnsignedShort5551Type:uu,UnsignedShortType:iu,VSMShadowMap:3,Vector2:Gh,Vector3:wf,Vector4:gf,VectorKeyframeTrack:yx,VideoTexture:class extends mf{constructor(e,t,n,r,i,o,s,a,l){super(e,t,n,r,i,o,s,a,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:Jc,this.magFilter=void 0!==i?i:Jc,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},WebGL3DRenderTarget:class extends yf{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new bf(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends yf{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new _f(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLCoordinateSystem:Ih,WebGLCubeRenderTarget:Wp,WebGLMultipleRenderTargets:class extends yf{constructor(e=1,t=1,n=1,r={}){super(e,t,{...r,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}},WebGLRenderTarget:yf,WebGLRenderer:class{constructor(e={}){const{canvas:t=Jh(),context:n=null,depth:r=!0,stencil:i=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=o;const f=new Uint32Array(4),d=new Int32Array(4);let p=null,m=null;const g=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fh,this.toneMapping=0,this.toneMappingExposure=1;const y=this;let _=!1,b=0,x=0,w=null,S=-1,E=null;const T=new gf,A=new gf;let M=null;const C=new Vd(0);let O=0,R=t.width,I=t.height,k=1,P=null,N=null;const D=new gf(0,0,R,I),L=new gf(0,0,R,I);let F=!1;const U=new Zp;let B=!1,z=!1;const V=new Jf,j=new wf,H=new gf,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let G=!1;function q(){return null===w?k:1}let $,X,Y,K,Z,J,Q,ee,te,ne,re,ie,oe,se,ae,le,ce,ue,he,fe,de,pe,me,ge,ve=n;function ye(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${mc}`),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",we,!1),t.addEventListener("webglcontextcreationerror",Se,!1),null===ve){const t="webgl2";if(ve=ye(t,e),null===ve)throw ye(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ue){throw Ue}function _e(){$=new km(ve),$.init(),pe=new Ov(ve,$),X=new um(ve,$,e,pe),Y=new Tv(ve),K=new Dm(ve),Z=new hv,J=new Cv(ve,$,Y,Z,X,pe,K),Q=new fm(y),ee=new Im(y),te=new Qp(ve),me=new lm(ve,te),ne=new Pm(ve,te,K,me),re=new Fm(ve,ne,te,K),he=new Lm(ve,X,J),le=new hm(Z),ie=new uv(y,Q,ee,$,X,me,le),oe=new Uv(y,Z),se=new mv,ae=new xv($),ue=new am(y,Q,ee,Y,re,h,a),ce=new Ev(y,re,X),ge=new Bv(ve,K,X,Y),fe=new cm(ve,$,K),de=new Nm(ve,$,K),K.programs=ie.programs,y.capabilities=X,y.extensions=$,y.properties=Z,y.renderLists=se,y.shadowMap=ce,y.state=Y,y.info=K}_e();const be=new Dv(y,ve);function xe(e){e.preventDefault(),_=!0}function we(){_=!1;const e=K.autoReset,t=ce.enabled,n=ce.autoUpdate,r=ce.needsUpdate,i=ce.type;_e(),K.autoReset=e,ce.enabled=t,ce.autoUpdate=n,ce.needsUpdate=r,ce.type=i}function Se(e){}function Ee(e){const t=e.target;t.removeEventListener("dispose",Ee),function(e){(function(e){const t=Z.get(e).programs;void 0!==t&&(t.forEach(function(e){ie.releaseProgram(e)}),e.isShaderMaterial&&ie.releaseShaderCache(e))})(e),Z.remove(e)}(t)}function Te(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,De(e,t,n),e.side=0,e.needsUpdate=!0,De(e,t,n),e.side=2):De(e,t,n)}this.xr=be,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const e=$.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=$.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(e){void 0!==e&&(k=e,this.setSize(R,I,!1))},this.getSize=function(e){return e.set(R,I)},this.setSize=function(e,n,r=!0){be.isPresenting||(R=e,I=n,t.width=Math.floor(e*k),t.height=Math.floor(n*k),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(R*k,I*k).floor()},this.setDrawingBufferSize=function(e,n,r){R=e,I=n,k=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,n,r){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,n,r),Y.viewport(T.copy(D).multiplyScalar(k).round())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),Y.scissor(A.copy(L).multiplyScalar(k).round())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){Y.setScissorTest(F=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){N=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==w){const t=w.texture.format;e=t===Eu||t===Su||t===xu}if(e){const e=w.texture.type,t=e===tu||e===su||e===iu||e===hu||e===cu||e===uu,n=ue.getClearColor(),r=ue.getClearAlpha(),i=n.r,o=n.g,s=n.b;t?(f[0]=i,f[1]=o,f[2]=s,f[3]=r,ve.clearBufferuiv(ve.COLOR,0,f)):(d[0]=i,d[1]=o,d[2]=s,d[3]=r,ve.clearBufferiv(ve.COLOR,0,d))}else r|=ve.COLOR_BUFFER_BIT}t&&(r|=ve.DEPTH_BUFFER_BIT),n&&(r|=ve.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ve.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",we,!1),t.removeEventListener("webglcontextcreationerror",Se,!1),se.dispose(),ae.dispose(),Z.dispose(),Q.dispose(),ee.dispose(),re.dispose(),me.dispose(),ge.dispose(),ie.dispose(),be.dispose(),be.removeEventListener("sessionstart",Me),be.removeEventListener("sessionend",Ce),Oe.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=W);const s=i.isMesh&&i.matrixWorld.determinant()<0,a=function(e,t,n,r,i){!0!==t.isScene&&(t=W);J.resetTextureUnits();const o=t.fog,s=r.isMeshStandardMaterial?t.environment:null,a=null===w?y.outputColorSpace:!0===w.isXRRenderTarget?w.texture.colorSpace:dh,l=(r.isMeshStandardMaterial?ee:Q).get(r.envMap||s),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,d=!!n.morphAttributes.color;let p=0;r.toneMapped&&(null!==w&&!0!==w.isXRRenderTarget||(p=y.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,_=Z.get(r),b=m.state.lights;if(!0===B&&(!0===z||e!==E)){const t=e===E&&r.id===S;le.setState(r,e,t)}let x=!1;r.version===_.__version?_.needsLights&&_.lightsStateVersion!==b.state.version||_.outputColorSpace!==a||i.isBatchedMesh&&!1===_.batching?x=!0:i.isBatchedMesh||!0!==_.batching?i.isBatchedMesh&&!0===_.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===_.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===_.instancing?x=!0:i.isInstancedMesh||!0!==_.instancing?i.isSkinnedMesh&&!1===_.skinning?x=!0:i.isSkinnedMesh||!0!==_.skinning?i.isInstancedMesh&&!0===_.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===_.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===_.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===_.instancingMorph&&null!==i.morphTexture||_.envMap!==l||!0===r.fog&&_.fog!==o?x=!0:void 0===_.numClippingPlanes||_.numClippingPlanes===le.numPlanes&&_.numIntersection===le.numIntersection?(_.vertexAlphas!==c||_.vertexTangents!==u||_.morphTargets!==h||_.morphNormals!==f||_.morphColors!==d||_.toneMapping!==p||_.morphTargetsCount!==v)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,_.__version=r.version);let T=_.currentProgram;!0===x&&(T=De(r,t,i));let A=!1,M=!1,C=!1;const O=T.getUniforms(),R=_.uniforms;Y.useProgram(T.program)&&(A=!0,M=!0,C=!0);r.id!==S&&(S=r.id,M=!0);if(A||E!==e){O.setValue(ve,"projectionMatrix",e.projectionMatrix),O.setValue(ve,"viewMatrix",e.matrixWorldInverse);const t=O.map.cameraPosition;void 0!==t&&t.setValue(ve,j.setFromMatrixPosition(e.matrixWorld)),X.logarithmicDepthBuffer&&O.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&O.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),E!==e&&(E=e,M=!0,C=!0)}if(i.isSkinnedMesh){O.setOptional(ve,i,"bindMatrix"),O.setOptional(ve,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),O.setValue(ve,"boneTexture",e.boneTexture,J))}i.isBatchedMesh&&(O.setOptional(ve,i,"batchingTexture"),O.setValue(ve,"batchingTexture",i._matricesTexture,J),O.setOptional(ve,i,"batchingIdTexture"),O.setValue(ve,"batchingIdTexture",i._indirectTexture,J),O.setOptional(ve,i,"batchingColorTexture"),null!==i._colorsTexture&&O.setValue(ve,"batchingColorTexture",i._colorsTexture,J));const P=n.morphAttributes;void 0===P.position&&void 0===P.normal&&void 0===P.color||he.update(i,n,T);(M||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,O.setValue(ve,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(R.envMap.value=l,R.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(R.envMapIntensity.value=t.environmentIntensity);M&&(O.setValue(ve,"toneMappingExposure",y.toneMappingExposure),_.needsLights&&(D=C,(N=R).ambientLightColor.needsUpdate=D,N.lightProbe.needsUpdate=D,N.directionalLights.needsUpdate=D,N.directionalLightShadows.needsUpdate=D,N.pointLights.needsUpdate=D,N.pointLightShadows.needsUpdate=D,N.spotLights.needsUpdate=D,N.spotLightShadows.needsUpdate=D,N.rectAreaLights.needsUpdate=D,N.hemisphereLights.needsUpdate=D),o&&!0===r.fog&&oe.refreshFogUniforms(R,o),oe.refreshMaterialUniforms(R,r,k,I,m.state.transmissionRenderTarget[e.id]),Hg.upload(ve,Le(_),R,J));var N,D;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Hg.upload(ve,Le(_),R,J),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&O.setValue(ve,"center",i.center);if(O.setValue(ve,"modelViewMatrix",i.modelViewMatrix),O.setValue(ve,"normalMatrix",i.normalMatrix),O.setValue(ve,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];ge.update(n,T),ge.bind(n,T)}}return T}(e,t,n,r,i);Y.setMaterial(r,s);let l=n.index,c=1;if(!0===r.wireframe){if(l=ne.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,h=n.attributes.position;let f=u.start*c,d=(u.start+u.count)*c;null!==o&&(f=Math.max(f,o.start*c),d=Math.min(d,(o.start+o.count)*c)),null!==l?(f=Math.max(f,0),d=Math.min(d,l.count)):null!=h&&(f=Math.max(f,0),d=Math.min(d,h.count));const p=d-f;if(p<0||p===1/0)return;let g;me.setup(i,r,a,n,l);let v=fe;if(null!==l&&(g=te.get(l),v=de,v.setIndex(g)),i.isMesh)!0===r.wireframe?(Y.setLineWidth(r.wireframeLinewidth*q()),v.setMode(ve.LINES)):v.setMode(ve.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),Y.setLineWidth(e*q()),i.isLineSegments?v.setMode(ve.LINES):i.isLineLoop?v.setMode(ve.LINE_LOOP):v.setMode(ve.LINE_STRIP)}else i.isPoints?v.setMode(ve.POINTS):i.isSprite&&v.setMode(ve.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)v.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if($.get("WEBGL_multi_draw"))v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,o=l?te.get(l).bytesPerElement:1,s=Z.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)s.setValue(ve,"_gl_DrawID",r),v.render(e[r]/o,t[r])}else if(i.isInstancedMesh)v.renderInstances(f,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(f,p,t)}else v.render(f,p)},this.compile=function(e,t,n=null){null===n&&(n=e),m=ae.get(n),m.init(t),v.push(m),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))}),m.setupLights();const r=new Set;return e.traverse(function(e){const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const o=t[i];Te(o,n,e),r.add(o)}else Te(t,n,e),r.add(t)}),v.pop(),m=null,r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){Z.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==$.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Ae=null;function Me(){Oe.stop()}function Ce(){Oe.start()}const Oe=new Jp;function Re(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||U.intersectsSprite(e)){r&&H.setFromMatrixPosition(e.matrixWorld).applyMatrix4(V);const t=re.update(e),i=e.material;i.visible&&p.push(e,t,i,n,H.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||U.intersectsObject(e))){const t=re.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),H.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),H.copy(t.boundingSphere.center)),H.applyMatrix4(e.matrixWorld).applyMatrix4(V)),Array.isArray(i)){const r=t.groups;for(let o=0,s=r.length;o<s;o++){const s=r[o],a=i[s.materialIndex];a&&a.visible&&p.push(e,t,a,n,H.z,s)}}else i.visible&&p.push(e,t,i,n,H.z,null)}const i=e.children;for(let o=0,s=i.length;o<s;o++)Re(i[o],t,n,r)}function Ie(e,t,n,r){const i=e.opaque,o=e.transmissive,s=e.transparent;m.setupLightsView(n),!0===B&&le.setGlobalState(y.clippingPlanes,n),r&&Y.viewport(T.copy(r)),i.length>0&&Pe(i,t,n),o.length>0&&Pe(o,t,n),s.length>0&&Pe(s,t,n),Y.buffers.depth.setTest(!0),Y.buffers.depth.setMask(!0),Y.buffers.color.setMask(!0),Y.setPolygonOffset(!1)}function ke(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===m.state.transmissionRenderTarget[r.id]&&(m.state.transmissionRenderTarget[r.id]=new yf(1,1,{generateMipmaps:!0,type:$.has("EXT_color_buffer_half_float")||$.has("EXT_color_buffer_float")?lu:tu,minFilter:eu,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:sf.workingColorSpace}));const o=m.state.transmissionRenderTarget[r.id],s=r.viewport||T;o.setSize(s.z,s.w);const a=y.getRenderTarget();y.setRenderTarget(o),y.getClearColor(C),O=y.getClearAlpha(),O<1&&y.setClearColor(16777215,.5),G?ue.render(n):y.clear();const l=y.toneMapping;y.toneMapping=0;const c=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),m.setupLightsView(r),!0===B&&le.setGlobalState(y.clippingPlanes,r),Pe(e,n,r),J.updateMultisampleRenderTarget(o),J.updateRenderTargetMipmap(o),!1===$.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,o=t.length;i<o;i++){const o=t[i],s=o.object,a=o.geometry,l=o.material,c=o.group;if(2===l.side&&s.layers.test(r.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,Ne(s,n,r,a,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(J.updateMultisampleRenderTarget(o),J.updateRenderTargetMipmap(o))}y.setRenderTarget(a),y.setClearColor(C,O),void 0!==c&&(r.viewport=c),y.toneMapping=l}function Pe(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],s=o.object,a=o.geometry,l=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&Ne(s,t,n,a,l,c)}}function Ne(e,t,n,r,i,o){e.onBeforeRender(y,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,o),i.side=0,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,o),i.side=2):y.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(y,t,n,r,i,o)}function De(e,t,n){!0!==t.isScene&&(t=W);const r=Z.get(e),i=m.state.lights,o=m.state.shadowsArray,s=i.state.version,a=ie.getParameters(e,i.state,o,t,n),l=ie.getProgramCacheKey(a);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ee:Q).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Ee),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===s)return Fe(e,a),u}else a.uniforms=ie.getUniforms(e),e.onBeforeCompile(a,y),u=ie.acquireProgram(a,l),c.set(l,u),r.uniforms=a.uniforms;const h=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=le.uniform),Fe(e,a),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=s,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function Le(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=Hg.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Fe(e,t){const n=Z.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Oe.setAnimationLoop(function(e){Ae&&Ae(e)}),"undefined"!=typeof self&&Oe.setContext(self),this.setAnimationLoop=function(e){Ae=e,be.setAnimationLoop(e),null===e?Oe.stop():Oe.start()},be.addEventListener("sessionstart",Me),be.addEventListener("sessionend",Ce),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return;if(!0===_)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(y,e,t,w),m=ae.get(e,v.length),m.init(t),v.push(m),V.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),U.setFromProjectionMatrix(V),z=this.localClippingEnabled,B=le.init(this.clippingPlanes,z),p=se.get(e,g.length),p.init(),g.push(p),!0===be.enabled&&!0===be.isPresenting){const e=y.xr.getDepthSensingMesh();null!==e&&Re(e,t,-1/0,y.sortObjects)}Re(e,t,0,y.sortObjects),p.finish(),!0===y.sortObjects&&p.sort(P,N),G=!1===be.enabled||!1===be.isPresenting||!1===be.hasDepthSensing(),G&&ue.addToRenderList(p,e),this.info.render.frame++,!0===B&&le.beginShadows();const n=m.state.shadowsArray;ce.render(n,e,t),!0===B&&le.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=p.opaque,i=p.transmissive;if(m.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,o=n.length;t<o;t++){ke(r,i,e,n[t])}G&&ue.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];Ie(p,e,r,r.viewport)}}else i.length>0&&ke(r,i,e,t),G&&ue.render(e),Ie(p,e,t);null!==w&&(J.updateMultisampleRenderTarget(w),J.updateRenderTargetMipmap(w)),!0===e.isScene&&e.onAfterRender(y,e,t),me.resetDefaultState(),S=-1,E=null,v.pop(),v.length>0?(m=v[v.length-1],!0===B&&le.setGlobalState(y.clippingPlanes,m.state.camera)):m=null,g.pop(),p=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(e,t,n){Z.get(e.texture).__webglTexture=t,Z.get(e.depthTexture).__webglTexture=n;const r=Z.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===$.has("WEBGL_multisampled_render_to_texture")&&(r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=Z.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){w=e,b=t,x=n;let r=!0,i=null,o=!1,s=!1;if(e){const a=Z.get(e);void 0!==a.__useDefaultFramebuffer?(Y.bindFramebuffer(ve.FRAMEBUFFER,null),r=!1):void 0===a.__webglFramebuffer?J.setupRenderTarget(e):a.__hasExternalTextures&&J.rebindTextures(e,Z.get(e.texture).__webglTexture,Z.get(e.depthTexture).__webglTexture);const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(s=!0);const c=Z.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],o=!0):i=e.samples>0&&!1===J.useMultisampledRTT(e)?Z.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,T.copy(e.viewport),A.copy(e.scissor),M=e.scissorTest}else T.copy(D).multiplyScalar(k).floor(),A.copy(L).multiplyScalar(k).floor(),M=F;if(Y.bindFramebuffer(ve.FRAMEBUFFER,i)&&r&&Y.drawBuffers(e,i),Y.viewport(T),Y.scissor(A),Y.setScissorTest(M),o){const r=Z.get(e.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(s){const r=Z.get(e.texture),i=t||0;ve.framebufferTextureLayer(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}S=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,s){if(!e||!e.isWebGLRenderTarget)return;let a=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){Y.bindFramebuffer(ve.FRAMEBUFFER,a);try{const s=e.texture,a=s.format,l=s.type;if(!X.textureFormatReadable(a))return;if(!X.textureTypeReadable(l))return;t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ve.readPixels(t,n,r,i,pe.convert(a),pe.convert(l),o)}finally{const e=null!==w?Z.get(w).__webglFramebuffer:null;Y.bindFramebuffer(ve.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,o,s){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){Y.bindFramebuffer(ve.FRAMEBUFFER,a);try{const s=e.texture,a=s.format,l=s.type;if(!X.textureFormatReadable(a))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!X.textureTypeReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){const e=ve.createBuffer();ve.bindBuffer(ve.PIXEL_PACK_BUFFER,e),ve.bufferData(ve.PIXEL_PACK_BUFFER,o.byteLength,ve.STREAM_READ),ve.readPixels(t,n,r,i,pe.convert(a),pe.convert(l),0),ve.flush();const s=ve.fenceSync(ve.SYNC_GPU_COMMANDS_COMPLETE,0);await function(e,t,n){return new Promise(function(r,i){setTimeout(function o(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}},n)})}(ve,s,4);try{ve.bindBuffer(ve.PIXEL_PACK_BUFFER,e),ve.getBufferSubData(ve.PIXEL_PACK_BUFFER,0,o)}finally{ve.deleteBuffer(e),ve.deleteSync(s)}return o}}finally{const e=null!==w?Z.get(w).__webglFramebuffer:null;Y.bindFramebuffer(ve.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t=null,n=0){!0!==e.isTexture&&(t=arguments[0]||null,e=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r),s=null!==t?t.x:0,a=null!==t?t.y:0;J.setTexture2D(e,0),ve.copyTexSubImage2D(ve.TEXTURE_2D,n,0,0,s,a,i,o),Y.unbindTexture()},this.copyTextureToTexture=function(e,t,n=null,r=null,i=0){let o,s,a,l,c,u;!0!==e.isTexture&&(r=arguments[0]||null,e=arguments[1],t=arguments[2],i=arguments[3]||0,n=null),null!==n?(o=n.max.x-n.min.x,s=n.max.y-n.min.y,a=n.min.x,l=n.min.y):(o=e.image.width,s=e.image.height,a=0,l=0),null!==r?(c=r.x,u=r.y):(c=0,u=0);const h=pe.convert(t.format),f=pe.convert(t.type);J.setTexture2D(t,0),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,t.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,t.unpackAlignment);const d=ve.getParameter(ve.UNPACK_ROW_LENGTH),p=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),m=ve.getParameter(ve.UNPACK_SKIP_PIXELS),g=ve.getParameter(ve.UNPACK_SKIP_ROWS),v=ve.getParameter(ve.UNPACK_SKIP_IMAGES),y=e.isCompressedTexture?e.mipmaps[i]:e.image;ve.pixelStorei(ve.UNPACK_ROW_LENGTH,y.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,y.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,a),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,l),e.isDataTexture?ve.texSubImage2D(ve.TEXTURE_2D,i,c,u,o,s,h,f,y.data):e.isCompressedTexture?ve.compressedTexSubImage2D(ve.TEXTURE_2D,i,c,u,y.width,y.height,h,y.data):ve.texSubImage2D(ve.TEXTURE_2D,i,c,u,o,s,h,f,y),ve.pixelStorei(ve.UNPACK_ROW_LENGTH,d),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,p),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,m),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,g),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,v),0===i&&t.generateMipmaps&&ve.generateMipmap(ve.TEXTURE_2D),Y.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,r=null,i=0){let o,s,a,l,c,u,h,f,d;!0!==e.isTexture&&(n=arguments[0]||null,r=arguments[1]||null,e=arguments[2],t=arguments[3],i=arguments[4]||0);const p=e.isCompressedTexture?e.mipmaps[i]:e.image;null!==n?(o=n.max.x-n.min.x,s=n.max.y-n.min.y,a=n.max.z-n.min.z,l=n.min.x,c=n.min.y,u=n.min.z):(o=p.width,s=p.height,a=p.depth,l=0,c=0,u=0),null!==r?(h=r.x,f=r.y,d=r.z):(h=0,f=0,d=0);const m=pe.convert(t.format),g=pe.convert(t.type);let v;if(t.isData3DTexture)J.setTexture3D(t,0),v=ve.TEXTURE_3D;else{if(!t.isDataArrayTexture&&!t.isCompressedArrayTexture)return;J.setTexture2DArray(t,0),v=ve.TEXTURE_2D_ARRAY}ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,t.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,t.unpackAlignment);const y=ve.getParameter(ve.UNPACK_ROW_LENGTH),_=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),b=ve.getParameter(ve.UNPACK_SKIP_PIXELS),x=ve.getParameter(ve.UNPACK_SKIP_ROWS),w=ve.getParameter(ve.UNPACK_SKIP_IMAGES);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,p.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,p.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,l),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,c),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,u),e.isDataTexture||e.isData3DTexture?ve.texSubImage3D(v,i,h,f,d,o,s,a,m,g,p.data):t.isCompressedArrayTexture?ve.compressedTexSubImage3D(v,i,h,f,d,o,s,a,m,p.data):ve.texSubImage3D(v,i,h,f,d,o,s,a,m,g,p),ve.pixelStorei(ve.UNPACK_ROW_LENGTH,y),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,_),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,b),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,x),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,w),0===i&&t.generateMipmaps&&ve.generateMipmap(v),Y.unbindTexture()},this.initRenderTarget=function(e){void 0===Z.get(e).__webglFramebuffer&&J.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?J.setTextureCube(e,0):e.isData3DTexture?J.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?J.setTexture2DArray(e,0):J.setTexture2D(e,0),Y.unbindTexture()},this.resetState=function(){b=0,x=0,w=null,Y.reset(),me.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ih}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===ph?"display-p3":"srgb",t.unpackColorSpace=sf.workingColorSpace===mh?"display-p3":"srgb"}},WebGLUtils:Ov,WebGPUCoordinateSystem:kh,WireframeGeometry:jb,WrapAroundEnding:lh,ZeroCurvatureEnding:sh,ZeroFactor:200,ZeroSlopeEnding:ah,ZeroStencilOp:0,createCanvasElement:Jh},Symbol.toStringTag,{value:"Module"})),{entries:eS,setPrototypeOf:tS,isFrozen:nS,getPrototypeOf:rS,getOwnPropertyDescriptor:iS}=Object;let{freeze:oS,seal:sS,create:aS}=Object,{apply:lS,construct:cS}="undefined"!=typeof Reflect&&Reflect;oS||(oS=function(e){return e}),sS||(sS=function(e){return e}),lS||(lS=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),cS||(cS=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const uS=TS(Array.prototype.forEach),hS=TS(Array.prototype.lastIndexOf),fS=TS(Array.prototype.pop),dS=TS(Array.prototype.push),pS=TS(Array.prototype.splice),mS=TS(String.prototype.toLowerCase),gS=TS(String.prototype.toString),vS=TS(String.prototype.match),yS=TS(String.prototype.replace),_S=TS(String.prototype.indexOf),bS=TS(String.prototype.trim),xS=TS(Object.prototype.hasOwnProperty),wS=TS(RegExp.prototype.test),SS=(ES=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cS(ES,t)});var ES;function TS(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return lS(e,t,r)}}function AS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mS;tS&&tS(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(nS(t)||(t[r]=e),i=e)}e[i]=!0}return e}function MS(e){for(let t=0;t<e.length;t++){xS(e,t)||(e[t]=null)}return e}function CS(e){const t=aS(null);for(const[n,r]of eS(e)){xS(e,n)&&(Array.isArray(r)?t[n]=MS(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=CS(r):t[n]=r)}return t}function OS(e,t){for(;null!==e;){const n=iS(e,t);if(n){if(n.get)return TS(n.get);if("function"==typeof n.value)return TS(n.value)}e=rS(e)}return function(){return null}}const RS=oS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),IS=oS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kS=oS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PS=oS(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),NS=oS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),DS=oS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LS=oS(["#text"]),FS=oS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),US=oS(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BS=oS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zS=oS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),VS=sS(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jS=sS(/<%[\w\W]*|[\w\W]*%>/gm),HS=sS(/\$\{[\w\W]*/gm),WS=sS(/^data-[\-\w.\u00B7-\uFFFF]+$/),GS=sS(/^aria-[\-\w]+$/),qS=sS(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$S=sS(/^(?:\w+script|data):/i),XS=sS(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),YS=sS(/^html$/i),KS=sS(/^[a-z][.\w]*(-[.\w]+)+$/i);var ZS=Object.freeze({__proto__:null,ARIA_ATTR:GS,ATTR_WHITESPACE:XS,CUSTOM_ELEMENT:KS,DATA_ATTR:WS,DOCTYPE_NAME:YS,ERB_EXPR:jS,IS_ALLOWED_URI:qS,IS_SCRIPT_OR_DATA:$S,MUSTACHE_EXPR:VS,TMPLIT_EXPR:HS});const JS=1,QS=3,eE=7,tE=8,nE=9;var rE=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||t.document.nodeType!==nE||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,m=c.prototype,g=OS(m,"cloneNode"),v=OS(m,"remove"),y=OS(m,"nextSibling"),_=OS(m,"childNodes"),b=OS(m,"parentNode");if("function"==typeof a){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let x,w="";const{implementation:S,createNodeIterator:E,createDocumentFragment:T,getElementsByTagName:A}=r,{importNode:M}=i;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof eS&&"function"==typeof b&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:O,ERB_EXPR:R,TMPLIT_EXPR:I,DATA_ATTR:k,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:N,ATTR_WHITESPACE:D,CUSTOM_ELEMENT:L}=ZS;let{IS_ALLOWED_URI:F}=ZS,U=null;const B=AS({},[...RS,...IS,...kS,...NS,...LS]);let z=null;const V=AS({},[...FS,...US,...BS,...zS]);let j=Object.seal(aS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,W=null;const G=Object.seal(aS(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let q=!0,$=!0,X=!1,Y=!0,K=!1,Z=!0,J=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!1,ie=!0,oe=!1,se=!0,ae=!1,le={},ce=null;const ue=AS({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let he=null;const fe=AS({},["audio","video","img","source","image","track"]);let de=null;const pe=AS({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let ye=ve,_e=!1,be=null;const xe=AS({},[me,ge,ve],gS);let we=AS({},["mi","mo","mn","ms","mtext"]),Se=AS({},["annotation-xml"]);const Ee=AS({},["title","style","font","a","script"]);let Te=null;const Ae=["application/xhtml+xml","text/html"];let Me=null,Ce=null;const Oe=r.createElement("form"),Re=function(e){return e instanceof RegExp||e instanceof Function},Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=CS(e),Te=-1===Ae.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Me="application/xhtml+xml"===Te?gS:mS,U=xS(e,"ALLOWED_TAGS")?AS({},e.ALLOWED_TAGS,Me):B,z=xS(e,"ALLOWED_ATTR")?AS({},e.ALLOWED_ATTR,Me):V,be=xS(e,"ALLOWED_NAMESPACES")?AS({},e.ALLOWED_NAMESPACES,gS):xe,de=xS(e,"ADD_URI_SAFE_ATTR")?AS(CS(pe),e.ADD_URI_SAFE_ATTR,Me):pe,he=xS(e,"ADD_DATA_URI_TAGS")?AS(CS(fe),e.ADD_DATA_URI_TAGS,Me):fe,ce=xS(e,"FORBID_CONTENTS")?AS({},e.FORBID_CONTENTS,Me):ue,H=xS(e,"FORBID_TAGS")?AS({},e.FORBID_TAGS,Me):CS({}),W=xS(e,"FORBID_ATTR")?AS({},e.FORBID_ATTR,Me):CS({}),le=!!xS(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,$=!1!==e.ALLOW_DATA_ATTR,X=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,K=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,ie=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,se=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||qS,ye=e.NAMESPACE||ve,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,Se=e.HTML_INTEGRATION_POINTS||Se,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),K&&($=!1),ne&&(te=!0),le&&(U=AS({},LS),z=[],!0===le.html&&(AS(U,RS),AS(z,FS)),!0===le.svg&&(AS(U,IS),AS(z,US),AS(z,zS)),!0===le.svgFilters&&(AS(U,kS),AS(z,US),AS(z,zS)),!0===le.mathMl&&(AS(U,NS),AS(z,BS),AS(z,zS))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?G.tagCheck=e.ADD_TAGS:(U===B&&(U=CS(U)),AS(U,e.ADD_TAGS,Me))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?G.attributeCheck=e.ADD_ATTR:(z===V&&(z=CS(z)),AS(z,e.ADD_ATTR,Me))),e.ADD_URI_SAFE_ATTR&&AS(de,e.ADD_URI_SAFE_ATTR,Me),e.FORBID_CONTENTS&&(ce===ue&&(ce=CS(ce)),AS(ce,e.FORBID_CONTENTS,Me)),e.ADD_FORBID_CONTENTS&&(ce===ue&&(ce=CS(ce)),AS(ce,e.ADD_FORBID_CONTENTS,Me)),se&&(U["#text"]=!0),J&&AS(U,["html","head","body"]),U.table&&(AS(U,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw SS('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw SS('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=e.TRUSTED_TYPES_POLICY,w=x.createHTML("")}else void 0===x&&(x=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(o){return null}}(p,o)),null!==x&&"string"==typeof w&&(w=x.createHTML(""));oS&&oS(e),Ce=e}},ke=AS({},[...IS,...kS,...PS]),Pe=AS({},[...NS,...DS]),Ne=function(e){dS(n.removed,{element:e});try{b(e).removeChild(e)}catch(t){v(e)}},De=function(e,t){try{dS(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){dS(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||ne)try{Ne(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Le=function(e){let t=null,n=null;if(ee)e="<remove></remove>"+e;else{const t=vS(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Te&&ye===ve&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=x?x.createHTML(e):e;if(ye===ve)try{t=(new d).parseFromString(i,Te)}catch(s){}if(!t||!t.documentElement){t=S.createDocument(ye,"template",null);try{t.documentElement.innerHTML=_e?w:i}catch(s){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),ye===ve?A.call(t,J?"html":"body")[0]:J?t.documentElement:o},Fe=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ue=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Be=function(e){return"function"==typeof l&&e instanceof l};function ze(e,t,r){uS(e,e=>{e.call(n,t,r,Ce)})}const Ve=function(e){let t=null;if(ze(C.beforeSanitizeElements,e,null),Ue(e))return Ne(e),!0;const r=Me(e.nodeName);if(ze(C.uponSanitizeElement,e,{tagName:r,allowedTags:U}),Z&&e.hasChildNodes()&&!Be(e.firstElementChild)&&wS(/<[/\w!]/g,e.innerHTML)&&wS(/<[/\w!]/g,e.textContent))return Ne(e),!0;if(e.nodeType===eE)return Ne(e),!0;if(Z&&e.nodeType===tE&&wS(/<[/\w]/g,e.data))return Ne(e),!0;if(!(G.tagCheck instanceof Function&&G.tagCheck(r))&&(!U[r]||H[r])){if(!H[r]&&He(r)){if(j.tagNameCheck instanceof RegExp&&wS(j.tagNameCheck,r))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(r))return!1}if(se&&!ce[r]){const t=b(e)||e.parentNode,n=_(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,y(e))}}}return Ne(e),!0}return e instanceof c&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:ye,tagName:"template"});const n=mS(e.tagName),r=mS(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===ve?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||we[r]):Boolean(ke[n]):e.namespaceURI===me?t.namespaceURI===ve?"math"===n:t.namespaceURI===ge?"math"===n&&Se[r]:Boolean(Pe[n]):e.namespaceURI===ve?!(t.namespaceURI===ge&&!Se[r])&&!(t.namespaceURI===me&&!we[r])&&!Pe[n]&&(Ee[n]||!ke[n]):!("application/xhtml+xml"!==Te||!be[e.namespaceURI]))}(e)?(Ne(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!wS(/<\/no(script|embed|frames)/i,e.innerHTML)?(K&&e.nodeType===QS&&(t=e.textContent,uS([O,R,I],e=>{t=yS(t,e," ")}),e.textContent!==t&&(dS(n.removed,{element:e.cloneNode()}),e.textContent=t)),ze(C.afterSanitizeElements,e,null),!1):(Ne(e),!0)},je=function(e,t,n){if(ie&&("id"===t||"name"===t)&&(n in r||n in Oe))return!1;if($&&!W[t]&&wS(k,t));else if(q&&wS(P,t));else if(G.attributeCheck instanceof Function&&G.attributeCheck(t,e));else if(!z[t]||W[t]){if(!(He(e)&&(j.tagNameCheck instanceof RegExp&&wS(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&wS(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t,e))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&wS(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(de[t]);else if(wS(F,yS(n,D,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_S(n,"data:")||!he[e]){if(X&&!wS(N,yS(n,D,"")));else if(n)return!1}else;return!0},He=function(e){return"annotation-xml"!==e&&vS(e,L)},We=function(e){ze(C.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ue(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let i=t.length;for(;i--;){const s=t[i],{name:a,namespaceURI:l,value:c}=s,u=Me(a),h=c;let f="value"===a?h:bS(h);if(r.attrName=u,r.attrValue=f,r.keepAttr=!0,r.forceKeepAttr=void 0,ze(C.uponSanitizeAttribute,e,r),f=r.attrValue,!oe||"id"!==u&&"name"!==u||(De(a,e),f="user-content-"+f),Z&&wS(/((--!?|])>)|<\/(style|title|textarea)/i,f)){De(a,e);continue}if("attributename"===u&&vS(f,"href")){De(a,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){De(a,e);continue}if(!Y&&wS(/\/>/i,f)){De(a,e);continue}K&&uS([O,R,I],e=>{f=yS(f,e," ")});const d=Me(e.nodeName);if(je(d,u,f)){if(x&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(l);else switch(p.getAttributeType(d,u)){case"TrustedHTML":f=x.createHTML(f);break;case"TrustedScriptURL":f=x.createScriptURL(f)}if(f!==h)try{l?e.setAttributeNS(l,a,f):e.setAttribute(a,f),Ue(e)?Ne(e):fS(n.removed)}catch(o){De(a,e)}}else De(a,e)}ze(C.afterSanitizeAttributes,e,null)},Ge=function e(t){let n=null;const r=Fe(t);for(ze(C.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)ze(C.uponSanitizeShadowNode,n,null),Ve(n),We(n),n.content instanceof s&&e(n.content);ze(C.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,a=null,c=null;if(_e=!e,_e&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw SS("toString is not a function");if("string"!=typeof(e=e.toString()))throw SS("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Ie(t),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=Me(e.nodeName);if(!U[t]||H[t])throw SS("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Le("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),o.nodeType===JS&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!te&&!K&&!J&&-1===e.indexOf("<"))return x&&re?x.createHTML(e):e;if(r=Le(e),!r)return te?null:re?w:""}r&&ee&&Ne(r.firstChild);const u=Fe(ae?e:r);for(;a=u.nextNode();)Ve(a),We(a),a.content instanceof s&&Ge(a.content);if(ae)return e;if(te){if(ne)for(c=T.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(z.shadowroot||z.shadowrootmode)&&(c=M.call(i,c,!0)),c}let h=J?r.outerHTML:r.innerHTML;return J&&U["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&wS(YS,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),K&&uS([O,R,I],e=>{h=yS(h,e," ")}),x&&re?x.createHTML(h):h},n.setConfig=function(){Ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Ce=null,Q=!1},n.isValidAttribute=function(e,t,n){Ce||Ie({});const r=Me(e),i=Me(t);return je(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&dS(C[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=hS(C[e],t);return-1===n?void 0:pS(C[e],n,1)[0]}return fS(C[e])},n.removeHooks=function(e){C[e]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function iE(){return rE()}const oE={install(e,t={},n=iE){e.directive("dompurify-html",function(e={},t=iE){const n=t();!function(e,t){const n=e.hooks??{};let r;for(r in n){const e=n[r];void 0!==e&&t.addHook(r,e)}}(e,n);const r=function(t){const r=t.value;if(t.oldValue===r)return;const i=`${r}`,o=t.arg,s=e.namedConfigurations,a=e.default??{};return s&&void 0!==o?n.sanitize(i,s[o]??a):n.sanitize(i,a)},i=function(e,t){const n=r(t);void 0!==n&&(e.innerHTML=n)},o={mounted:i,updated:i};return e.enableSSRPropsSupport?{...o,getSSRProps:e=>({innerHTML:r(e)})}:o}(t,n))}};function sE(e,t){}const aE="undefined"!=typeof window,lE=(e,t=!1)=>t?Symbol.for(e):Symbol(e),cE=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),uE=e=>"number"==typeof e&&isFinite(e),hE=e=>"[object RegExp]"===CE(e),fE=e=>OE(e)&&0===Object.keys(e).length,dE=Object.assign,pE=Object.create,mE=(e=null)=>pE(e);let gE;const vE=()=>gE||(gE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:mE());function yE(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function _E(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const bE=Object.prototype.hasOwnProperty;function xE(e,t){return bE.call(e,t)}const wE=Array.isArray,SE=e=>"function"==typeof e,EE=e=>"string"==typeof e,TE=e=>"boolean"==typeof e,AE=e=>null!==e&&"object"==typeof e,ME=Object.prototype.toString,CE=e=>ME.call(e),OE=e=>"[object Object]"===CE(e);function RE(e,t=""){return e.reduce((e,n,r)=>0===r?e+n:e+t+n,"")}const IE=e=>!AE(e)||wE(e);function kE(e,t){if(IE(e)||IE(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:e,des:t}=n.pop();Object.keys(e).forEach(r=>{"__proto__"!==r&&(AE(e[r])&&!AE(t[r])&&(t[r]=Array.isArray(e[r])?[]:mE()),IE(t[r])||IE(e[r])?t[r]=e[r]:n.push({src:e[r],des:t[r]}))})}}function PE(e,t,n){return{start:e,end:t}}const NE=1,DE=2,LE=3,FE=4,UE=5,BE=6,zE=7,VE=8,jE=9,HE=10,WE=11,GE=12,qE=13,$E=14;function XE(e,t,n={}){const{domain:r,messages:i,args:o}=n,s=new SyntaxError(String(e));return s.code=e,t&&(s.location=t),s.domain=r,s}function YE(e){throw e}const KE=" ",ZE="\n",JE=String.fromCharCode(8232),QE=String.fromCharCode(8233);function eT(e){const t=e;let n=0,r=1,i=1,o=0;const s=e=>"\r"===t[e]&&t[e+1]===ZE,a=e=>t[e]===QE,l=e=>t[e]===JE,c=e=>s(e)||(e=>t[e]===ZE)(e)||a(e)||l(e),u=e=>s(e)||a(e)||l(e)?ZE:t[e];function h(){return o=0,c(n)&&(r++,i=0),s(n)&&n++,n++,i++,t[n]}return{index:()=>n,line:()=>r,column:()=>i,peekOffset:()=>o,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+o),next:h,peek:function(){return s(n+o)&&o++,o++,t[n+o]},reset:function(){n=0,r=1,i=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=n+o;for(;e!==n;)h();o=0}}}const tT=void 0;function nT(e,t={}){const n=!1!==t.location,r=eT(e),i=()=>r.index(),o=()=>{return e=r.line(),t=r.column(),n=r.index(),{line:e,column:t,offset:n};var e,t,n},s=o(),a=i(),l={currentType:13,offset:a,startLoc:s,endLoc:s,lastType:13,lastOffset:a,lastStartLoc:s,lastEndLoc:s,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function h(e,t,r,...i){const o=c();if(t.column+=r,t.offset+=r,u){const r=XE(e,n?PE(o.startLoc,t):null,{domain:"tokenizer",args:i});u(r)}}function f(e,t,r){e.endLoc=o(),e.currentType=t;const i={type:t};return n&&(i.loc=PE(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const d=e=>f(e,13);function p(e,t){return e.currentChar()===t?(e.next(),t):(h(NE,o(),0,t),"")}function m(e){let t="";for(;e.currentPeek()===KE||e.currentPeek()===ZE;)t+=e.currentPeek(),e.peek();return t}function g(e){const t=m(e);return e.skipToPeek(),t}function v(e){if(e===tT)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=function(e){if(e===tT)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}function _(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function b(e,t=!0){const n=(t=!1,r="")=>{const i=e.currentPeek();return"{"===i?t:"@"!==i&&i?"|"===i?!(r===KE||r===ZE):i===KE?(e.peek(),n(!0,KE)):i!==ZE||(e.peek(),n(!0,ZE)):t},r=n();return t&&e.resetPeek(),r}function x(e,t){const n=e.currentChar();return n===tT?tT:t(n)?(e.next(),n):null}function w(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function S(e){return x(e,w)}function E(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function T(e){return x(e,E)}function A(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function M(e){return x(e,A)}function C(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function O(e){return x(e,C)}function R(e){let t="",n="";for(;t=M(e);)n+=t;return n}function I(e){return"'"!==e&&e!==ZE}function k(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),`\\${t}`;case"u":return P(e,t,4);case"U":return P(e,t,6);default:return h(FE,o(),0,t),""}}function P(e,t,n){p(e,t);let r="";for(let i=0;i<n;i++){const n=O(e);if(!n){h(UE,o(),0,`\\${t}${r}${e.currentChar()}`);break}r+=n}return`\\${t}${r}`}function N(e){return"{"!==e&&"}"!==e&&e!==KE&&e!==ZE}function D(e){g(e);let t="",n="";for(;t=x(e,N);)n+=t;return n}function L(e){g(e);const t=p(e,"|");return g(e),t}function F(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&h(jE,o(),0),e.next(),n=f(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&h(VE,o(),0),e.next(),n=f(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&h(zE,o(),0),n=U(e,t)||d(t),t.braceNest=0,n;default:{let r=!0,i=!0,s=!0;if(_(e))return t.braceNest>0&&h(zE,o(),0),n=f(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(4===t.currentType||5===t.currentType||6===t.currentType))return h(zE,o(),0),t.braceNest=0,B(e,t);if(r=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t))return n=f(t,4,function(e){g(e);let t="",n="";for(;t=T(e);)n+=t;const r=e.currentChar();if(r&&"}"!==r&&r!==tT&&r!==KE&&r!==ZE&&""!==r){const t=D(e);return h(DE,o(),0,n+t),n+t}return e.currentChar()===tT&&h(zE,o(),0),n}(e)),g(e),n;if(i=y(e,t))return n=f(t,5,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+=`-${R(e)}`):t+=R(e),e.currentChar()===tT&&h(zE,o(),0),t}(e)),g(e),n;if(s=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r="'"===e.currentPeek();return e.resetPeek(),r}(e,t))return n=f(t,6,function(e){g(e),p(e,"'");let t="",n="";for(;t=x(e,I);)n+="\\"===t?k(e):t;const r=e.currentChar();return r===ZE||r===tT?(h(LE,o(),0),r===ZE&&(e.next(),p(e,"'")),n):(p(e,"'"),n)}(e)),g(e),n;if(!r&&!i&&!s)return n=f(t,12,D(e)),h(DE,o(),0,n.value),g(e),n;break}}return n}function U(e,t){const{currentType:n}=t;let r=null;const i=e.currentChar();switch(7!==n&&8!==n&&11!==n&&9!==n||i!==ZE&&i!==KE||h(HE,o(),0),i){case"@":return e.next(),r=f(t,7,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),f(t,8,".");case":":return g(e),e.next(),f(t,9,":");default:return _(e)?(r=f(t,1,L(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){const{currentType:n}=t;if(7!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){const{currentType:n}=t;if(7!==n&&11!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(g(e),U(e,t)):function(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t)?(g(e),f(t,11,function(e){let t="",n="";for(;t=S(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(9!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"|"===t||":"===t||"."===t||t===KE||!t)&&(t===ZE?(e.peek(),r()):b(e,!1))},i=r();return e.resetPeek(),i}(e,t)?(g(e),"{"===i?F(e,t)||r:f(t,10,function(e){const t=n=>{const r=e.currentChar();return"{"!==r&&"@"!==r&&"|"!==r&&"("!==r&&")"!==r&&r?r===KE?n:(n+=r,e.next(),t(n)):n};return t("")}(e))):(7===n&&h(HE,o(),0),t.braceNest=0,t.inLinked=!1,B(e,t))}}function B(e,t){let n={type:13};if(t.braceNest>0)return F(e,t)||d(t);if(t.inLinked)return U(e,t)||d(t);switch(e.currentChar()){case"{":return F(e,t)||d(t);case"}":return h(BE,o(),0),e.next(),f(t,3,"}");case"@":return U(e,t)||d(t);default:if(_(e))return n=f(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(b(e))return f(t,0,function(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if(n===KE||n===ZE)if(b(e))t+=n,e.next();else{if(_(e))break;t+=n,e.next()}else t+=n,e.next()}return t}(e))}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:s}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=s,l.offset=i(),l.startLoc=o(),r.currentChar()===tT?f(l,13):B(r,l)},currentOffset:i,currentPosition:o,context:c}}const rT=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function iT(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function oT(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,r,i,o,...s){const a=e.currentPosition();if(a.offset+=o,a.column+=o,n){const e=XE(r,t?PE(i,a):null,{domain:"parser",args:s});n(e)}}function i(e,n,r){const i={type:e};return t&&(i.start=n,i.end=n,i.loc={start:r,end:r}),i}function o(e,n,r,i){t&&(e.end=n,e.loc&&(e.loc.end=r))}function s(e,t){const n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function a(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,a=i(5,r,s);return a.index=parseInt(t,10),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,a=i(4,r,s);return a.key=t,e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:s}=n,a=i(9,r,s);return a.value=t.replace(rT,iT),e.nextToken(),o(a,e.currentOffset(),e.currentPosition()),a}function u(e){const t=e.context(),n=i(6,t.offset,t.startLoc);let s=e.nextToken();if(8===s.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:s,lastStartLoc:a}=n,l=i(8,s,a);return 11!==t.type?(r(e,GE,n.lastStartLoc,0),l.value="",o(l,s,a),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,$E,n.lastStartLoc,0,sT(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,s=t.nextConsumeToken||e.nextToken()}switch(9!==s.type&&r(e,$E,t.lastStartLoc,0,sT(s)),s=e.nextToken(),2===s.type&&(s=e.nextToken()),s.type){case 10:null==s.value&&r(e,$E,t.lastStartLoc,0,sT(s)),n.key=function(e,t){const n=e.context(),r=i(7,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}(e,s.value||"");break;case 4:null==s.value&&r(e,$E,t.lastStartLoc,0,sT(s)),n.key=l(e,s.value||"");break;case 5:null==s.value&&r(e,$E,t.lastStartLoc,0,sT(s)),n.key=a(e,s.value||"");break;case 6:null==s.value&&r(e,$E,t.lastStartLoc,0,sT(s)),n.key=c(e,s.value||"");break;default:{r(e,qE,t.lastStartLoc,0);const a=e.context(),l=i(7,a.offset,a.startLoc);return l.value="",o(l,a.offset,a.startLoc),n.key=l,o(n,a.offset,a.startLoc),{nextConsumeToken:s,node:n}}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function h(e){const t=e.context(),n=i(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let h=null;do{const i=h||e.nextToken();switch(h=null,i.type){case 0:null==i.value&&r(e,$E,t.lastStartLoc,0,sT(i)),n.items.push(s(e,i.value||""));break;case 5:null==i.value&&r(e,$E,t.lastStartLoc,0,sT(i)),n.items.push(a(e,i.value||""));break;case 4:null==i.value&&r(e,$E,t.lastStartLoc,0,sT(i)),n.items.push(l(e,i.value||""));break;case 6:null==i.value&&r(e,$E,t.lastStartLoc,0,sT(i)),n.items.push(c(e,i.value||""));break;case 7:{const t=u(e);n.items.push(t.node),h=t.nextConsumeToken||null;break}}}while(13!==t.currentType&&1!==t.currentType);return o(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function f(e){const t=e.context(),{offset:n,startLoc:s}=t,a=h(e);return 13===t.currentType?a:function(e,t,n,s){const a=e.context();let l=0===s.items.length;const c=i(1,t,n);c.cases=[],c.cases.push(s);do{const t=h(e);l||(l=0===t.items.length),c.cases.push(t)}while(13!==a.currentType);return l&&r(e,WE,n,0),o(c,e.currentOffset(),e.currentPosition()),c}(e,n,s,a)}return{parse:function(n){const s=nT(n,dE({},e)),a=s.context(),l=i(0,a.offset,a.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=f(s),e.onCacheKey&&(l.cacheKey=e.onCacheKey(n)),13!==a.currentType&&r(s,$E,a.lastStartLoc,0,n[a.offset]||""),o(l,s.currentOffset(),s.currentPosition()),l}}}function sT(e){if(13===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function aT(e,t){for(let n=0;n<e.length;n++)lT(e[n],t)}function lT(e,t){switch(e.type){case 1:aT(e.cases,t),t.helper("plural");break;case 2:aT(e.items,t);break;case 6:lT(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function cT(e,t={}){const n=function(e){const t={ast:e,helpers:new Set};return{context:()=>t,helper:e=>(t.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&lT(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function uT(e){if(1===e.items.length){const t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(3!==r.type&&9!==r.type)break;if(null==r.value)break;t.push(r.value)}if(t.length===e.items.length){e.static=RE(t);for(let t=0;t<e.items.length;t++){const n=e.items[t];3!==n.type&&9!==n.type||delete n.value}}}}function hT(e){switch(e.t=e.type,e.type){case 0:{const t=e;hT(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let e=0;e<n.length;e++)hT(n[e]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let e=0;e<n.length;e++)hT(n[e]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;hT(t.key),t.k=t.key,delete t.key,t.modifier&&(hT(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function fT(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?fT(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const i=t.cases.length;for(let n=0;n<i&&(fT(e,t.cases[n]),n!==i-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const i=t.items.length;for(let o=0;o<i&&(fT(e,t.items[o]),o!==i-1);o++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),fT(e,t.key),t.modifier?(e.push(", "),fT(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t)}}function dT(e,t={}){const n=dE({},t),r=!!n.jit,i=!!n.minify,o=null==n.optimize||n.optimize,s=oT(n).parse(e);return r?(o&&function(e){const t=e.body;2===t.type?uT(t):t.cases.forEach(e=>uT(e))}(s),i&&hT(s),{ast:s,code:""}):(cT(s,n),((e,t={})=>{const n=EE(t.mode)?t.mode:"normal",r=EE(t.filename)?t.filename:"message.intl";t.sourceMap;const i=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",o=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],a=function(e,t){const{filename:n,breakLineCode:r,needIndent:i}=t,o=!1!==t.location,s={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};function a(e,t){s.code+=e}function l(e,t=!0){const n=t?r:"";a(i?n+"  ".repeat(e):n)}return o&&e.loc&&(s.source=e.loc.source),{context:()=>s,push:a,indent:function(e=!0){const t=++s.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--s.indentLevel;e&&l(t)},newline:function(){l(s.indentLevel)},helper:e=>`_${e}`,needIndent:()=>s.needIndent}}(e,{filename:r,breakLineCode:i,needIndent:o});a.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(o),s.length>0&&(a.push(`const { ${RE(s.map(e=>`${e}: _${e}`),", ")} } = ctx`),a.newline()),a.push("return "),fT(a,e),a.deindent(o),a.push("}"),delete e.helpers;const{code:l,map:c}=a.context();return{ast:e,code:l,map:c?c.toJSON():void 0}})(s,n))}function pT(e){return AE(e)&&0===bT(e)&&(xE(e,"b")||xE(e,"body"))}const mT=["b","body"];const gT=["c","cases"];const vT=["s","static"];const yT=["i","items"];const _T=["t","type"];function bT(e){return TT(e,_T)}const xT=["v","value"];function wT(e,t){const n=TT(e,xT);if(null!=n)return n;throw MT(t)}const ST=["m","modifier"];const ET=["k","key"];function TT(e,t,n){for(let r=0;r<t.length;r++){const n=t[r];if(xE(e,n)&&null!=e[n])return e[n]}return n}const AT=[...mT,...gT,...vT,...yT,...ET,...ST,...xT,..._T];function MT(e){return new Error(`unhandled node type: ${e}`)}function CT(e){return t=>function(e,t){const n=(r=t,TT(r,mT));var r;if(null==n)throw MT(0);if(1===bT(n)){const t=function(e){return TT(e,gT,[])}(n);return e.plural(t.reduce((t,n)=>[...t,OT(e,n)],[]))}return OT(e,n)}(t,e)}function OT(e,t){const n=function(e){return TT(e,vT)}(t);if(null!=n)return"text"===e.type?n:e.normalize([n]);{const n=function(e){return TT(e,yT,[])}(t).reduce((t,n)=>[...t,RT(e,n)],[]);return e.normalize(n)}}function RT(e,t){const n=bT(t);switch(n){case 3:case 9:case 7:case 8:return wT(t,n);case 4:{const r=t;if(xE(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(xE(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw MT(n)}case 5:{const r=t;if(xE(r,"i")&&uE(r.i))return e.interpolate(e.list(r.i));if(xE(r,"index")&&uE(r.index))return e.interpolate(e.list(r.index));throw MT(n)}case 6:{const n=t,r=function(e){return TT(e,ST)}(n),i=function(e){const t=TT(e,ET);if(t)return t;throw MT(6)}(n);return e.linked(RT(e,i),r?RT(e,r):void 0,e.type)}default:throw new Error(`unhandled node on format message part: ${n}`)}}const IT=e=>e;let kT=mE();let PT=null;const NT=DT("function:translate");function DT(e){return t=>PT&&PT.emit(e,t)}const LT=17,FT=18,UT=19,BT=21,zT=22,VT=23;function jT(e){return XE(e,null,void 0)}function HT(e,t){return null!=t.locale?GT(t.locale):GT(e.locale)}let WT;function GT(e){if(EE(e))return e;if(SE(e)){if(e.resolvedOnce&&null!=WT)return WT;if("Function"===e.constructor.name){const n=e();if(AE(t=n)&&SE(t.then)&&SE(t.catch))throw jT(BT);return WT=n}throw jT(zT)}throw jT(VT);var t}function qT(e,t,n){return[...new Set([n,...wE(t)?t:AE(t)?Object.keys(t):EE(t)?[t]:[n]])]}function $T(e,t,n){const r=EE(n)?n:rA,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(r);if(!o){o=[];let e=[n];for(;wE(e);)e=XT(o,e,t);const s=wE(t)||!OE(t)?t:t.default?t.default:null;e=EE(s)?[s]:s,wE(e)&&XT(o,e,!1),i.__localeChainCache.set(r,o)}return o}function XT(e,t,n){let r=!0;for(let i=0;i<t.length&&TE(r);i++){const o=t[i];EE(o)&&(r=YT(e,t[i],n))}return r}function YT(e,t,n){let r;const i=t.split("-");do{r=KT(e,i.join("-"),n),i.splice(-1,1)}while(i.length&&!0===r);return r}function KT(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),(wE(n)||OE(n))&&n[i]&&(r=n[i])}return r}const ZT=[];ZT[0]={w:[0],i:[3,0],"[":[4],o:[7]},ZT[1]={w:[1],".":[2],"[":[4],o:[7]},ZT[2]={w:[2],i:[3,0],0:[3,0]},ZT[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},ZT[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},ZT[5]={"'":[4,0],o:8,l:[5,0]},ZT[6]={'"':[4,0],o:8,l:[6,0]};const JT=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function QT(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function eA(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,JT.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const tA=new Map;function nA(e,t){return AE(e)?e[t]:null}const rA="en-US",iA=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;let oA,sA,aA;let lA=null;const cA=()=>lA;let uA=null;const hA=e=>{uA=e};let fA=0;function dA(e={}){const t=SE(e.onWarn)?e.onWarn:sE,n=EE(e.version)?e.version:"11.2.8",r=EE(e.locale)||SE(e.locale)?e.locale:rA,i=SE(r)?rA:r,o=wE(e.fallbackLocale)||OE(e.fallbackLocale)||EE(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i,s=OE(e.messages)?e.messages:pA(i),a=OE(e.datetimeFormats)?e.datetimeFormats:pA(i),l=OE(e.numberFormats)?e.numberFormats:pA(i),c=dE(mE(),e.modifiers,{upper:(e,t)=>"text"===t&&EE(e)?e.toUpperCase():"vnode"===t&&AE(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&EE(e)?e.toLowerCase():"vnode"===t&&AE(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&EE(e)?iA(e):"vnode"===t&&AE(e)&&"__v_isVNode"in e?iA(e.children):e}),u=e.pluralRules||mE(),h=SE(e.missing)?e.missing:null,f=!TE(e.missingWarn)&&!hE(e.missingWarn)||e.missingWarn,d=!TE(e.fallbackWarn)&&!hE(e.fallbackWarn)||e.fallbackWarn,p=!!e.fallbackFormat,m=!!e.unresolving,g=SE(e.postTranslation)?e.postTranslation:null,v=OE(e.processor)?e.processor:null,y=!TE(e.warnHtmlMessage)||e.warnHtmlMessage,_=!!e.escapeParameter,b=SE(e.messageCompiler)?e.messageCompiler:oA,x=SE(e.messageResolver)?e.messageResolver:sA||nA,w=SE(e.localeFallbacker)?e.localeFallbacker:aA||qT,S=AE(e.fallbackContext)?e.fallbackContext:void 0,E=e,T=AE(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,A=AE(E.__numberFormatters)?E.__numberFormatters:new Map,M=AE(E.__meta)?E.__meta:{};fA++;const C={version:n,cid:fA,locale:r,fallbackLocale:o,messages:s,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:d,fallbackFormat:p,unresolving:m,postTranslation:g,processor:v,warnHtmlMessage:y,escapeParameter:_,messageCompiler:b,messageResolver:x,localeFallbacker:w,fallbackContext:S,onWarn:t,__meta:M};return C.datetimeFormats=a,C.numberFormats=l,C.__datetimeFormatters=T,C.__numberFormatters=A,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){PT&&PT.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}(C,n,M),C}const pA=e=>({[e]:mE()});function mA(e,t,n,r,i){const{missing:o,onWarn:s}=e;if(null!==o){const r=o(e,n,t,i);return EE(r)?r:t}return t}function gA(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function vA(e,t){return e!==t&&e.split("-")[0]===t.split("-")[0]}function yA(e,t){const n=t.indexOf(e);if(-1===n)return!1;for(let r=n+1;r<t.length;r++)if(vA(e,t[r]))return!0;return!1}function _A(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__datetimeFormatters:a}=e,[l,c,u,h]=xA(...t);TE(u.missingWarn)?u.missingWarn:e.missingWarn;TE(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const f=!!u.part,d=HT(e,u),p=s(e,i,d);if(!EE(l)||""===l)return new Intl.DateTimeFormat(d,h).format(c);let m,g={},v=null;for(let b=0;b<p.length&&(m=p[b],g=n[m]||{},v=g[l],!OE(v));b++)mA(e,l,m,0,"datetime format");if(!OE(v)||!EE(m))return r?-1:l;let y=`${m}__${l}`;fE(h)||(y=`${y}__${JSON.stringify(h)}`);let _=a.get(y);return _||(_=new Intl.DateTimeFormat(m,dE({},v,h)),a.set(y,_)),f?_.formatToParts(c):_.format(c)}const bA=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function xA(...e){const[t,n,r,i]=e,o=mE();let s,a=mE();if(EE(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw jT(UT);const n=e[3]?e[3].trim().startsWith("T")?`${e[1].trim()}${e[3].trim()}`:`${e[1].trim()}T${e[3].trim()}`:e[1].trim();s=new Date(n);try{s.toISOString()}catch{throw jT(UT)}}else if("[object Date]"===CE(t)){if(isNaN(t.getTime()))throw jT(FT);s=t}else{if(!uE(t))throw jT(LT);s=t}return EE(n)?o.key=n:OE(n)&&Object.keys(n).forEach(e=>{bA.includes(e)?a[e]=n[e]:o[e]=n[e]}),EE(r)?o.locale=r:OE(r)&&(a=r),OE(i)&&(a=i),[o.key||"",s,o,a]}function wA(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function SA(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:s}=e,{__numberFormatters:a}=e,[l,c,u,h]=TA(...t);TE(u.missingWarn)?u.missingWarn:e.missingWarn;TE(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const f=!!u.part,d=HT(e,u),p=s(e,i,d);if(!EE(l)||""===l)return new Intl.NumberFormat(d,h).format(c);let m,g={},v=null;for(let b=0;b<p.length&&(m=p[b],g=n[m]||{},v=g[l],!OE(v));b++)mA(e,l,m,0,"number format");if(!OE(v)||!EE(m))return r?-1:l;let y=`${m}__${l}`;fE(h)||(y=`${y}__${JSON.stringify(h)}`);let _=a.get(y);return _||(_=new Intl.NumberFormat(m,dE({},v,h)),a.set(y,_)),f?_.formatToParts(c):_.format(c)}const EA=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function TA(...e){const[t,n,r,i]=e,o=mE();let s=mE();if(!uE(t))throw jT(LT);const a=t;return EE(n)?o.key=n:OE(n)&&Object.keys(n).forEach(e=>{EA.includes(e)?s[e]=n[e]:o[e]=n[e]}),EE(r)?o.locale=r:OE(r)&&(s=r),OE(i)&&(s=i),[o.key||"",a,o,s]}function AA(e,t,n){const r=e;for(const i in n){const e=`${t}__${i}`;r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}const MA=e=>e,CA=e=>"",OA=e=>0===e.length?"":RE(e),RA=e=>null==e?"":wE(e)||OE(e)&&e.toString===ME?JSON.stringify(e,null,2):String(e);function IA(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function kA(e={}){const t=e.locale,n=function(e){const t=uE(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(uE(e.named.count)||uE(e.named.n))?uE(e.named.count)?e.named.count:uE(e.named.n)?e.named.n:t:t}(e),r=AE(e.pluralRules)&&EE(t)&&SE(e.pluralRules[t])?e.pluralRules[t]:IA,i=AE(e.pluralRules)&&EE(t)&&SE(e.pluralRules[t])?IA:void 0,o=e.list||[],s=e.named||mE();uE(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,s);function a(t,n){const r=SE(e.messages)?e.messages(t,!!n):!!AE(e.messages)&&e.messages[t];return r||(e.parent?e.parent.message(t):CA)}const l=OE(e.processor)&&SE(e.processor.normalize)?e.processor.normalize:OA,c=OE(e.processor)&&SE(e.processor.interpolate)?e.processor.interpolate:RA,u={list:e=>o[e],named:e=>s[e],plural:e=>e[r(n,e.length,i)],linked:(t,...n)=>{const[r,i]=n;let o="text",s="";1===n.length?AE(r)?(s=r.modifier||s,o=r.type||o):EE(r)&&(s=r||s):2===n.length&&(EE(r)&&(s=r||s),EE(i)&&(o=i||o));const l=a(t,!0)(u),c="vnode"===o&&wE(l)&&s?l[0]:l;return s?(h=s,e.modifiers?e.modifiers[h]:MA)(c,o):c;var h},message:a,type:OE(e.processor)&&EE(e.processor.type)?e.processor.type:"text",interpolate:c,normalize:l,values:dE(mE(),o,s)};return u}const PA=()=>"",NA=e=>SE(e);function DA(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:o,fallbackLocale:s,messages:a}=e,[l,c]=UA(...t),u=TE(c.missingWarn)?c.missingWarn:e.missingWarn,h=TE(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=TE(c.escapeParameter)?c.escapeParameter:e.escapeParameter,d=!!c.resolvedMessage,p=EE(c.default)||TE(c.default)?TE(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:null,m=n||null!=p&&(EE(p)||SE(p)),g=HT(e,c);f&&function(e){wE(e.list)?e.list=e.list.map(e=>EE(e)?yE(e):e):AE(e.named)&&Object.keys(e.named).forEach(t=>{EE(e.named[t])&&(e.named[t]=yE(e.named[t]))})}(c);let[v,y,_]=d?[l,g,a[g]||mE()]:LA(e,l,g,s,h,u),b=v,x=l;if(d||EE(b)||pT(b)||NA(b)||m&&(b=p,x=b),!(d||(EE(b)||pT(b)||NA(b))&&EE(y)))return i?-1:l;let w=!1;const S=NA(b)?b:FA(e,l,y,b,x,()=>{w=!0});if(w)return b;const E=function(e,t,n,r){const{modifiers:i,pluralRules:o,messageResolver:s,fallbackLocale:a,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,h=(r,i)=>{let o=s(n,r);if(null==o&&(u||i)){const[,,n]=LA(u||e,r,t,a,l,c);o=s(n,r)}if(EE(o)||pT(o)){let n=!1;const i=FA(e,r,t,o,r,()=>{n=!0});return n?PA:i}return NA(o)?o:PA},f={locale:t,modifiers:i,pluralRules:o,messages:h};e.processor&&(f.processor=e.processor);r.list&&(f.list=r.list);r.named&&(f.named=r.named);uE(r.plural)&&(f.pluralIndex=r.plural);return f}(e,y,_,c),T=function(e,t,n){const r=t(n);return r}(0,S,kA(E));let A=r?r(T,l):T;var M;if(f&&EE(A)&&(M=(M=(M=A).replace(/(\w+)\s*=\s*"([^"]*)"/g,(e,t,n)=>`${t}="${_E(n)}"`)).replace(/(\w+)\s*=\s*'([^']*)'/g,(e,t,n)=>`${t}='${_E(n)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(M)&&(M=M.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(e=>{M=M.replace(e,"$1javascript&#58;")}),A=M),__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:EE(l)?l:NA(b)?b.key:"",locale:y||(NA(b)?b.locale:""),format:EE(b)?b:NA(b)?b.source:"",message:A};t.meta=dE({},e.__meta,cA()||{}),NT(t)}return A}function LA(e,t,n,r,i,o){const{messages:s,onWarn:a,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let h,f=mE(),d=null;for(let p=0;p<u.length&&(h=u[p],f=s[h]||mE(),null===(d=l(f,t))&&(d=f[t]),!(EE(d)||pT(d)||NA(d)));p++)if(!yA(h,u)){const n=mA(e,t,h,0,"translate");n!==t&&(d=n)}return[d,h,f]}function FA(e,t,n,r,i,o){const{messageCompiler:s,warnHtmlMessage:a}=e;if(NA(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==s){const e=()=>r;return e.locale=n,e.key=t,e}const l=s(r,function(e,t,n,r,i,o){return{locale:t,key:n,warnHtmlMessage:i,onError:e=>{throw o&&o(e),e},onCacheKey:e=>((e,t,n)=>cE({l:e,k:t,s:n}))(t,n,e)}}(0,n,i,0,a,o));return l.locale=n,l.key=t,l.source=r,l}function UA(...e){const[t,n,r]=e,i=mE();if(!(EE(t)||uE(t)||NA(t)||pT(t)))throw jT(LT);const o=uE(t)?String(t):(NA(t),t);return uE(n)?i.plural=n:EE(n)?i.default=n:OE(n)&&!fE(n)?i.named=n:wE(n)&&(i.list=n),uE(r)?i.plural=r:EE(r)?i.default=r:OE(r)&&dE(i,r),[o,i]}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(vE().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(vE().__INTLIFY_DROP_MESSAGE_COMPILER__=!1);const BA=24,zA=25,VA=26,jA=27,HA=28,WA=29,GA=31,qA=32;function $A(e,...t){return XE(e,null,void 0)}const XA=lE("__translateVNode"),YA=lE("__datetimeParts"),KA=lE("__numberParts"),ZA=lE("__setPluralRules"),JA=lE("__injectWithOption"),QA=lE("__dispose");function eM(e){if(!AE(e))return e;if(pT(e))return e;for(const t in e)if(xE(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e,o=!1;for(let e=0;e<r;e++){if("__proto__"===n[e])throw new Error(`unsafe key: ${n[e]}`);if(n[e]in i||(i[n[e]]=mE()),!AE(i[n[e]])){o=!0;break}i=i[n[e]]}if(o||(pT(i)?AT.includes(n[r])||delete e[t]:(i[n[r]]=e[t],delete e[t])),!pT(i)){const e=i[n[r]];AE(e)&&eM(e)}}else AE(e[t])&&eM(e[t]);return e}function tM(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:o}=t,s=OE(n)?n:wE(r)?mE():{[e]:mE()};if(wE(r)&&r.forEach(e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(s[t]=s[t]||mE(),kE(n,s[t])):kE(n,s)}else EE(e)&&kE(JSON.parse(e),s)}),null==i&&o)for(const a in s)xE(s,a)&&eM(s[a]);return s}function nM(e){return e.type}function rM(e,t,n){let r=AE(t.messages)?t.messages:mE();"__i18nGlobal"in n&&(r=tM(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);if(i.length&&i.forEach(t=>{e.mergeLocaleMessage(t,r[t])}),AE(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])})}if(AE(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(n=>{e.mergeNumberFormat(n,t.numberFormats[n])})}}function iM(e){return ps(Zo,null,e,0)}function oM(){return Os()}const sM=()=>[],aM=()=>!1;let lM=0;function cM(e){return(t,n,r,i)=>e(n,r,oM()||void 0,i)}function uM(e={}){const{__root:t,__injectWithOption:n}=e,r=void 0===t,i=e.flatJson,o=aE?en:tn;let s=!TE(e.inheritLocale)||e.inheritLocale;const a=o(t&&s?t.locale.value:EE(e.locale)?e.locale:rA),l=o(t&&s?t.fallbackLocale.value:EE(e.fallbackLocale)||wE(e.fallbackLocale)||OE(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:a.value),c=o(tM(a.value,e)),u=o(OE(e.datetimeFormats)?e.datetimeFormats:{[a.value]:{}}),h=o(OE(e.numberFormats)?e.numberFormats:{[a.value]:{}});let f=t?t.missingWarn:!TE(e.missingWarn)&&!hE(e.missingWarn)||e.missingWarn,d=t?t.fallbackWarn:!TE(e.fallbackWarn)&&!hE(e.fallbackWarn)||e.fallbackWarn,p=t?t.fallbackRoot:!TE(e.fallbackRoot)||e.fallbackRoot,m=!!e.fallbackFormat,g=SE(e.missing)?e.missing:null,v=SE(e.missing)?cM(e.missing):null,y=SE(e.postTranslation)?e.postTranslation:null,_=t?t.warnHtmlMessage:!TE(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter;const x=t?t.modifiers:OE(e.modifiers)?e.modifiers:{};let w,S=e.pluralRules||t&&t.pluralRules;w=(()=>{r&&hA(null);const t={version:"11.2.8",locale:a.value,fallbackLocale:l.value,messages:c.value,modifiers:x,pluralRules:S,missing:null===v?void 0:v,missingWarn:f,fallbackWarn:d,fallbackFormat:m,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:_,escapeParameter:b,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=u.value,t.numberFormats=h.value,t.__datetimeFormatters=OE(w)?w.__datetimeFormatters:void 0,t.__numberFormatters=OE(w)?w.__numberFormatters:void 0;const n=dA(t);return r&&hA(n),n})(),gA(w,a.value,l.value);const E=Gs({get:()=>a.value,set:e=>{w.locale=e,a.value=e}}),T=Gs({get:()=>l.value,set:e=>{w.fallbackLocale=e,l.value=e,gA(w,a.value,e)}}),A=Gs(()=>c.value),M=Gs(()=>u.value),C=Gs(()=>h.value);const O=(e,n,i,o,s,f)=>{let d;a.value,l.value,c.value,u.value,h.value;try{__INTLIFY_PROD_DEVTOOLS__,r||(w.fallbackContext=t?uA:void 0),d=e(w)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(w.fallbackContext=void 0)}if("translate exists"!==i&&uE(d)&&-1===d||"translate exists"===i&&!d){const[e,r]=n();return t&&p?o(t):s(e)}if(f(d))return d;throw $A(BA)};function R(...e){return O(t=>Reflect.apply(DA,null,[t,...e]),()=>UA(...e),"translate",t=>Reflect.apply(t.t,t,[...e]),e=>e,e=>EE(e))}const I={normalize:function(e){return e.map(e=>EE(e)||uE(e)||TE(e)?iM(String(e)):e)},interpolate:e=>e,type:"vnode"};function k(e){return c.value[e]||{}}lM++,t&&aE&&(ar(t.locale,e=>{s&&(a.value=e,w.locale=e,gA(w,a.value,l.value))}),ar(t.fallbackLocale,e=>{s&&(l.value=e,w.fallbackLocale=e,gA(w,a.value,l.value))}));const P={id:lM,locale:E,fallbackLocale:T,get inheritLocale(){return s},set inheritLocale(e){s=e,e&&t&&(a.value=t.locale.value,l.value=t.fallbackLocale.value,gA(w,a.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:A,get modifiers(){return x},get pluralRules(){return S||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(e){f=e,w.missingWarn=f},get fallbackWarn(){return d},set fallbackWarn(e){d=e,w.fallbackWarn=d},get fallbackRoot(){return p},set fallbackRoot(e){p=e},get fallbackFormat(){return m},set fallbackFormat(e){m=e,w.fallbackFormat=m},get warnHtmlMessage(){return _},set warnHtmlMessage(e){_=e,w.warnHtmlMessage=e},get escapeParameter(){return b},set escapeParameter(e){b=e,w.escapeParameter=e},t:R,getLocaleMessage:k,setLocaleMessage:function(e,t){if(i){const n={[e]:t};for(const e in n)xE(n,e)&&eM(n[e]);t=n[e]}c.value[e]=t,w.messages=c.value},mergeLocaleMessage:function(e,t){c.value[e]=c.value[e]||{};const n={[e]:t};if(i)for(const r in n)xE(n,r)&&eM(n[r]);kE(t=n[e],c.value[e]),w.messages=c.value},getPostTranslationHandler:function(){return SE(y)?y:null},setPostTranslationHandler:function(e){y=e,w.postTranslation=e},getMissingHandler:function(){return g},setMissingHandler:function(e){null!==e&&(v=cM(e)),g=e,w.missing=v},[ZA]:function(e){S=e,w.pluralRules=S}};return P.datetimeFormats=M,P.numberFormats=C,P.rt=function(...e){const[t,n,r]=e;if(r&&!AE(r))throw $A(zA);return R(t,n,dE({resolvedMessage:!0},r||{}))},P.te=function(e,t){return O(()=>{if(!e)return!1;const n=k(EE(t)?t:a.value),r=w.messageResolver(n,e);return pT(r)||NA(r)||EE(r)},()=>[e],"translate exists",n=>Reflect.apply(n.te,n,[e,t]),aM,e=>TE(e))},P.tm=function(e){const n=function(e){let t=null;const n=$T(w,l.value,a.value);for(let r=0;r<n.length;r++){const i=c.value[n[r]]||{},o=w.messageResolver(i,e);if(null!=o){t=o;break}}return t}(e);return null!=n?n:t&&t.tm(e)||{}},P.d=function(...e){return O(t=>Reflect.apply(_A,null,[t,...e]),()=>xA(...e),"datetime format",t=>Reflect.apply(t.d,t,[...e]),()=>"",e=>EE(e)||wE(e))},P.n=function(...e){return O(t=>Reflect.apply(SA,null,[t,...e]),()=>TA(...e),"number format",t=>Reflect.apply(t.n,t,[...e]),()=>"",e=>EE(e)||wE(e))},P.getDateTimeFormat=function(e){return u.value[e]||{}},P.setDateTimeFormat=function(e,t){u.value[e]=t,w.datetimeFormats=u.value,wA(w,e,t)},P.mergeDateTimeFormat=function(e,t){u.value[e]=dE(u.value[e]||{},t),w.datetimeFormats=u.value,wA(w,e,t)},P.getNumberFormat=function(e){return h.value[e]||{}},P.setNumberFormat=function(e,t){h.value[e]=t,w.numberFormats=h.value,AA(w,e,t)},P.mergeNumberFormat=function(e,t){h.value[e]=dE(h.value[e]||{},t),w.numberFormats=h.value,AA(w,e,t)},P[JA]=n,P[XA]=function(...e){return O(t=>{let n;const r=t;try{r.processor=I,n=Reflect.apply(DA,null,[r,...e])}finally{r.processor=null}return n},()=>UA(...e),"translate",t=>t[XA](...e),e=>[iM(e)],e=>wE(e))},P[YA]=function(...e){return O(t=>Reflect.apply(_A,null,[t,...e]),()=>xA(...e),"datetime format",t=>t[YA](...e),sM,e=>EE(e)||wE(e))},P[KA]=function(...e){return O(t=>Reflect.apply(SA,null,[t,...e]),()=>TA(...e),"number format",t=>t[KA](...e),sM,e=>EE(e)||wE(e))},P}function hM(e={}){const t=uM(function(e){const t=EE(e.locale)?e.locale:rA,n=EE(e.fallbackLocale)||wE(e.fallbackLocale)||OE(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=SE(e.missing)?e.missing:void 0,i=!TE(e.silentTranslationWarn)&&!hE(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!TE(e.silentFallbackWarn)&&!hE(e.silentFallbackWarn)||!e.silentFallbackWarn,s=!TE(e.fallbackRoot)||e.fallbackRoot,a=!!e.formatFallbackMessages,l=OE(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=SE(e.postTranslation)?e.postTranslation:void 0,h=!EE(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,f=!!e.escapeParameterHtml,d=!TE(e.sync)||e.sync;let p=e.messages;if(OE(e.sharedMessages)){const t=e.sharedMessages;p=Object.keys(t).reduce((e,n)=>{const r=e[n]||(e[n]={});return dE(r,t[n]),e},p||{})}const{__i18n:m,__root:g,__injectWithOption:v}=e,y=e.datetimeFormats,_=e.numberFormats;return{locale:t,fallbackLocale:n,messages:p,flatJson:e.flatJson,datetimeFormats:y,numberFormats:_,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:s,fallbackFormat:a,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:e.messageResolver,inheritLocale:d,__i18n:m,__root:g,__injectWithOption:v}}(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return TE(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=TE(e)?!e:e},get silentFallbackWarn(){return TE(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=TE(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t:(...e)=>Reflect.apply(t.t,t,[...e]),rt:(...e)=>Reflect.apply(t.rt,t,[...e]),te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)}};return r.__extender=n,r}function fM(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ZA](t.pluralizationRules||e.pluralizationRules);const n=tM(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(t=>e.mergeLocaleMessage(t,n[t])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const dM={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function pM(){return Ko}const mM=Fr({name:"i18n-t",props:dE({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>uE(e)||!isNaN(e)}},dM),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||SM({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(e=>"_"!==e[0]),s=mE();e.locale&&(s.locale=e.locale),void 0!==e.plural&&(s.plural=EE(e.plural)?+e.plural:e.plural);const a=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce((e,t)=>[...e,...t.type===Ko?t.children:[t]],[]);return t.reduce((t,n)=>{const r=e[n];return r&&(t[n]=r()),t},mE())}(t,o),l=i[XA](e.keypath,a,s),c=dE(mE(),r);return qs(EE(e.tag)||AE(e.tag)?e.tag:pM(),c,l)}}});function gM(e,t,n,r){const{slots:i,attrs:o}=t;return()=>{const t={part:!0};let s=mE();e.locale&&(t.locale=e.locale),EE(e.format)?t.key=e.format:AE(e.format)&&(EE(e.format.key)&&(t.key=e.format.key),s=Object.keys(e.format).reduce((t,r)=>n.includes(r)?dE(mE(),t,{[r]:e.format[r]}):t,mE()));const a=r(e.value,t,s);let l=[t.key];wE(a)?l=a.map((e,t)=>{const n=i[e.type],r=n?n({[e.type]:e.value,index:t,parts:a}):[e.value];var o;return wE(o=r)&&!EE(o[0])&&(r[0].key=`${e.type}-${t}`),r}):EE(a)&&(l=[a]);const c=dE(mE(),o);return qs(EE(e.tag)||AE(e.tag)?e.tag:pM(),c,l)}}const vM=Fr({name:"i18n-n",props:dE({value:{type:Number,required:!0},format:{type:[String,Object]}},dM),setup(e,t){const n=e.i18n||SM({useScope:e.scope,__useComponent:!0});return gM(e,t,EA,(...e)=>n[KA](...e))}});function yM(e){if(EE(e))return{path:e};if(OE(e)){if(!("path"in e))throw $A(HA);return e}throw $A(WA)}function _M(e){const{path:t,locale:n,args:r,choice:i,plural:o}=e,s={},a=r||{};return EE(n)&&(s.locale=n),uE(i)&&(s.plural=i),uE(o)&&(s.plural=o),[t,a,s]}function bM(e,t,...n){const r=OE(n[0])?n[0]:{};(!TE(r.globalInstall)||r.globalInstall)&&([mM.name,"I18nT"].forEach(t=>e.component(t,mM)),[vM.name,"I18nN"].forEach(t=>e.component(t,vM)),[AM.name,"I18nD"].forEach(t=>e.component(t,AM))),e.directive("t",function(e){const t=t=>{const{instance:n,value:r}=t;if(!n||!n.$)throw $A(qA);const i=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}(e,n.$),o=yM(r);return[Reflect.apply(i.t,i,[..._M(o)]),i]};return{created:(n,r)=>{const[i,o]=t(r);aE&&e.global===o&&(n.__i18nWatcher=ar(o.locale,()=>{r.instance&&r.instance.$forceUpdate()})),n.__composer=o,n.textContent=i},unmounted:e=>{aE&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=yM(t);e.textContent=Reflect.apply(n.t,n,[..._M(r)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}(t))}const xM=lE("global-vue-i18n");function wM(e={}){const t=__VUE_I18N_LEGACY_API__&&TE(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=!TE(e.globalInjection)||e.globalInjection,r=new Map,[i,o]=function(e,t){const n=Oe(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>hM(e)):n.run(()=>uM(e));if(null==r)throw $A(qA);return[n,r]}(e,t),s=lE("");const a={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(e,...r){if(e.__VUE_I18N_SYMBOL__=s,e.provide(e.__VUE_I18N_SYMBOL__,a),OE(r[0])){const e=r[0];a.__composerExtend=e.__composerExtend,a.__vueI18nExtend=e.__vueI18nExtend}let i=null;!t&&n&&(i=function(e,t){const n=Object.create(null);EM.forEach(e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw $A(qA);const i=Qt(r.value)?{get:()=>r.value.value,set(e){r.value.value=e}}:{get:()=>r.get&&r.get()};Object.defineProperty(n,e,i)}),e.config.globalProperties.$i18n=n,TM.forEach(n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw $A(qA);Object.defineProperty(e.config.globalProperties,`$${n}`,r)});const r=()=>{delete e.config.globalProperties.$i18n,TM.forEach(t=>{delete e.config.globalProperties[`$${t}`]})};return r}(e,a.global)),__VUE_I18N_FULL_INSTALL__&&bM(e,a,...r),__VUE_I18N_LEGACY_API__&&t&&e.mixin(function(e,t,n){return{beforeCreate(){const r=oM();if(!r)throw $A(qA);const i=this.$options;if(i.i18n){const r=i.i18n;if(i.__i18n&&(r.__i18n=i.__i18n),r.__root=t,this===this.$root)this.$i18n=fM(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=hM(r);const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=fM(e,i);else{this.$i18n=hM({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&rM(t,i,i),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const e=oM();if(!e)throw $A(qA);const t=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),n.__deleteInstance(e),delete this.$i18n}}}(o,o.__composer,a));const l=e.unmount;e.unmount=()=>{i&&i(),a.dispose(),l()}},get global(){return o},dispose(){i.stop()},__instances:r,__getInstance:function(e){return r.get(e)||null},__setInstance:function(e,t){r.set(e,t)},__deleteInstance:function(e){r.delete(e)}};return a}function SM(e={}){const t=oM();if(null==t)throw $A(VA);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw $A(jA);const n=function(e){const t=er(e.isCE?xM:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw $A(e.isCE?GA:qA);return t}(t),r=function(e){return"composition"===e.mode?e.global:e.global.__composer}(n),i=nM(t),o=function(e,t){return fE(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,i);if("global"===o)return rM(r,e,i),r;if("parent"===o){let i=function(e,t,n=!1){let r=null;const i=t.root;let o=function(e,t=!1){if(null==e)return null;return t&&e.vnode.ctx||e.parent}(t,n);for(;null!=o;){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(r=e.__composer,n&&r&&!r[JA]&&(r=null))}if(null!=r)break;if(i===o)break;o=o.parent}return r}(n,t,e.__useComponent);return null==i&&(i=r),i}const s=n;let a=s.__getInstance(t);if(null==a){const n=dE({},e);"__i18n"in i&&(n.__i18n=i.__i18n),r&&(n.__root=r),a=uM(n),s.__composerExtend&&(a[QA]=s.__composerExtend(a)),function(e,t,n){di(()=>{},t),vi(()=>{const r=n;e.__deleteInstance(t);const i=r[QA];i&&(i(),delete r[QA])},t)}(s,t,a),s.__setInstance(t,a)}return a}const EM=["locale","fallbackLocale","availableLocales"],TM=["t","rt","d","n","tm","te"];const AM=Fr({name:"i18n-d",props:dE({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},dM),setup(e,t){const n=e.i18n||SM({useScope:e.scope,__useComponent:!0});return gM(e,t,bA,(...e)=>n[YA](...e))}});var MM,CM;if("boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(vE().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(vE().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(vE().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(vE().__INTLIFY_PROD_DEVTOOLS__=!1),oA=function(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&EE(e)){!TE(t.warnHtmlMessage)||t.warnHtmlMessage;const n=(t.onCacheKey||IT)(e),r=kT[n];if(r)return r;const{ast:i,detectError:o}=function(e,t={}){let n=!1;const r=t.onError||YE;return t.onError=e=>{n=!0,r(e)},{...dT(e,t),detectError:n}}(e,{...t,location:!1,jit:!0}),s=CT(i);return o?s:kT[n]=s}{const t=e.cacheKey;if(t){const n=kT[t];return n||(kT[t]=CT(e))}return CT(e)}},MM=function(e,t){if(!AE(e))return null;let n=tA.get(t);if(n||(n=function(e){const t=[];let n,r,i,o,s,a,l,c=-1,u=0,h=0;const f=[];function d(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,i="\\"+t,f[0](),!0}for(f[0]=()=>{void 0===r?r=i:r+=i},f[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},f[2]=()=>{f[0](),h++},f[3]=()=>{if(h>0)h--,u=4,f[0]();else{if(h=0,void 0===r)return!1;if(r=eA(r),!1===r)return!1;f[1]()}};null!==u;)if(c++,n=e[c],"\\"!==n||!d()){if(o=QT(n),l=ZT[u],s=l[o]||l.l||8,8===s)return;if(u=s[0],void 0!==s[1]&&(a=f[s[1]],a&&(i=n,!1===a())))return;if(7===u)return t}}(t),n&&tA.set(t,n)),!n)return null;const r=n.length;let i=e,o=0;for(;o<r;){const e=n[o];if(AT.includes(e)&&pT(i))return null;const t=i[e];if(void 0===t)return null;if(SE(i))return null;i=t,o++}return i},sA=MM,aA=$T,__INTLIFY_PROD_DEVTOOLS__){const e=vE();e.__INTLIFY__=!0,CM=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,PT=CM}const OM="undefined"!=typeof document;function RM(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const IM=Object.assign;function kM(e,t){const n={};for(const r in t){const i=t[r];n[r]=NM(i)?i.map(e):e(i)}return n}const PM=()=>{},NM=Array.isArray;function DM(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const LM=/#/g,FM=/&/g,UM=/\//g,BM=/=/g,zM=/\?/g,VM=/\+/g,jM=/%5B/g,HM=/%5D/g,WM=/%5E/g,GM=/%60/g,qM=/%7B/g,$M=/%7C/g,XM=/%7D/g,YM=/%20/g;function KM(e){return null==e?"":encodeURI(""+e).replace($M,"|").replace(jM,"[").replace(HM,"]")}function ZM(e){return KM(e).replace(VM,"%2B").replace(YM,"+").replace(LM,"%23").replace(FM,"%26").replace(GM,"`").replace(qM,"{").replace(XM,"}").replace(WM,"^")}function JM(e){return ZM(e).replace(BM,"%3D")}function QM(e){return function(e){return KM(e).replace(LM,"%23").replace(zM,"%3F")}(e).replace(UM,"%2F")}function eC(e){if(null==e)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const tC=/\/$/;function nC(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(r=t.slice(0,l),o=t.slice(l,a>0?a:t.length),i=e(o.slice(1))),a>=0&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");let o,s,a=n.length-1;for(o=0;o<r.length;o++)if(s=r[o],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(o).join("/")}(null!=r?r:t,n),{fullPath:r+o+s,path:r,query:i,hash:eC(s)}}function rC(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function iC(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function oC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!sC(e[n],t[n]))return!1;return!0}function sC(e,t){return NM(e)?aC(e,t):NM(t)?aC(t,e):e?.valueOf()===t?.valueOf()}function aC(e,t){return NM(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}const lC={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let cC=function(e){return e.pop="pop",e.push="push",e}({}),uC=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function hC(e){if(!e)if(OM){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(tC,"")}const fC=/^[^#]+#/;function dC(e,t){return e.replace(fC,"#")+t}const pC=()=>({left:window.scrollX,top:window.scrollY});function mC(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function gC(e,t){return(history.state?history.state.position-t:-1)+e}const vC=new Map;function yC(e){return"string"==typeof e||"symbol"==typeof e}let _C=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const bC=Symbol("");function xC(e,t){return IM(new Error,{type:e,[bC]:!0},t)}function wC(e,t){return e instanceof Error&&bC in e&&(null==t||!!(e.type&t))}_C.MATCHER_NOT_FOUND,_C.NAVIGATION_GUARD_REDIRECT,_C.NAVIGATION_ABORTED,_C.NAVIGATION_CANCELLED,_C.NAVIGATION_DUPLICATED;function SC(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(VM," "),i=e.indexOf("="),o=eC(i<0?e:e.slice(0,i)),s=i<0?null:eC(e.slice(i+1));if(o in t){let e=t[o];NM(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function EC(e){let t="";for(let n in e){const r=e[n];n=JM(n),null!=r?(NM(r)?r.map(e=>e&&ZM(e)):[r&&ZM(r)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}):void 0!==r&&(t+=(t.length?"&":"")+n)}return t}function TC(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=NM(r)?r.map(e=>null==e?null:""+e):null==r?r:""+r)}return t}const AC=Symbol(""),MC=Symbol(""),CC=Symbol(""),OC=Symbol(""),RC=Symbol("");function IC(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function kC(e,t,n,r,i,o=e=>e()){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=e=>{var o;!1===e?l(xC(_C.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?l(e):"string"==typeof(o=e)||o&&"object"==typeof o?l(xC(_C.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(s&&r.enterCallbacks[i]===s&&"function"==typeof e&&s.push(e),a())},u=o(()=>e.call(r&&r.instances[i],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(e=>l(e))})}function PC(e,t,n,r,i=e=>e()){const o=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if(RM(a)){const l=(a.__vccOpts||a)[t];l&&o.push(kC(l,n,r,s,e,i))}else{let l=a();o.push(()=>l.then(o=>{if(!o)throw new Error(`Couldn't resolve component "${e}" at "${s.path}"`);const a=(l=o).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&RM(l.default)?o.default:o;var l;s.mods[e]=o,s.components[e]=a;const c=(a.__vccOpts||a)[t];return c&&kC(c,n,r,s,e,i)()}))}}return o}function NC(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),rC(n,"")}return rC(n,e)+r+i}function DC(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?pC():null}}function LC(e){const{history:t,location:n}=window,r={value:NC(e,n)},i={value:t.state};function o(r,o,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:location.protocol+"//"+location.host+e+r;try{t[s?"replaceState":"pushState"](o,"",l),i.value=o}catch(c){n[s?"replace":"assign"](l)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(e,n){const s=IM({},i.value,t.state,{forward:e,scroll:pC()});o(s.current,s,!0),o(e,IM({},DC(r.value,e,null),{position:s.position+1},n),!1),r.value=e},replace:function(e,n){o(e,IM({},t.state,DC(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}}}function FC(e){const t=LC(e=hC(e)),n=function(e,t,n,r){let i=[],o=[],s=null;const a=({state:o})=>{const a=NC(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=a,t.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else r(a);i.forEach(e=>{e(n.value,l,{delta:u,type:cC.pop,direction:u?u>0?uC.forward:uC.back:uC.unknown})})};function l(){if("hidden"===document.visibilityState){const{history:e}=window;if(!e.state)return;e.replaceState(IM({},e.state,{scroll:pC()}),"")}}return window.addEventListener("popstate",a),window.addEventListener("pagehide",l),document.addEventListener("visibilitychange",l),{pauseListeners:function(){s=n.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",l),document.removeEventListener("visibilitychange",l)}}}(e,t.state,t.location,t.replace);const r=IM({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:dC.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}let UC=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var BC=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(BC||{});const zC={type:UC.Static,value:""},VC=/[a-zA-Z0-9_]/;const jC="[^/]+?",HC={sensitive:!1,strict:!1,start:!0,end:!0};var WC=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(WC||{});const GC=/[.+*?^${}()[\]/\\]/g;function qC(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&e[0]===WC.Static+WC.Segment?-1:1:e.length>t.length?1===t.length&&t[0]===WC.Static+WC.Segment?1:-1:0}function $C(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const e=qC(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(XC(r))return 1;if(XC(i))return-1}return i.length-r.length}function XC(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const YC={strict:!1,end:!0,sensitive:!1};function KC(e,t,n){const r=function(e,t){const n=IM({},HC,t),r=[];let i=n.start?"^":"";const o=[];for(const a of e){const e=a.length?[]:[WC.Root];n.strict&&!a.length&&(i+="/");for(let t=0;t<a.length;t++){const r=a[t];let s=WC.Segment+(n.sensitive?WC.BonusCaseSensitive:0);if(r.type===UC.Static)t||(i+="/"),i+=r.value.replace(GC,"\\$&"),s+=WC.Static;else if(r.type===UC.Param){const{value:e,repeatable:n,optional:l,regexp:c}=r;o.push({name:e,repeatable:n,optional:l});const u=c||jC;u!==jC&&(s+=WC.BonusCustomRegExp);let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;t||(h=l&&a.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),i+=h,s+=WC.Dynamic,l&&(s+=WC.BonusOptional),n&&(s+=WC.BonusRepeatable),".*"===u&&(s+=WC.BonusWildcard)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=WC.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");return{re:s,score:r,keys:o,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(e.type===UC.Static)n+=e.value;else if(e.type===UC.Param){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(NM(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=NM(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[zC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=BC.Static,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,l=0,c="",u="";function h(){c&&(n===BC.Static?o.push({type:UC.Static,value:c}):n===BC.Param||n===BC.ParamRegExp||n===BC.ParamRegExpEnd?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:UC.Param,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function f(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||n===BC.ParamRegExp)switch(n){case BC.Static:"/"===a?(c&&h(),s()):":"===a?(h(),n=BC.Param):f();break;case BC.EscapeNext:f(),n=r;break;case BC.Param:"("===a?n=BC.ParamRegExp:VC.test(a)?f():(h(),n=BC.Static,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case BC.ParamRegExp:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=BC.ParamRegExpEnd:u+=a;break;case BC.ParamRegExpEnd:h(),n=BC.Static,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state")}else r=n,n=BC.EscapeNext;return n===BC.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),h(),s(),i}(e.path),n),i=IM(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function ZC(e,t){const n=[],r=new Map;function i(e,n,r){const a=!r,l=QC(e);l.aliasOf=r&&r.record;const c=DM(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(QC(IM({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l})))}let h,f;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(h=KC(t,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),a&&e.name&&!tO(h)&&o(e.name)),rO(h)&&s(h),l.children){const e=l.children;for(let t=0;t<e.length;t++)i(e[t],h,r&&r.children[t])}r=r||h}return f?()=>{o(f)}:PM}function o(e){if(yC(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){const t=function(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;$C(e,t[i])<0?r=i:n=i+1}const i=function(e){let t=e;for(;t=t.parent;)if(rO(t)&&0===$C(e,t))return t}(e);i&&(r=t.lastIndexOf(i,r-1));return r}(e,n);n.splice(t,0,e),e.record.name&&!tO(e)&&r.set(e.record.name,e)}return t=DM(YC,t),e.forEach(e=>i(e)),{addRoute:i,resolve:function(e,t){let i,o,s,a={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw xC(_C.MATCHER_NOT_FOUND,{location:e});s=i.record.name,a=IM(JC(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&JC(e.params,i.keys.map(e=>e.name))),o=i.stringify(a)}else if(null!=e.path)o=e.path,i=n.find(e=>e.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw xC(_C.MATCHER_NOT_FOUND,{location:e,currentLocation:t});s=i.record.name,a=IM({},t.params,e.params),o=i.stringify(a)}const l=[];let c=i;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:l,meta:nO(l)}},removeRoute:o,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function JC(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function QC(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:eO(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function eO(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"==typeof n?n[r]:n;return t}function tO(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function nO(e){return e.reduce((e,t)=>IM(e,t.meta),{})}function rO({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function iO(e){const t=er(CC),n=er(OC),r=Gs(()=>{const n=on(e.to);return t.resolve(n)}),i=Gs(()=>{const{matched:e}=r.value,{length:t}=e,i=e[t-1],o=n.matched;if(!i||!o.length)return-1;const s=o.findIndex(iC.bind(null,i));if(s>-1)return s;const a=sO(e[t-2]);return t>1&&sO(i)===a&&o[o.length-1].path!==a?o.findIndex(iC.bind(null,e[t-2])):s}),o=Gs(()=>i.value>-1&&function(e,t){for(const n in t){const r=t[n],i=e[n];if("string"==typeof r){if(r!==i)return!1}else if(!NM(i)||i.length!==r.length||r.some((e,t)=>e.valueOf()!==i[t].valueOf()))return!1}return!0}(n.params,r.value.params)),s=Gs(()=>i.value>-1&&i.value===n.matched.length-1&&oC(n.params,r.value.params));return{route:r,href:Gs(()=>r.value.href),isActive:o,isExactActive:s,navigate:function(n={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)){const n=t[on(e.replace)?"replace":"push"](on(e.to)).catch(PM);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const oO=Fr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:iO,setup(e,{slots:t}){const n=zt(iO(e)),{options:r}=er(CC),i=Gs(()=>({[aO(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[aO(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&(1===(o=t.default(n)).length?o[0]:o);var o;return e.custom?r:qs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function sO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const aO=(e,t,n)=>null!=e?e:null!=t?t:n;function lO(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const cO=Fr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=er(RC),i=Gs(()=>e.route||r.value),o=er(MC,0),s=Gs(()=>{let e=on(o);const{matched:t}=i.value;let n;for(;(n=t[e])&&!n.components;)e++;return e}),a=Gs(()=>i.value.matched[s.value]);Qn(MC,Gs(()=>s.value+1)),Qn(AC,a),Qn(RC,i);const l=en();return ar(()=>[l.value,a.value,e.name],([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&iC(t,i)&&r||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const r=i.value,o=e.name,s=a.value,c=s&&s.components[o];if(!c)return lO(n.default,{Component:c,route:r});const u=s.props[o],h=u?!0===u?r.params:"function"==typeof u?u(r):u:null,f=qs(c,IM({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(s.instances[o]=null)},ref:l}));return lO(n.default,{Component:f,route:r})||f}}});function uO(e){const t=ZC(e.routes,e),n=e.parseQuery||SC,r=e.stringifyQuery||EC,i=e.history,o=IC(),s=IC(),a=IC(),l=tn(lC);let c=lC;OM&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=kM.bind(null,e=>""+e),h=kM.bind(null,QM),f=kM.bind(null,eC);function d(e,o){if(o=IM({},o||l.value),"string"==typeof e){const r=nC(n,e,o.path),s=t.resolve({path:r.path},o),a=i.createHref(r.fullPath);return IM(r,s,{params:f(s.params),hash:eC(r.hash),redirectedFrom:void 0,href:a})}let s;if(null!=e.path)s=IM({},e,{path:nC(n,e.path,o.path).path});else{const t=IM({},e.params);for(const e in t)null==t[e]&&delete t[e];s=IM({},e,{params:h(t)}),o.params=h(o.params)}const a=t.resolve(s,o),c=e.hash||"";a.params=u(f(a.params));const d=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,IM({},e,{hash:(p=c,KM(p).replace(qM,"{").replace(XM,"}").replace(WM,"^")),path:a.path}));var p;const m=i.createHref(d);return IM({fullPath:d,hash:c,query:r===EC?TC(e.query):e.query||{}},a,{redirectedFrom:void 0,href:m})}function p(e){return"string"==typeof e?nC(n,e,l.value.path):IM({},e)}function m(e,t){if(c!==e)return xC(_C.NAVIGATION_CANCELLED,{from:t,to:e})}function g(e){return y(e)}function v(e,t){const n=e.matched[e.matched.length-1];if(n&&n.redirect){const{redirect:r}=n;let i="function"==typeof r?r(e,t):r;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=p(i):{path:i},i.params={}),IM({query:e.query,hash:e.hash,params:null!=i.path?{}:e.params},i)}}function y(e,t){const n=c=d(e),i=l.value,o=e.state,s=e.force,a=!0===e.replace,u=v(n,i);if(u)return y(IM(p(u),{state:"object"==typeof u?IM({},o,u.state):o,force:s,replace:a}),t||n);const h=n;let f;return h.redirectedFrom=t,!s&&function(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&iC(t.matched[r],n.matched[i])&&oC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,i,n)&&(f=xC(_C.NAVIGATION_DUPLICATED,{to:h,from:i}),I(i,i,!0,!1)),(f?Promise.resolve(f):x(h,i)).catch(e=>wC(e)?wC(e,_C.NAVIGATION_GUARD_REDIRECT)?e:R(e):O(e,h,i)).then(e=>{if(e){if(wC(e,_C.NAVIGATION_GUARD_REDIRECT))return y(IM({replace:a},p(e.to),{state:"object"==typeof e.to?IM({},o,e.to.state):o,force:s}),t||h)}else e=S(h,i,!0,a,o);return w(h,i,e),e})}function _(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function b(e){const t=N.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function x(e,t){let n;const[r,i,a]=function(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find(e=>iC(e,o))?r.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find(e=>iC(e,a))||i.push(a))}return[n,r,i]}(e,t);n=PC(r.reverse(),"beforeRouteLeave",e,t);for(const o of r)o.leaveGuards.forEach(r=>{n.push(kC(r,e,t))});const l=_.bind(null,e,t);return n.push(l),L(n).then(()=>{n=[];for(const r of o.list())n.push(kC(r,e,t));return n.push(l),L(n)}).then(()=>{n=PC(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach(r=>{n.push(kC(r,e,t))});return n.push(l),L(n)}).then(()=>{n=[];for(const r of a)if(r.beforeEnter)if(NM(r.beforeEnter))for(const i of r.beforeEnter)n.push(kC(i,e,t));else n.push(kC(r.beforeEnter,e,t));return n.push(l),L(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=PC(a,"beforeRouteEnter",e,t,b),n.push(l),L(n))).then(()=>{n=[];for(const r of s.list())n.push(kC(r,e,t));return n.push(l),L(n)}).catch(e=>wC(e,_C.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function w(e,t,n){a.list().forEach(r=>b(()=>r(e,t,n)))}function S(e,t,n,r,o){const s=m(e,t);if(s)return s;const a=t===lC,c=OM?history.state:{};n&&(r||a?i.replace(e.fullPath,IM({scroll:a&&c&&c.scroll},o)):i.push(e.fullPath,o)),l.value=e,I(e,t,n,a),R()}let E;function T(){E||(E=i.listen((e,t,n)=>{if(!D.listening)return;const r=d(e),o=v(r,D.currentRoute.value);if(o)return void y(IM(o,{replace:!0,force:!0}),r).catch(PM);c=r;const s=l.value;var a,u;OM&&(a=gC(s.fullPath,n.delta),u=pC(),vC.set(a,u)),x(r,s).catch(e=>wC(e,_C.NAVIGATION_ABORTED|_C.NAVIGATION_CANCELLED)?e:wC(e,_C.NAVIGATION_GUARD_REDIRECT)?(y(IM(p(e.to),{force:!0}),r).then(e=>{wC(e,_C.NAVIGATION_ABORTED|_C.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===cC.pop&&i.go(-1,!1)}).catch(PM),Promise.reject()):(n.delta&&i.go(-n.delta,!1),O(e,r,s))).then(e=>{(e=e||S(r,s,!1))&&(n.delta&&!wC(e,_C.NAVIGATION_CANCELLED)?i.go(-n.delta,!1):n.type===cC.pop&&wC(e,_C.NAVIGATION_ABORTED|_C.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),w(r,s,e)}).catch(PM)}))}let A,M=IC(),C=IC();function O(e,t,n){R(e);const r=C.list();return r.length&&r.forEach(r=>r(e,t,n)),Promise.reject(e)}function R(e){return A||(A=!e,T(),M.list().forEach(([t,n])=>e?n(e):t()),M.reset()),e}function I(t,n,r,i){const{scrollBehavior:o}=e;if(!OM||!o)return Promise.resolve();const s=!r&&function(e){const t=vC.get(e);return vC.delete(e),t}(gC(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Dn().then(()=>o(t,n,s)).then(e=>e&&mC(e)).catch(e=>O(e,t,n))}const k=e=>i.go(e);let P;const N=new Set,D={currentRoute:l,listening:!0,addRoute:function(e,n){let r,i;return yC(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:d,options:e,push:g,replace:function(e){return g(IM(p(e),{replace:!0}))},go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:C.add,isReady:function(){return A&&l.value!==lC?Promise.resolve():new Promise((e,t)=>{M.add([e,t])})},install(e){e.component("RouterLink",oO),e.component("RouterView",cO),e.config.globalProperties.$router=D,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>on(l)}),OM&&!P&&l.value===lC&&(P=!0,g(i.location).catch(e=>{}));const t={};for(const r in lC)Object.defineProperty(t,r,{get:()=>l.value[r],enumerable:!0});e.provide(CC,D),e.provide(OC,Vt(t)),e.provide(RC,l);const n=e.unmount;N.add(e),e.unmount=function(){N.delete(e),N.size<1&&(c=lC,E&&E(),E=null,l.value=lC,P=!1,A=!1),n()}}};function L(e){return e.reduce((e,t)=>e.then(()=>b(t)),Promise.resolve())}return D}function hO(){return er(CC)}function fO(e){return er(OC)}function dO(e,t){return!!Re()&&(Ie(e,t),!0)}const pO="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const mO=e=>null!=e,gO=Object.prototype.toString,vO=()=>{};function yO(e,t){return function(...n){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(i)})}}const _O=e=>e();function bO(e=_O,t={}){const{initialState:n="active"}=t,r=function(...e){if(1!==e.length)return pn(...e);const t=e[0];return"function"==typeof t?jt(un(()=>({get:t,set:vO}))):en(t)}("active"===n);return{isActive:jt(r),pause:function(){r.value=!1},resume:function(){r.value=!0},eventFilter:(...t)=>{r.value&&e(...t)}}}function xO(e){return Array.isArray(e)?e:[e]}function wO(e){return zt(Qt(t=Gs(e))?new Proxy({},{get:(e,n,r)=>on(Reflect.get(t.value,n,r)),set:(e,n,r)=>(Qt(t.value[n])&&!Qt(r)?t.value[n].value=r:t.value[n]=r,!0),deleteProperty:(e,n)=>Reflect.deleteProperty(t.value,n),has:(e,n)=>Reflect.has(t.value,n),ownKeys:()=>Object.keys(t.value),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})}):t);var t}function SO(e,...t){const n=t.flat(),r=n[0];return wO(()=>"function"==typeof r?Object.fromEntries(Object.entries(hn(e)).filter(([e,t])=>!r(sn(t),e))):Object.fromEntries(Object.entries(hn(e)).filter(e=>!n.includes(e[0]))))}function EO(e,t=200,n={}){return yO(function(e,t={}){let n,r,i=vO;const o=e=>{clearTimeout(e),i(),i=vO};let s;return a=>{const l=sn(e),c=sn(t.maxWait);return n&&o(n),l<=0||void 0!==c&&c<=0?(r&&(o(r),r=void 0),Promise.resolve(a())):new Promise((e,u)=>{i=t.rejectOnCancel?u:e,s=a,c&&!r&&(r=setTimeout(()=>{n&&o(n),r=void 0,e(s())},c)),n=setTimeout(()=>{r&&o(r),r=void 0,e(a())},l)})}}(t,n),e)}function TO(e,t=200,n={}){const r=en(sn(e)),i=EO(()=>{r.value=e.value},t,n);return ar(e,()=>i()),Ht(r)}function AO(e,t=200,n=!1,r=!0,i=!1){return yO(function(...e){let t,n,r,i,o,s,a=0,l=!0,c=vO;Qt(e[0])||"object"!=typeof e[0]?[r,i=!0,o=!0,s=!1]=e:({delay:r,trailing:i=!0,leading:o=!0,rejectOnCancel:s=!1}=e[0]);const u=()=>{t&&(clearTimeout(t),t=void 0,c(),c=vO)};return e=>{const h=sn(r),f=Date.now()-a,d=()=>n=e();return u(),h<=0?(a=Date.now(),d()):(f>h?(a=Date.now(),!o&&l||d()):i&&(n=new Promise((e,n)=>{c=s?n:e,t=setTimeout(()=>{a=Date.now(),l=!0,e(d()),u()},Math.max(0,h-f))})),o||t||(t=setTimeout(()=>l=!0,h)),l=!1,n)}}(t,n,r,i),e)}function MO(e,t,n={}){const{eventFilter:r=_O,...i}=n;return ar(e,yO(r,t),i)}const CO=function(e,t,n={}){const{eventFilter:r,initialState:i="active",...o}=n,{eventFilter:s,pause:a,resume:l,isActive:c}=bO(r,{initialState:i});return{stop:MO(e,t,{...o,eventFilter:s}),pause:a,resume:l,isActive:c}};function OO(e,t=!0,n){Os()?di(e,n):t?e():Dn(e)}function RO(e,t,n){const r=ar(e,(e,i,o)=>{e&&((null==n?void 0:n.once)&&Dn(()=>r()),t(e,i,o))},{...n,once:!1});return r}const IO=pO?window:void 0,kO=pO?window.document:void 0,PO=pO?window.navigator:void 0;function NO(e){var t;const n=sn(e);return null!==(t=null==n?void 0:n.$el)&&void 0!==t?t:n}function DO(...e){const t=Gs(()=>{const t=xO(sn(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0});return n=([e,t,n,r],i,o)=>{if(!(null==e?void 0:e.length)||!(null==t?void 0:t.length)||!(null==n?void 0:n.length))return;const s=(a=r,"[object Object]"===gO.call(a)?{...r}:r);var a;const l=e.flatMap(e=>t.flatMap(t=>n.map(n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,s))));o(()=>{l.forEach(e=>e())})},r={flush:"post"},ar(()=>{var n,r;return[null!==(n=null===(r=t.value)||void 0===r?void 0:r.map(e=>NO(e)))&&void 0!==n?n:[IO].filter(e=>null!=e),xO(sn(t.value?e[1]:e[0])),xO(on(t.value?e[2]:e[1])),sn(t.value?e[3]:e[2])]},n,{...r,immediate:!0});var n,r}function LO(e,t,n={}){const{window:r=IO,ignore:i=[],capture:o=!0,detectIframe:s=!1,controls:a=!1}=n;if(!r)return a?{stop:vO,cancel:vO,trigger:vO}:vO;let l=!0;const c=e=>sn(i).some(t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{const n=NO(t);return n&&(e.target===n||e.composedPath().includes(n))}});const u=n=>{const r=NO(e);null!=n.target&&(r instanceof Element||!function(e){const t=sn(e);return t&&16===t.$.subTree.shapeFlag}(e)||!function(e,t){const n=sn(e),r=n.$.subTree&&n.$.subTree.children;return!(null==r||!Array.isArray(r))&&r.some(e=>e.el===t.target||t.composedPath().includes(e.el))}(e,n))&&r&&r!==n.target&&!n.composedPath().includes(r)&&("detail"in n&&0===n.detail&&(l=!c(n)),l?t(n):l=!0)};let h=!1;const f=[DO(r,"click",e=>{h||(h=!0,setTimeout(()=>{h=!1},0),u(e))},{passive:!0,capture:o}),DO(r,"pointerdown",t=>{const n=NO(e);l=!c(t)&&!(!n||t.composedPath().includes(n))},{passive:!0}),s&&DO(r,"blur",n=>{setTimeout(()=>{var i;const o=NO(e);"IFRAME"!==(null===(i=r.document.activeElement)||void 0===i?void 0:i.tagName)||(null==o?void 0:o.contains(r.document.activeElement))||t(n)},0)},{passive:!0})].filter(Boolean),d=()=>f.forEach(e=>e());return a?{stop:d,cancel:()=>{l=!1},trigger:e=>{l=!0,u(e),l=!1}}:d}function FO(){const e=tn(!1),t=Os();return t&&di(()=>{e.value=!0},t),e}function UO(e){const t=FO();return Gs(()=>(t.value,Boolean(e())))}function BO(e,t={}){const{controls:n=!1,navigator:r=PO}=t,i=UO(()=>r&&"permissions"in r),o=tn(),s="string"==typeof e?{name:e}:e,a=tn(),l=()=>{var e,t;a.value=null!==(e=null===(t=o.value)||void 0===t?void 0:t.state)&&void 0!==e?e:"prompt"};DO(o,"change",l,{passive:!0});const c=function(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const e=t;t=void 0,e&&await e},n}(async()=>{if(i.value){if(!o.value)try{o.value=await r.permissions.query(s)}catch(e){o.value=void 0}finally{l()}return n?Yt(o.value):void 0}});return c(),n?{state:a,isSupported:i,query:c}:a}function zO(e={}){const{navigator:t=PO,read:n=!1,source:r,copiedDuring:i=1500,legacy:o=!1}=e,s=UO(()=>t&&"clipboard"in t),a=BO("clipboard-read"),l=BO("clipboard-write"),c=Gs(()=>s.value||o),u=tn(""),h=tn(!1),f=function(e,t,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n,o=tn(!1);let s;function a(){s&&(clearTimeout(s),s=void 0)}function l(){o.value=!1,a()}function c(...n){i&&e(),a(),o.value=!0,s=setTimeout(()=>{o.value=!1,s=void 0,e(...n)},sn(t))}return r&&(o.value=!0,pO&&c()),dO(l),{isPending:Ht(o),start:c,stop:l}}(()=>h.value=!1,i,{immediate:!1});function d(e){return"granted"===e||"prompt"===e}return c.value&&n&&DO(["copy","cut"],async function(){let e=!(s.value&&d(a.value));if(!e)try{u.value=await t.clipboard.readText()}catch(o){e=!0}var n,r,i;e&&(u.value=null!==(n=null===(r=document)||void 0===r||null===(i=r.getSelection)||void 0===i||null===(i=i.call(r))||void 0===i?void 0:i.toString())&&void 0!==n?n:"")},{passive:!0}),{isSupported:c,text:jt(u),copied:jt(h),copy:async function(e=sn(r)){if(c.value&&null!=e){let r=!(s.value&&d(l.value));if(!r)try{await t.clipboard.writeText(e)}catch(n){r=!0}r&&function(e){const t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.opacity="0",t.setAttribute("readonly",""),document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}(e),u.value=e,h.value=!0,f.start()}}}}const VO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},jO="__vueuse_ssr_handlers__",HO=WO();function WO(){return jO in VO||(VO[jO]=VO[jO]||{}),VO[jO]}const GO={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},qO="vueuse-storage";function $O(e,t,n,r={}){var i;const{flush:o="pre",deep:s=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:h=IO,eventFilter:f,onError:d=e=>{},initOnMounted:p}=r,m=(u?tn:en)("function"==typeof t?t():t),g=Gs(()=>sn(e));if(!n)try{n=function(e,t){return HO[e]||t}("getDefaultStorage",()=>null==IO?void 0:IO.localStorage)()}catch(vme){d(vme)}if(!n)return m;const v=sn(t),y=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(v),_=null!==(i=r.serializer)&&void 0!==i?i:GO[y],{pause:b,resume:x}=CO(m,e=>function(e){try{const t=n.getItem(g.value);if(null==e)S(t,null),n.removeItem(g.value);else{const r=_.write(e);t!==r&&(n.setItem(g.value,r),S(t,r))}}catch(vme){d(vme)}}(e),{flush:o,deep:s,eventFilter:f});ar(g,()=>E(),{flush:o});let w=!1;function S(e,t){if(h){const r={key:g.value,oldValue:e,newValue:t,storageArea:n};h.dispatchEvent(n instanceof Storage?new StorageEvent("storage",r):new CustomEvent(qO,{detail:r}))}}function E(e){if(!e||e.storageArea===n)if(e&&null==e.key)m.value=v;else if(!e||e.key===g.value){b();try{const t=_.write(m.value);void 0!==e&&(null==e?void 0:e.newValue)===t||(m.value=function(e){const t=e?e.newValue:n.getItem(g.value);if(null==t)return l&&null!=v&&n.setItem(g.value,_.write(v)),v;if(!e&&c){const e=_.read(t);return"function"==typeof c?c(e,v):"object"!==y||Array.isArray(e)?e:{...v,...e}}return"string"!=typeof t?t:_.read(t)}(e))}catch(vme){d(vme)}finally{e?Dn(x):x()}}}return h&&a&&(n instanceof Storage?DO(h,"storage",e=>{p&&!w||E(e)},{passive:!0}):DO(h,qO,e=>{p&&!w||E(e.detail)})),p?OO(()=>{w=!0,E()}):E(),m}function XO(e){const t=Os(),n=function(e,t,n={}){let r,i,o,s=!0;const a=()=>{s=!0,o()};ar(e,a,{flush:"sync",...n});const l="function"==typeof t?t:t.get,c="function"==typeof t?void 0:t.set,u=un((e,t)=>(i=e,o=t,{get:()=>(s&&(r=l(r),s=!1),i(),r),set(e){null==c||c(e)}}));return u.trigger=a,u}(()=>null,()=>e?NO(e):t.proxy.$el);return mi(n.trigger),di(n.trigger),n}function YO(e,t={width:0,height:0},n={}){const{window:r=IO,box:i="content-box"}=n,o=Gs(()=>{var t;return null===(t=NO(e))||void 0===t||null===(t=t.namespaceURI)||void 0===t?void 0:t.includes("svg")}),s=tn(t.width),a=tn(t.height),{stop:l}=function(e,t,n={}){const{window:r=IO,...i}=n;let o;const s=UO(()=>r&&"ResizeObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=ar(Gs(()=>{const t=sn(e);return Array.isArray(t)?t.map(e=>NO(e)):[NO(t)]}),e=>{if(a(),s.value&&r){o=new ResizeObserver(t);for(const t of e)t&&o.observe(t,i)}},{immediate:!0,flush:"post"}),c=()=>{a(),l()};return dO(c),{isSupported:s,stop:c}}(e,([t])=>{const n="border-box"===i?t.borderBoxSize:"content-box"===i?t.contentBoxSize:t.devicePixelContentBoxSize;if(r&&o.value){const t=NO(e);if(t){const e=t.getBoundingClientRect();s.value=e.width,a.value=e.height}}else if(n){const e=xO(n);s.value=e.reduce((e,{inlineSize:t})=>e+t,0),a.value=e.reduce((e,{blockSize:t})=>e+t,0)}else s.value=t.contentRect.width,a.value=t.contentRect.height},n);OO(()=>{const n=NO(e);n&&(s.value="offsetWidth"in n?n.offsetWidth:t.width,a.value="offsetHeight"in n?n.offsetHeight:t.height)});const c=ar(()=>NO(e),e=>{s.value=e?t.width:0,a.value=e?t.height:0});return{width:s,height:a,stop:function(){l(),c()}}}const KO=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function ZO(e,t={}){const{document:n=kO,autoExit:r=!1}=t,i=Gs(()=>{var t;return null!==(t=NO(e))&&void 0!==t?t:null==n?void 0:n.documentElement}),o=tn(!1),s=Gs(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(e=>n&&e in n||i.value&&e in i.value)),a=Gs(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(e=>n&&e in n||i.value&&e in i.value)),l=Gs(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(e=>n&&e in n||i.value&&e in i.value)),c=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(e=>n&&e in n),u=UO(()=>i.value&&n&&void 0!==s.value&&void 0!==a.value&&void 0!==l.value),h=()=>{if(l.value){if(n&&null!=n[l.value])return n[l.value];{const e=i.value;if(null!=(null==e?void 0:e[l.value]))return Boolean(e[l.value])}}return!1};async function f(){if(u.value&&o.value){if(a.value)if(null!=(null==n?void 0:n[a.value]))await n[a.value]();else{const e=i.value;null!=(null==e?void 0:e[a.value])&&await e[a.value]()}o.value=!1}}async function d(){if(!u.value||o.value)return;h()&&await f();const e=i.value;s.value&&null!=(null==e?void 0:e[s.value])&&(await e[s.value](),o.value=!0)}const p=()=>{const e=h();(!e||e&&c&&(null==n?void 0:n[c])===i.value)&&(o.value=e)},m={capture:!1,passive:!0};return DO(n,KO,p,m),DO(()=>NO(i),KO,p,m),OO(p,!1),r&&dO(f),{isSupported:u,isFullscreen:o,enter:d,exit:f,toggle:async function(){await(o.value?f():d())}}}function JO(e,t={}){const{throttle:n=0,idle:r=200,onStop:i=vO,onScroll:o=vO,offset:s={left:0,right:0,top:0,bottom:0},observe:a={mutation:!1},eventListenerOptions:l={capture:!1,passive:!0},behavior:c="auto",window:u=IO,onError:h=e=>{}}=t,f="boolean"==typeof a?{mutation:a}:a,d=tn(0),p=tn(0),m=Gs({get:()=>d.value,set(e){v(e,void 0)}}),g=Gs({get:()=>p.value,set(e){v(void 0,e)}});function v(t,n){var r,i,o,s;if(!u)return;const a=sn(e);if(!a)return;null===(r=a instanceof Document?u.document.body:a)||void 0===r||r.scrollTo({top:null!==(i=sn(n))&&void 0!==i?i:g.value,left:null!==(o=sn(t))&&void 0!==o?o:m.value,behavior:sn(c)});const l=(null==a||null===(s=a.document)||void 0===s?void 0:s.documentElement)||(null==a?void 0:a.documentElement)||a;null!=m&&(d.value=l.scrollLeft),null!=g&&(p.value=l.scrollTop)}const y=tn(!1),_=zt({left:!0,right:!1,top:!0,bottom:!1}),b=zt({left:!1,right:!1,top:!1,bottom:!1}),x=e=>{y.value&&(y.value=!1,b.left=!1,b.right=!1,b.top=!1,b.bottom=!1,i(e))},w=EO(x,n+r),S=e=>{var t;if(!u)return;const n=(null==e||null===(t=e.document)||void 0===t?void 0:t.documentElement)||(null==e?void 0:e.documentElement)||NO(e),{display:r,flexDirection:i,direction:o}=u.getComputedStyle(n),a="rtl"===o?-1:1,l=n.scrollLeft;b.left=l<d.value,b.right=l>d.value;const c=Math.abs(l*a)<=(s.left||0),h=Math.abs(l*a)+n.clientWidth>=n.scrollWidth-(s.right||0)-1;"flex"===r&&"row-reverse"===i?(_.left=h,_.right=c):(_.left=c,_.right=h),d.value=l;let f=n.scrollTop;e!==u.document||f||(f=u.document.body.scrollTop),b.top=f<p.value,b.bottom=f>p.value;const m=Math.abs(f)<=(s.top||0),g=Math.abs(f)+n.clientHeight>=n.scrollHeight-(s.bottom||0)-1;"flex"===r&&"column-reverse"===i?(_.top=g,_.bottom=m):(_.top=m,_.bottom=g),p.value=f},E=e=>{var t;u&&(S(null!==(t=e.target.documentElement)&&void 0!==t?t:e.target),y.value=!0,w(e),o(e))};return DO(e,"scroll",n?AO(E,n,!0,!1):E,l),OO(()=>{try{const t=sn(e);if(!t)return;S(t)}catch(vme){h(vme)}}),(null==f?void 0:f.mutation)&&null!=e&&e!==u&&e!==document&&function(e,t,n={}){const{window:r=IO,...i}=n;let o;const s=UO(()=>r&&"MutationObserver"in r),a=()=>{o&&(o.disconnect(),o=void 0)},l=ar(Gs(()=>{const t=xO(sn(e)).map(NO).filter(mO);return new Set(t)}),e=>{a(),s.value&&e.size&&(o=new MutationObserver(t),e.forEach(e=>o.observe(e,i)))},{immediate:!0,flush:"post"}),c=()=>{l(),a()};dO(c)}(e,()=>{const t=sn(e);t&&S(t)},{attributes:!0,childList:!0,subtree:!0}),DO(e,"scrollend",x,l),{x:m,y:g,isScrolling:y,arrivedState:_,directions:b,measure(){const t=sn(e);u&&t&&S(t)}}}function QO(e,t,n={}){const{window:r=IO}=n;return $O(e,t,null==r?void 0:r.localStorage,n)}const eR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tR=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},nR=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),rR=e=>""===e;var iR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const oR=({name:e,iconNode:t,absoluteStrokeWidth:n,"absolute-stroke-width":r,strokeWidth:i,"stroke-width":o,size:s=iR.width,color:a=iR.stroke,...l},{slots:c})=>qs("svg",{...iR,...l,width:s,height:s,stroke:a,"stroke-width":rR(n)||rR(r)||!0===n||!0===r?24*Number(i||o||iR["stroke-width"])/Number(s):i||o||iR["stroke-width"],class:nR("lucide",l.class,...e?[`lucide-${eR(tR(e))}-icon`,`lucide-${eR(e)}`]:["lucide-icon"])},[...t.map(e=>qs(...e)),...c.default?[c.default()]:[]]),sR=(e,t)=>(n,{slots:r,attrs:i})=>qs(oR,{...i,...n,iconNode:t,name:e},r),aR=sR("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lR=sR("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),cR=sR("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),uR=sR("grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),hR=sR("list-music",[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),fR=sR("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),dR=sR("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),pR=sR("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),mR=sR("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),gR=sR("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var vR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function yR(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function _R(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch{}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}function bR(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xR,wR={exports:{}};var SR=(xR||(xR=1,wR.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(!a&&bR)return bR(s);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o=bR,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}function h(e){1!==c.push(e)||r||n()}t.exports=h}).call(this,void 0!==vR?vR:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r(function(){var r;try{r=t(n)}catch(vme){return o.reject(e,vme)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}function s(){t(i,r)}var a=p(s);"error"===a.status&&r(a.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(vme){n.status="error",n.value=vme}return n}function m(e){return e instanceof this?e:o.resolve(new this(i),e)}function g(e){var t=new this(i);return o.reject(t,e)}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){function l(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(c,s))}t.resolve(e).then(l,function(e){r||(r=!0,o.reject(c,e))})}}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=-1,a=new this(i);++s<n;)l(e[s]);return a;function l(e){t.resolve(e).then(function(e){r||(r=!0,o.resolve(a,e))},function(e){r||(r=!0,o.reject(a,e))})}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=m,c.reject=g,c.all=v,c.race=y},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==vR?vR:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(vme){return}}var s=o();function a(){try{if(!s||!s.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(vme){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(vme){if("TypeError"!==vme.name)throw vme;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function h(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function f(e){return"string"!=typeof e&&(e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",m=void 0,g={},v=Object.prototype.toString,y="readonly",_="readwrite";function b(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function x(e){return new c(function(t){var n=e.transaction(p,_),r=l([""]);n.objectStore(p).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function w(e){return"boolean"==typeof m?c.resolve(m):x(e).then(function(e){return m=e})}function S(e){var t=g[e.name],n={};n.promise=new c(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function E(e){var t=g[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function T(e,t){var n=g[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function A(e,t){return new c(function(n,r){if(g[e.name]=g[e.name]||L(),e.db){if(!t)return n(e.db);S(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=s.open.apply(s,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(p)}catch(r){if("ConstraintError"!==r.name)throw r}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),E(e)}})}function M(e){return A(e,!1)}function C(e){return A(e,!0)}function O(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function R(e){return new c(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function I(e){return l([b(atob(e.data))],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function P(e){var t=this,n=t._initReady().then(function(){var e=g[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return h(n,e,e),n}function N(e){S(e);for(var t=g[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,M(e).then(function(t){return e.db=t,O(e)?C(e):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw T(e,t),t})}function D(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return c.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),C(e)}).then(function(){return N(e).then(function(){D(e,t,n,r-1)})}).catch(n);n(o)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=g[n.name];i||(i=L(),g[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=P);var o=[];function s(){return c.resolve()}for(var a=0;a<i.forages.length;a++){var l=i.forages[a];l!==t&&o.push(l._initReady().catch(s))}var u=i.forages.slice(0);return c.all(o).then(function(){return n.db=i.db,M(n)}).then(function(e){return n.db=e,O(n,t._defaultConfig.version)?C(n):e}).then(function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})}function U(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){D(n._dbInfo,y,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),k(e)&&(e=I(e)),t(e)},s.onerror=function(){r(s.error)}}catch(vme){r(vme)}})}).catch(r)});return u(r,t),r}function B(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){D(n._dbInfo,y,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;k(r)&&(r=I(r));var i=e(r,n.key,a++);void 0!==i?t(i):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(vme){r(vme)}})}).catch(r)});return u(r,t),r}function z(e,t,n){var r=this;e=f(e);var i=new c(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===v.call(t)?w(o.db).then(function(e){return e?t:R(t)}):t}).then(function(t){D(r._dbInfo,_,function(o,s){if(o)return i(o);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(vme){i(vme)}})}).catch(i)});return u(i,n),i}function V(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){D(n._dbInfo,_,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(s.error)},o.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(vme){r(vme)}})}).catch(r)});return u(r,t),r}function j(e){var t=this,n=new c(function(e,n){t.ready().then(function(){D(t._dbInfo,_,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(vme){n(vme)}})}).catch(n)});return u(n,e),n}function H(e){var t=this,n=new c(function(e,n){t.ready().then(function(){D(t._dbInfo,y,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(vme){n(vme)}})}).catch(n)});return u(n,e),n}function W(e,t){var n=this,r=new c(function(t,r){e<0?t(null):n.ready().then(function(){D(n._dbInfo,y,function(i,o){if(i)return r(i);try{var s=o.objectStore(n._dbInfo.storeName),a=!1,l=s.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(vme){r(vme)}})}).catch(r)});return u(r,t),r}function G(e){var t=this,n=new c(function(e,n){t.ready().then(function(){D(t._dbInfo,y,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];o.onsuccess=function(){var t=o.result;t?(s.push(t.key),t.continue()):e(s)},o.onerror=function(){n(o.error)}}catch(vme){n(vme)}})}).catch(n)});return u(n,e),n}function q(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db?c.resolve(i._dbInfo.db):M(e).then(function(t){var n=g[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});r=e.storeName?o.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;S(e);var r=g[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var a=i[o];a._dbInfo.db=null,a._dbInfo.version=n}return new c(function(t,r){var i=s.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,E(n._dbInfo)}}).catch(function(t){throw(T(e,t)||c.resolve()).catch(function(){}),t})}}):o.then(function(t){S(e);var n=g[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new c(function(t,n){var r=s.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)E(r[t]._dbInfo)}).catch(function(t){throw(T(e,t)||c.resolve()).catch(function(){}),t})})}else r=c.reject("Invalid arguments");return u(r,t),r}var $={_driver:"asyncStorage",_initStorage:F,_support:a(),iterate:B,getItem:U,setItem:z,removeItem:V,clear:j,length:H,key:W,keys:G,dropInstance:q};function X(){return"function"==typeof openDatabase}var Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K="~~local_forage_type~",Z=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",Q=J.length,ee="arbf",te="blob",ne="si08",re="ui08",ie="uic8",oe="si16",se="si32",ae="ur16",le="ui32",ce="fl32",ue="fl64",he=Q+ee.length,fe=Object.prototype.toString;function de(e){var t,n,r,i,o,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=Y.indexOf(e[t]),r=Y.indexOf(e[t+1]),i=Y.indexOf(e[t+2]),o=Y.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}function pe(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=Y[n[t]>>2],r+=Y[(3&n[t])<<4|n[t+1]>>4],r+=Y[(15&n[t+1])<<2|n[t+2]>>6],r+=Y[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function me(e,t){var n="";if(e&&(n=fe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===fe.call(e.buffer))){var r,i=J;e instanceof ArrayBuffer?(r=e,i+=ee):(r=e.buffer,"[object Int8Array]"===n?i+=ne:"[object Uint8Array]"===n?i+=re:"[object Uint8ClampedArray]"===n?i+=ie:"[object Int16Array]"===n?i+=oe:"[object Uint16Array]"===n?i+=ae:"[object Int32Array]"===n?i+=se:"[object Uint32Array]"===n?i+=le:"[object Float32Array]"===n?i+=ce:"[object Float64Array]"===n?i+=ue:t(new Error("Failed to get type for BinaryArray"))),t(i+pe(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=K+e.type+"~"+pe(this.result);t(J+te+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(vme){t(null,vme)}}function ge(e){if(e.substring(0,Q)!==J)return JSON.parse(e);var t,n=e.substring(he),r=e.substring(Q,he);if(r===te&&Z.test(n)){var i=n.match(Z);t=i[1],n=n.substring(i[0].length)}var o=de(n);switch(r){case ee:return o;case te:return l([o],{type:t});case ne:return new Int8Array(o);case re:return new Uint8Array(o);case ie:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case ae:return new Uint16Array(o);case se:return new Int32Array(o);case le:return new Uint32Array(o);case ce:return new Float32Array(o);case ue:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}}var ve={serialize:me,deserialize:ge,stringToBuffer:de,bufferToString:pe};function ye(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function _e(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new c(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(vme){return r(vme)}n.db.transaction(function(i){ye(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=ve,i}function be(e,t,n,r,i,o){e.executeSql(n,r,i,function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,a){a.rows.length?o(e,s):ye(e,t,function(){e.executeSql(n,r,i,o)},o)},o):o(e,s)},o)}function xe(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function we(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,s=o.length,a=0;a<s;a++){var l=o.item(a),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,a+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Se(e,t,n,r){var i=this;e=f(e);var o=new c(function(o,s){i.ready().then(function(){void 0===t&&(t=null);var a=t,l=i._dbInfo;l.serializer.serialize(t,function(t,c){c?s(c):l.db.transaction(function(n){be(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){o(a)},function(e,t){s(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Se.apply(i,[e,a,n,r-1]));s(t)}})})}).catch(s)});return u(o,n),o}function Ee(e,t,n){return Se.apply(this,[e,t,n,1])}function Te(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Ae(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){be(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Me(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){be(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Ce(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Oe(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){be(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Re(e){return new c(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})},function(e,t){n(t)})},function(e){n(e)})})}function Ie(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return u(r=e.name?new c(function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Re(r))}).then(function(e){return new c(function(t,n){e.db.transaction(function(r){function i(e){return new c(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var o=[],s=0,a=e.storeNames.length;s<a;s++)o.push(i(e.storeNames[s]));c.all(o).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):c.reject("Invalid arguments"),t),r}var ke={_driver:"webSQLStorage",_initStorage:_e,_support:X(),iterate:we,getItem:xe,setItem:Ee,removeItem:Te,clear:Ae,length:Me,key:Ce,keys:Oe,dropInstance:Ie};function Pe(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(vme){return!1}}function Ne(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function De(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(vme){return!0}}function Le(){return!De()||localStorage.length>0}function Fe(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=Ne(e,t._defaultConfig),Le()?(t._dbInfo=n,n.serializer=ve,c.resolve()):c.reject()}function Ue(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return u(n,e),n}function Be(e,t){var n=this;e=f(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return u(r,t),r}function ze(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,s=1,a=0;a<o;a++){var l=localStorage.key(a);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),s++)))return c}}});return u(r,t),r}function Ve(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(i){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return u(r,t),r}function je(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return u(n,e),n}function He(e){var t=this.keys().then(function(e){return e.length});return u(t,e),t}function We(e,t){var n=this;e=f(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return u(r,t),r}function Ge(e,t,n){var r=this;e=f(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new c(function(i,o){var s=r._dbInfo;s.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(s.keyPrefix+e,t),i(n)}catch(vme){"QuotaExceededError"!==vme.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==vme.name||o(vme),o(vme)}})})});return u(i,n),i}function qe(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return u(r=e.name?new c(function(t){e.storeName?t(Ne(e,i._defaultConfig)):t(e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):c.reject("Invalid arguments"),t),r}var $e={_driver:"localStorageWrapper",_initStorage:Fe,_support:Pe(),iterate:ze,getItem:Be,setItem:Ge,removeItem:We,clear:Ue,length:He,key:Ve,keys:je,dropInstance:qe},Xe=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ye=function(e,t){for(var n=e.length,r=0;r<n;){if(Xe(e[r],t))return!0;r++}return!1},Ke=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ze={},Je={},Qe={INDEXEDDB:$,WEBSQL:ke,LOCALSTORAGE:$e},et=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ke(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var st=function(){function e(t){for(var n in i(this,e),Qe)if(Qe.hasOwnProperty(n)){var r=Qe[n],o=r._driver;this[n]=o,Ze[o]||this.defineDriver(r)}this._defaultConfig=ot({},rt),this._config=ot({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new c(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=nt.concat("_initStorage"),s=0,a=o.length;s<a;s++){var l=o[s];if((!Ye(tt,l)||e[l])&&"function"!=typeof e[l])return void n(i)}var h=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var i=tt[n];e[i]||(e[i]=t(i))}};h();var f=function(n){Ze[r],Ze[r]=e,Je[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(vme){n(vme)}});return h(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ze[e]?c.resolve(Ze[e]):c.reject(new Error("Driver not found."));return h(r,t,n),r},e.prototype.getSerializer=function(e){var t=c.resolve(ve);return h(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return h(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;Ke(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function s(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}function a(e){return function(){var t=0;function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var a=new Error("No available storage method found.");return r._driverSet=c.reject(a),r._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=l.then(function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=a(i)})}).catch(function(){o();var e=new Error("No available storage method found.");return r._driverSet=c.reject(e),r._driverSet}),h(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Je[e]},e.prototype._extend=function(e){ot(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)it(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),at=new st;t.exports=at},{3:3}]},{},[4])(4)),wR.exports);const ER=yR(SR);var TR,AR={exports:{}};var MR=(TR||(TR=1,AR.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",s="hour",a="day",l="week",c="month",u="quarter",h="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,s=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:h,w:l,d:a,D:f,h:s,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",b={};b[_]=g;var x="$isDayjsObject",w=function(e){return e instanceof A||!(!e||!e[x])},S=function e(t,n,r){var i;if(!t)return _;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,i=a}return!r&&i&&(_=i),i||!r&&_},E=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new A(n)},T=y;T.l=S,T.i=w,T.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return T},v.isValid=function(){return!(this.$d.toString()===d)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!T.u(t)||t,u=T.p(e),d=function(e,t){var i=T.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(a)},p=function(e,t){return T.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case h:return r?d(1,0):d(31,11);case c:return r?d(1,g):d(0,g+1);case l:var _=this.$locale().weekStart||0,b=(m<_?m+7:m)-_;return d(r?v-b:v+(6-b),g);case a:case f:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=T.p(e),u="set"+(this.$u?"UTC":""),d=(n={},n[a]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[h]=u+"FullYear",n[s]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===a?this.$D+(t-this.$W):t;if(l===c||l===h){var m=this.clone().set(f,1);m.$d[d](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[T.p(e)]()},v.add=function(r,u){var f,d=this;r=Number(r);var p=T.p(u),m=function(e){var t=E(d);return T.w(t.date(t.date()+Math.round(e*r)),d)};if(p===c)return this.set(c,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===a)return m(1);if(p===l)return m(7);var g=(f={},f[o]=t,f[s]=n,f[i]=e,f)[p]||1,v=this.$d.getTime()+r*g;return T.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),o=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,h=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return T.s(o%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return T.s(t.$y,4,"0");case"M":return a+1;case"MM":return T.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,c,3);case"MMMM":return h(c,a);case"D":return t.$D;case"DD":return T.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return T.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,s,!0);case"A":return p(o,s,!1);case"m":return String(s);case"mm":return T.s(s,2,"0");case"s":return String(t.$s);case"ss":return T.s(t.$s,2,"0");case"SSS":return T.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,d){var p,m=this,g=T.p(f),v=E(r),y=(v.utcOffset()-this.utcOffset())*t,_=this-v,b=function(){return T.m(m,v)};switch(g){case h:p=b()/12;break;case c:p=b();break;case u:p=b()/3;break;case l:p=(_-y)/6048e5;break;case a:p=(_-y)/864e5;break;case s:p=_/n;break;case o:p=_/t;break;case i:p=_/e;break;default:p=_}return d?p:T.a(p)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return T.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),M=A.prototype;return E.prototype=M,[["$ms",r],["$s",i],["$m",o],["$H",s],["$W",a],["$M",c],["$y",h],["$D",f]].forEach(function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),E.extend=function(e,t){return e.$i||(e(t,A,E),e.$i=!0),E},E.locale=S,E.isDayjs=w,E.unix=function(e){return E(1e3*e)},E.en=b[_],E.Ls=b,E.p={},E}()),AR.exports);const CR=yR(MR),OR=[];for(let $=0;$<256;++$)OR.push(($+256).toString(16).slice(1));let RR;const IR=new Uint8Array(16);const kR={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function PR(e,t,n){const r=(e=e||{}).random??e.rng?.()??function(){if(!RR){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");RR=crypto.getRandomValues.bind(crypto)}return RR(IR)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e,t=0){return(OR[e[t+0]]+OR[e[t+1]]+OR[e[t+2]]+OR[e[t+3]]+"-"+OR[e[t+4]]+OR[e[t+5]]+"-"+OR[e[t+6]]+OR[e[t+7]]+"-"+OR[e[t+8]]+OR[e[t+9]]+"-"+OR[e[t+10]]+OR[e[t+11]]+OR[e[t+12]]+OR[e[t+13]]+OR[e[t+14]]+OR[e[t+15]]).toLowerCase()}(r)}function NR(e,t,n){return kR.randomUUID&&!e?kR.randomUUID():PR(e)}var DR,LR={exports:{}};var FR=(DR||(DR=1,LR.exports=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:vR,i=Object.keys,o=Array.isArray;function s(e,t){return"object"!=typeof t||i(t).forEach(function(n){e[n]=t[n]}),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);var a=Object.getPrototypeOf,l={}.hasOwnProperty;function c(e,t){return l.call(e,t)}function u(e,t){"function"==typeof t&&(t=t(a(e))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(t).forEach(function(n){f(e,n,t[n])})}var h=Object.defineProperty;function f(e,t,n,r){h(e,t,s(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,"constructor",e),{extend:u.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor,m=[].slice;function g(e,t,n){return m.call(e,t,n)}function v(e,t){return t(e)}function y(e){if(!e)throw new Error("Assertion Failed")}function _(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function b(e,t){if("string"==typeof t&&c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=b(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(-1!==s){var a=e[t.substr(0,s)];return null==a?void 0:b(a,t.substr(s+1))}}function x(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){y("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)x(e,t[r],n[r])}else{var s,a,l=t.indexOf(".");-1!==l?(s=t.substr(0,l),""===(a=t.substr(l+1))?void 0===n?o(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n:x(l=(l=e[s])&&c(e,s)?l:e[s]={},a,n)):void 0===n?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function w(e){var t,n={};for(t in e)c(e,t)&&(n[t]=e[t]);return n}var S=[].concat;function E(e){return S.apply([],e)}var T="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(E([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return r[e]}),A=new Set(T.map(function(e){return r[e]})),M=null;function C(e){return M=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=M.get(t);if(n)return n;if(o(t)){n=[],M.set(t,n);for(var r=0,i=t.length;r<i;++r)n.push(e(t[r]))}else if(A.has(t.constructor))n=t;else{var s,l=a(t);for(s in n=l===Object.prototype?{}:Object.create(l),M.set(t,n),t)c(t,s)&&(n[s]=e(t[s]))}return n}(e),M=null,e}var O={}.toString;function R(e){return O.call(e).slice(8,-1)}var I="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",k="symbol"==typeof I?function(e){var t;return null!=e&&(t=e[I])&&t.apply(e)}:function(){return null};function P(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var N={};function D(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===N&&"string"==typeof e)return[e];if(i=k(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var L="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},F=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(ae=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),U={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function B(e,t){this.name=e,this.message=t}function z(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function V(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=z(e,t)}function j(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=z(e,this.failures)}d(B).from(Error).extend({toString:function(){return this.name+": "+this.message}}),d(V).from(B),d(j).from(B);var H=F.reduce(function(e,t){return e[t]=t+"Error",e},{}),W=B,G=F.reduce(function(e,t){var n=t+"Error";function r(e,r){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=U[t]||n,this.inner=null)}return d(r).from(W),e[t]=r,e},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var q=ae.reduce(function(e,t){return e[t+"Error"]=G[t],e},{}),$=F.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=G[t]),e},{});function X(){}function Y(e){return e}function K(e,t){return null==e||e===Y?t:function(n){return t(e(n))}}function Z(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function J(e,t){return e===X?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Z(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Z(i,this.onerror):i),void 0!==o?o:n}}function Q(e,t){return e===X?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Z(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Z(r,this.onerror):r)}}function ee(e,t){return e===X?t:function(n){var r=e.apply(this,arguments);s(n,r);var i=this.onsuccess,o=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Z(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Z(o,this.onerror):o),void 0===r?void 0===n?void 0:n:s(r,n)}}function te(e,t){return e===X?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ne(e,t){return e===X?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}$.ModifyError=V,$.DexieError=B,$.BulkError=j;var re="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ie(e){re=e}var oe={},se=100,ae=(T="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,a(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,a(t),e]}())[0],le=(F=T[1],T=T[2],F=F&&F.then,ae&&ae.constructor),ce=!!T,ue=function(e,t){ye.push([e,t]),fe&&(queueMicrotask(Ce),fe=!1)},he=!0,fe=!0,de=[],pe=[],me=Y,ge={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:X,pgp:!1,env:{},finalize:X},ve=ge,ye=[],_e=0,be=[];function xe(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ve;if("function"!=typeof e){if(e!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ee(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Oe();n&&"function"==typeof n.then?e(t,function(e,t){n instanceof xe?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,Te(t)),r&&Re()}},Ee.bind(null,t))}catch(r){Ee(t,r)}}(this,e)}var we={get:function(){var e=ve,t=Ue;function n(n,r){var i=this,o=!e.global&&(e!==ve||t!==Ue),s=o&&!je(),a=new xe(function(t,a){Ae(i,new Se(Xe(n,e,o,s),Xe(r,e,o,s),t,a,e))});return this._consoleTask&&(a._consoleTask=this._consoleTask),a}return n.prototype=oe,n},set:function(e){f(this,"then",e&&e.prototype===oe?we:{get:function(){return e},set:we.set})}};function Se(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ee(e,t){var n,r;pe.push(t),null===e._state&&(n=e._lib&&Oe(),t=me(t),e._state=!1,e._value=t,r=e,de.some(function(e){return e._value===r._value})||de.push(r),Te(e),n&&Re())}function Te(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ae(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===_e&&(++_e,ue(function(){0==--_e&&Ie()},[]))}function Ae(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++_e,ue(Me,[n,e,t])}else e._listeners.push(t)}function Me(e,t,n){try{var r,i=t._value;!t._state&&pe.length&&(pe=[]),r=re&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||-1!==pe.indexOf(i)||function(e){for(var t=de.length;t;)if(de[--t]._value===e._value)return de.splice(t,1)}(t),n.resolve(r)}catch(o){n.reject(o)}finally{0==--_e&&Ie(),--n.psd.ref||n.psd.finalize()}}function Ce(){$e(ge,function(){Oe()&&Re()})}function Oe(){var e=he;return fe=he=!1,e}function Re(){var e,t,n;do{for(;0<ye.length;)for(e=ye,ye=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<ye.length);fe=he=!0}function Ie(){var e=de;de=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=be.slice(0),n=t.length;n;)t[--n]()}function ke(e){return new xe(oe,!1,e)}function Pe(e,t){var n=ve;return function(){var r=Oe(),i=ve;try{return Ge(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Ge(i,!1),r&&Re()}}}u(xe.prototype,{then:we,_then:function(e,t){Ae(this,new Se(null,null,e,t,ve))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,function(e){return(e instanceof t?n:ke)(e)}):this.then(null,function(e){return(e&&e.name===t?n:ke)(e)})},finally:function(e){return this.then(function(t){return xe.resolve(e()).then(function(){return t})},function(t){return xe.resolve(e()).then(function(){return ke(t)})})},timeout:function(e,t){var n=this;return e<1/0?new xe(function(r,i){var o=setTimeout(function(){return i(new G.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&f(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),ge.env=qe(),u(xe,{all:function(){var e=D.apply(null,arguments).map(He);return new xe(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(i,o){return xe.resolve(i).then(function(n){e[o]=n,--r||t(e)},n)})})},resolve:function(e){return e instanceof xe?e:e&&"function"==typeof e.then?new xe(function(t,n){e.then(t,n)}):new xe(oe,!0,e)},reject:ke,race:function(){var e=D.apply(null,arguments).map(He);return new xe(function(t,n){e.map(function(e){return xe.resolve(e).then(t,n)})})},PSD:{get:function(){return ve},set:function(e){return ve=e}},totalEchoes:{get:function(){return Ue}},newPSD:ze,usePSD:$e,scheduler:{get:function(){return ue},set:function(e){ue=e}},rejectionMapper:{get:function(){return me},set:function(e){me=e}},follow:function(e,t){return new xe(function(n,r){return ze(function(t,n){var r=ve;r.unhandleds=[],r.onunhandled=n,r.finalize=Z(function(){var e,r=this;e=function(){0===r.unhandleds.length?t():n(r.unhandleds[0])},be.push(function t(){e(),be.splice(be.indexOf(t),1)}),++_e,ue(function(){0==--_e&&Ie()},[])},r.finalize),e()},t,n,r)})}}),le&&(le.allSettled&&f(xe,"allSettled",function(){var e=D.apply(null,arguments).map(He);return new xe(function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach(function(e,i){return xe.resolve(e).then(function(e){return r[i]={status:"fulfilled",value:e}},function(e){return r[i]={status:"rejected",reason:e}}).then(function(){return--n||t(r)})})})}),le.any&&"undefined"!=typeof AggregateError&&f(xe,"any",function(){var e=D.apply(null,arguments).map(He);return new xe(function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(e,o){return xe.resolve(e).then(function(e){return t(e)},function(e){i[o]=e,--r||n(new AggregateError(i))})})})}),le.withResolvers&&(xe.withResolvers=le.withResolvers));var Ne={awaits:0,echoes:0,id:0},De=0,Le=[],Fe=0,Ue=0,Be=0;function ze(e,t,n,r){var i=ve,o=Object.create(i);return o.parent=i,o.ref=0,o.global=!1,o.id=++Be,ge.env,o.env=ce?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},t&&s(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()},r=$e(o,e,n,r),0===o.ref&&o.finalize(),r}function Ve(){return Ne.id||(Ne.id=++De),++Ne.awaits,Ne.echoes+=se,Ne.id}function je(){return!!Ne.awaits&&(0==--Ne.awaits&&(Ne.id=0),Ne.echoes=Ne.awaits*se,!0)}function He(e){return Ne.echoes&&e&&e.constructor===le?(Ve(),e.then(function(e){return je(),e},function(e){return je(),Ke(e)})):e}function We(){var e=Le[Le.length-1];Le.pop(),Ge(e,!1)}function Ge(e,t){var n,i=ve;(t?!Ne.echoes||Fe++&&e===ve:!Fe||--Fe&&e===ve)||queueMicrotask(t?function(e){++Ue,Ne.echoes&&0!=--Ne.echoes||(Ne.echoes=Ne.awaits=Ne.id=0),Le.push(ve),Ge(e,!0)}.bind(null,e):We),e!==ve&&(ve=e,i===ge&&(ge.env=qe()),ce&&(n=ge.env.Promise,t=e.env,(i.global||e.global)&&(Object.defineProperty(r,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function qe(){var e=r.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function $e(e,t,n,r,i){var o=ve;try{return Ge(e,!0),t(n,r,i)}finally{Ge(o,!1)}}function Xe(e,t,n,r){return"function"!=typeof e?e:function(){var i=ve;n&&Ve(),Ge(t,!0);try{return e.apply(this,arguments)}finally{Ge(i,!1),r&&queueMicrotask(je)}}}function Ye(e){Promise===le&&0===Ne.echoes?0===Fe?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+F).indexOf("[native code]")&&(Ve=je=X);var Ke=xe.reject,Ze=String.fromCharCode(65535),Je="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qe="String expected.",et=[],tt="__dbnames",nt="readonly",rt="readwrite";function it(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function st(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=C(t))[e],t}}function at(){throw G.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function lt(e,t){try{var n=ct(e),r=ct(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}(ut(e),ut(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var s=lt(e[o],t[o]);if(0!==s)return s}return n===r?0:n<r?-1:1}(e,t)}}catch(i){}return NaN}function ct(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=R(e))?"binary":e}function ut(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function ht(e,t,n){var r=e.schema.yProps;return r?(t&&0<n.numFailures&&(t=t.filter(function(e,t){return!n.failures[t]})),Promise.all(r.map(function(n){return n=n.updatesTable,t?e.db.table(n).where("k").anyOf(t).delete():e.db.table(n).clear()})).then(function(){return n})):n}var ft=(dt.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var r=t.add;if(o(r))return n(n([],o(e)?e:[],!0),r).sort();if("number"==typeof r)return(Number(e)||0)+r;if("bigint"==typeof r)try{return BigInt(e)+r}catch(s){return BigInt(0)+r}throw new TypeError("Invalid term ".concat(r))}if(void 0!==t.remove){var i=t.remove;if(o(i))return o(e)?e.filter(function(e){return!i.includes(e)}).sort():[];if("number"==typeof i)return Number(e)-i;if("bigint"==typeof i)try{return BigInt(e)-i}catch(s){return BigInt(0)-i}throw new TypeError("Invalid subtrahend ".concat(i))}return(r=null===(r=t.replacePrefix)||void 0===r?void 0:r[0])&&"string"==typeof e&&e.startsWith(r)?t.replacePrefix[1]+e.substring(r.length):e},dt);function dt(e){this["@@propmod"]=e}function pt(e,t){for(var n=i(t),r=n.length,o=!1,s=0;s<r;++s){var a=n[s],l=t[a],c=b(e,a);l instanceof ft?(x(e,a,l.execute(c)),o=!0):c!==l&&(x(e,a,l),o=!0)}return o}var mt=(gt.prototype._trans=function(e,t,n){var r=this._tx||ve.trans,i=this.name,o=re&&"undefined"!=typeof console&&console.createTask&&void 0;function s(e,n,r){if(!r.schema[i])throw new G.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var a=Oe();try{var l=r&&r.db._novip===this.db._novip?r===ve.trans?r._promise(e,s,n):ze(function(){return r._promise(e,s,n)},{trans:r,transless:ve.transless||ve}):function e(t,n,r,i){if(t.idbdb&&(t._state.openComplete||ve.letThrough||t._vip)){var o=t._createTransaction(n,r,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(s){return s.name===H.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,i)})):Ke(s)}return o._promise(n,function(e,t){return ze(function(){return ve.trans=o,i(e,t,o)})}).then(function(e){if("readwrite"===n)try{o.idbtrans.commit()}catch(t){}return"readonly"===n?e:o._completion.then(function(){return e})})}if(t._state.openComplete)return Ke(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return Ke(new G.DatabaseClosed);t.open().catch(X)}return t._state.dbReadyPromise.then(function(){return e(t,n,r,i)})}(this.db,e,[this.name],s);return o&&(l._consoleTask=o,l=l.catch(function(e){return Ke(e)})),l}finally{a&&Re()}},gt.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?Ke(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",function(t){return n.core.get({trans:t,key:e}).then(function(e){return n.hook.reading.fire(e)})}).then(t)},gt.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(n&&this.db._maxKey!==Ze){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map(function(t){return e[t]}))}var s=this.schema.idxByName;function a(e,t){return 0===lt(e,t)}r=(l=t.reduce(function(t,n){var r=t[0],i=t[1],l=(t=s[n],e[n]);return[r||t,r||!t?it(i,t&&t.multi?function(e){return e=b(e,n),o(e)&&e.some(function(e){return a(l,e)})}:function(e){return a(l,b(e,n))}):i]},[null,null]))[0];var l=l[1];return r?this.where(r.name).equals(e[r.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},gt.prototype.filter=function(e){return this.toCollection().and(e)},gt.prototype.count=function(e){return this.toCollection().count(e)},gt.prototype.offset=function(e){return this.toCollection().offset(e)},gt.prototype.limit=function(e){return this.toCollection().limit(e)},gt.prototype.each=function(e){return this.toCollection().each(e)},gt.prototype.toArray=function(e){return this.toCollection().toArray(e)},gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"[".concat(e.join("+"),"]"):e))},gt.prototype.reverse=function(){return this.toCollection().reverse()},gt.prototype.mapToClass=function(t){var n,r=this.db,i=this.name;function o(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof at&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(o,n=t),Object.defineProperty(o.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),o.prototype.table=function(){return i},t=o);for(var s=new Set,l=t.prototype;l;l=a(l))Object.getOwnPropertyNames(l).forEach(function(e){return s.add(e)});function c(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!s.has(n))try{r[n]=e[n]}catch(i){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),t},gt.prototype.defineClass=function(){return this.mapToClass(function(e){s(this,e)})},gt.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,s=e;return o&&i&&(s=st(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[s]})}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{x(e,o,t)}catch(n){}return t})},gt.prototype.upsert=function(e,t){var n=this,r=this.schema.primKey.keyPath;return this._trans("readwrite",function(i){return n.core.get({trans:i,key:e}).then(function(o){var s=null!=o?o:{};return pt(s,t),r&&x(s,r,e),n.core.mutate({trans:i,type:"put",values:[s],keys:[e],upsert:!0,updates:{keys:[e],changeSpecs:[t]}}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):!!o})})})},gt.prototype.update=function(e,t){return"object"!=typeof e||o(e)?this.where(":id").equals(e).modify(t):void 0===(e=b(e,this.schema.primKey.keyPath))?Ke(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},gt.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,s=e;return o&&i&&(s=st(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"put",values:[s],keys:null!=t?[t]:null})}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{x(e,o,t)}catch(n){}return t})},gt.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]}).then(function(n){return ht(t,[e],n)}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):void 0})})},gt.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:ot}).then(function(t){return ht(e,null,t)})}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):void 0})},gt.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})},gt.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(a=r.schema.primKey).auto;if((a=a.keyPath)&&i)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,a=a&&n?e.map(st(a)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:a,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return o?n:i;throw new j("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(s," operations failed"),e)})})},gt.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(a=r.schema.primKey).auto;if((a=a.keyPath)&&i)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var s=e.length,a=a&&n?e.map(st(a)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:a,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return o?n:i;throw new j("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(s," operations failed"),e)})})},gt.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(e){return e.key}),i=e.map(function(e){return e.changes}),o=[];return this._trans("readwrite",function(s){return n.getMany({trans:s,keys:r,cache:"clone"}).then(function(a){var l=[],c=[];e.forEach(function(e,n){var r=e.key,i=e.changes,s=a[n];if(s){for(var u=0,h=Object.keys(i);u<h.length;u++){var f=h[u],d=i[f];if(f===t.schema.primKey.keyPath){if(0!==lt(d,r))throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else x(s,f,d)}o.push(n),l.push(r),c.push(s)}});var u=l.length;return n.mutate({trans:s,type:"put",keys:l,values:c,updates:{keys:r,changeSpecs:i}}).then(function(e){var n=e.numFailures,r=e.failures;if(0===n)return u;for(var i=0,s=Object.keys(r);i<s.length;i++){var a,l=s[i],c=o[Number(l)];null!=c&&(a=r[l],delete r[l],r[c]=a)}throw new j("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(u," operations failed"),r)})})})},gt.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:e}).then(function(n){return ht(t,e,n)})}).then(function(e){var r=e.numFailures,i=e.lastResult;if(e=e.failures,0===r)return i;throw new j("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),e)})},gt);function gt(){}function vt(e){function t(t,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return n[t].subscribe.apply(null,o),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=a;for(var r=1,s=arguments.length;r<s;++r)a(arguments[r]);return t;function a(e,r,s){if("object"!=typeof e){var l;r=r||te;var c={subscribers:[],fire:s=s||X,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=r(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter(function(t){return t!==e}),c.fire=c.subscribers.reduce(r,s)}};return n[e]=t[e]=c}i(l=e).forEach(function(e){var t=l[e];if(o(t))a(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new G.InvalidArgument("Invalid event config");var n=a(e,Y,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){_(function(){e.apply(null,t)})})})}})}}function yt(e,t){return d(t).from({prototype:e}),t}function _t(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function bt(e,t){e.filter=it(e.filter,t)}function xt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return it(r(),t())}:t,e.justLimit=n&&!r}function wt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new G.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function St(e,t,n){var r=wt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Et(e,t,n,r){var i=e.replayFilter?it(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},s=function(e,n,r){var s,a;i&&!i(n,r,function(e){return n.stop(e)},function(e){return n.fail(e)})||("[object ArrayBuffer]"==(a=""+(s=n.primaryKey))&&(a=""+new Uint8Array(s)),c(o,a)||(o[a]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(s,n),Tt(St(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return Tt(St(e,r,n),it(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Tt(e,t,n,r){var i=Pe(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then(function(e){if(e)return e.start(function(){var n=function(){return e.continue()};t&&!t(e,function(e){return n=e},function(t){e.stop(t),n=X},function(t){e.fail(t),n=X})||i(e.value,e,function(e){return n=e}),n()})})}var At=(Mt.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,Ke.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Mt.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ke.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Mt.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=it(t.algorithm,e)},Mt.prototype._iterate=function(e,t){return Et(this._ctx,e,t,this._ctx.table.core)},Mt.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&s(n,e),t._ctx=n,t},Mt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Mt.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Et(t,e,n,t.table.core)})},Mt.prototype.count=function(e){var t=this;return this._read(function(e){var n=t._ctx,r=n.table.core;if(_t(n,!0))return r.count({trans:e,query:{index:wt(n,r.schema),range:n.range}}).then(function(e){return Math.min(e,n.limit)});var i=0;return Et(n,function(){return++i,!1},e,r).then(function(){return i})}).then(e)},Mt.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var s="next"===this._ctx.dir?1:-1;function a(e,t){return lt(o(e,i),o(t,i))*s}return this.toArray(function(e){return e.sort(a)}).then(t)},Mt.prototype.toArray=function(e){var t=this;return this._read(function(e){var n=t._ctx;if("next"===n.dir&&_t(n,!0)&&0<n.limit){var r=n.valueMapper,i=wt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(function(e){return e=e.result,r?e.map(r):e})}var o=[];return Et(n,function(e){return o.push(e)},e,n.table.core).then(function(){return o})},e)},Mt.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,_t(t)?xt(t,function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n(function(){e.advance(t),t=0}),!1)}}):xt(t,function(){var t=e;return function(){return--t<0}})),this},Mt.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),xt(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}},!0),this},Mt.prototype.until=function(e,t){return bt(this._ctx,function(n,r,i){return!e(n.value)||(r(i),t)}),this},Mt.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},Mt.prototype.last=function(e){return this.reverse().first(e)},Mt.prototype.filter=function(e){var t;return bt(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=it(t.isMatch,e),this},Mt.prototype.and=function(e){return this.filter(e)},Mt.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Mt.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Mt.prototype.desc=function(){return this.reverse()},Mt.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},Mt.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Mt.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},Mt.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},Mt.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&_t(t,!0)&&0<t.limit)return this._read(function(e){var n=wt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(function(e){return e.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},Mt.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Mt.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},Mt.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Mt.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return bt(this._ctx,function(e){var n=e.primaryKey.toString();return e=c(t,n),t[n]=!0,!e}),this},Mt.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var o,s="function"==typeof e?e:function(t){return pt(t,e)},a=n.table.core,l=(o=a.schema.primaryKey).outbound,c=o.extractKey,u=200;function h(e,t){var n=t.failures;t=t.numFailures,d+=e-t;for(var r=0,o=i(n);r<o.length;r++){var s=o[r];f.push(n[s])}}(o=t.db._options.modifyChunkSize)&&(u="object"==typeof o?o[a.name]||o["*"]||200:o);var f=[],d=0,p=[],m=e===Ct;return t.clone().primaryKeys().then(function(t){function i(f){var d=Math.min(u,t.length-f),p=t.slice(f,f+d);return(m?Promise.resolve([]):a.getMany({trans:r,keys:p,cache:"immutable"})).then(function(g){var v=[],y=[],_=l?[]:null,b=m?p:[];if(!m)for(var x=0;x<d;++x){var w=g[x],S={value:C(w),primKey:t[f+x]};!1!==s.call(S,S.value,S)&&(null==S.value?b.push(t[f+x]):l||0===lt(c(w),c(S.value))?(y.push(S.value),l&&_.push(t[f+x])):(b.push(t[f+x]),v.push(S.value)))}return Promise.resolve(0<v.length&&a.mutate({trans:r,type:"add",values:v}).then(function(e){for(var t in e.failures)b.splice(parseInt(t),1);h(v.length,e)})).then(function(){return(0<y.length||o&&"object"==typeof e)&&a.mutate({trans:r,type:"put",keys:_,values:y,criteria:o,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<f}).then(function(e){return h(y.length,e)})}).then(function(){return(0<b.length||o&&m)&&a.mutate({trans:r,type:"delete",keys:b,criteria:o,isAdditionalChunk:0<f}).then(function(e){return ht(n.table,b,e)}).then(function(e){return h(b.length,e)})}).then(function(){return t.length>f+d&&i(f+u)})})}var o=_t(n)&&n.limit===1/0&&("function"!=typeof e||m)&&{index:n.index,range:n.range};return i(0).then(function(){if(0<f.length)throw new V("Error modifying one or more objects",f,d,p);return t.length})})})},Mt.prototype.delete=function(){var e=this._ctx,t=e.range;return!_t(e)||e.table.schema.yProps||!e.isPrimKey&&3!==t.type?this.modify(Ct):this._write(function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then(function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(function(e){var n=e.failures;if(e=e.numFailures)throw new V("Could not delete some values",Object.keys(n).map(function(e){return n[e]}),t-e);return t-e})})})},Mt);function Mt(){}var Ct=function(e,t){return t.value=null};function Ot(e,t){return e<t?-1:e===t?0:1}function Rt(e,t){return t<e?-1:e===t?0:1}function It(e,t,n){return(e=e instanceof Lt?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function kt(e){return new e.Collection(e,function(){return Dt("")}).limit(0)}function Pt(e,t,n,r){var i,o,s,a,l,c,u,h=n.length;if(!n.every(function(e){return"string"==typeof e}))return It(e,Qe);function f(e){i="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},o="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},s="next"===e?Ot:Rt;var t=n.map(function(e){return{lower:o(e),upper:i(e)}}).sort(function(e,t){return s(e.lower,t.lower)});a=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),u="next"===(c=e)?"":r}f("next"),(e=new e.Collection(e,function(){return Nt(a[0],l[h-1]+r)}))._ondirectionchange=function(e){f(e)};var d=0;return e._addAlgorithm(function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var f=o(i);if(t(f,l,d))return!0;for(var p=null,m=d;m<h;++m){var g=function(e,t,n,r,i,o){for(var s=Math.min(e.length,r.length),a=-1,l=0;l<s;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):0<=a?e.substr(0,a)+t[a]+n.substr(a+1):null;i(e[l],c)<0&&(a=l)}return s<r.length&&"next"===o?e+n.substr(e.length):s<e.length&&"prev"===o?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}(i,f,a[m],l[m],s,c);null===g&&null===p?d=m+1:(null===p||0<s(p,g))&&(p=g)}return n(null!==p?function(){e.continue(p+u)}:r),!1}),e}function Nt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Dt(e){return{type:1,lower:e,upper:e}}var Lt=(Object.defineProperty(Ft.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ft.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?kt(this):new this.Collection(this,function(){return Nt(e,t,!n,!r)})}catch(i){return It(this,Je)}},Ft.prototype.equals=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Dt(e)})},Ft.prototype.above=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Nt(e,void 0,!0)})},Ft.prototype.aboveOrEqual=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Nt(e,void 0,!1)})},Ft.prototype.below=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Nt(void 0,e,!1,!0)})},Ft.prototype.belowOrEqual=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Nt(void 0,e)})},Ft.prototype.startsWith=function(e){return"string"!=typeof e?It(this,Qe):this.between(e,e+Ze,!0,!0)},Ft.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Pt(this,function(e,t){return 0===e.indexOf(t[0])},[e],Ze)},Ft.prototype.equalsIgnoreCase=function(e){return Pt(this,function(e,t){return e===t[0]},[e],"")},Ft.prototype.anyOfIgnoreCase=function(){var e=D.apply(N,arguments);return 0===e.length?kt(this):Pt(this,function(e,t){return-1!==t.indexOf(e)},e,"")},Ft.prototype.startsWithAnyOfIgnoreCase=function(){var e=D.apply(N,arguments);return 0===e.length?kt(this):Pt(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,Ze)},Ft.prototype.anyOf=function(){var e=this,t=D.apply(N,arguments),n=this._cmp;try{t.sort(n)}catch(o){return It(this,Je)}if(0===t.length)return kt(this);var r=new this.Collection(this,function(){return Nt(t[0],t[t.length-1])});r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm(function(e,r,o){for(var s=e.key;0<n(s,t[i]);)if(++i===t.length)return r(o),!1;return 0===n(s,t[i])||(r(function(){e.continue(t[i])}),!1)}),r},Ft.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ft.prototype.noneOf=function(){var e=D.apply(N,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return It(this,Je)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Ft.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,o=this._descending,s=this._min,a=this._max;if(0===e.length)return kt(this);if(!e.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0}))return It(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var l,c=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers,h=i;function f(e,t){return h(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n];if(r(t[0],o[1])<0&&0<r(t[1],o[0])){o[0]=s(o[0],t[0]),o[1]=a(o[1],t[1]);break}}return n===i&&e.push(t),e},[])).sort(f)}catch(v){return It(this,Je)}var d=0,p=u?function(e){return 0<i(e,l[d][1])}:function(e){return 0<=i(e,l[d][1])},m=c?function(e){return 0<o(e,l[d][0])}:function(e){return 0<=o(e,l[d][0])},g=p;return(e=new this.Collection(this,function(){return Nt(l[0][0],l[l.length-1][1],!c,!u)}))._ondirectionchange=function(e){h="next"===e?(g=p,i):(g=m,o),l.sort(f)},e._addAlgorithm(function(e,t,r){for(var o,s=e.key;g(s);)if(++d===l.length)return t(r),!1;return!p(o=s)&&!m(o)||(0===n._cmp(s,l[d][1])||0===n._cmp(s,l[d][0])||t(function(){h===i?e.continue(l[d][0]):e.continue(l[d][1])}),!1)}),e},Ft.prototype.startsWithAnyOf=function(){var e=D.apply(N,arguments);return e.every(function(e){return"string"==typeof e})?0===e.length?kt(this):this.inAnyRange(e.map(function(e){return[e,e+Ze]})):It(this,"startsWithAnyOf() only works with strings")},Ft);function Ft(){}function Ut(e){return Pe(function(t){return Bt(t),e(t.target.error),!1})}function Bt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var zt="storagemutated",Vt="x-storagemutated-1",jt=vt(null,zt),Ht=(Wt.prototype._lock=function(){return y(!ve.global),++this._reculock,1!==this._reculock||ve.global||(ve.lockOwnerFor=this),this},Wt.prototype._unlock=function(){if(y(!ve.global),0==--this._reculock)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{$e(e[1],e[0])}catch(t){}}return this},Wt.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},Wt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(y(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new G.DatabaseClosed(r);case"MissingAPIError":throw new G.MissingAPI(r.message,r);default:throw new G.OpenFailed(r)}if(!this.active)throw new G.TransactionInactive;return y(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pe(function(n){Bt(n),t._reject(e.error)}),e.onabort=Pe(function(n){Bt(n),t.active&&t._reject(new G.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=Pe(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&jt.storagemutated.fire(e.mutatedParts)}),this},Wt.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return Ke(new G.ReadOnly("Transaction is readonly"));if(!this.active)return Ke(new G.TransactionInactive);if(this._locked())return new xe(function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},ve])});if(n)return ze(function(){var e=new xe(function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var i=new xe(function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)});return i._lib=!0,i},Wt.prototype._root=function(){return this.parent?this.parent._root():this},Wt.prototype.waitFor=function(e){var t,n=this._root(),r=xe.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var i=n._waitingFor;return new xe(function(e,t){r.then(function(t){return n._waitingQueue.push(Pe(e.bind(null,t)))},function(e){return n._waitingQueue.push(Pe(t.bind(null,e)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},Wt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},Wt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var n=this.schema[e];if(!n)throw new G.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},Wt);function Wt(){}function Gt(e,t,n,r,i,o,s,a){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(i?"++":"")+qt(t),type:a}}function qt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function $t(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){return(n=r(t,n))&&(e[n[0]]=n[1]),e},{}))};var r}var Xt=function(e){try{return e.only([[]]),Xt=function(){return[[]]},[[]]}catch(t){return Xt=function(){return Ze},Ze}};function Yt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return b(e,t)}:function(t){return b(t,e)};var t}function Kt(e){return[].slice.call(e)}var Zt=0;function Jt(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Qt(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===r?null:t.upperBound(r,!!e):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!e)}function i(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,i=e.type,o=e.keys,s=e.values,a=e.range;return new Promise(function(e,l){e=Pe(e);var c=t.objectStore(n),u=null==c.keyPath,h="put"===i||"add"===i;if(!h&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var f,d=(o||s||{length:1}).length;if(o&&s&&o.length!==s.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++v,Bt(e)}var m=[],g=[],v=0;if("deleteRange"===i){if(4===a.type)return e({numFailures:v,failures:g,results:[],lastResult:void 0});3===a.type?m.push(f=c.clear()):m.push(f=c.delete(r(a)))}else{var y=(u=h?u?[s,o]:[s,null]:[o,null])[0],_=u[1];if(h)for(var b=0;b<d;++b)m.push(f=_&&void 0!==_[b]?c[i](y[b],_[b]):c[i](y[b])),f.onerror=p;else for(b=0;b<d;++b)m.push(f=c[i](y[b])),f.onerror=p}function x(t){t=t.target.result,m.forEach(function(e,t){return null!=e.error&&(g[t]=e.error)}),e({numFailures:v,failures:g,results:"delete"===i?o:m.map(function(e){return e.result}),lastResult:t})}f.onerror=function(e){p(e),x(e)},f.onsuccess=x})},getMany:function(e){var t=e.trans,r=e.keys;return new Promise(function(e,i){e=Pe(e);for(var o,s=t.objectStore(n),a=r.length,l=new Array(a),c=0,u=0,h=function(t){t=t.target,l[t._pos]=t.result,++u===c&&e(l)},f=Ut(i),d=0;d<a;++d)null!=r[d]&&((o=s.get(r[d]))._pos=d,o.onsuccess=h,o.onerror=f,++c);0===c&&e(l)})},get:function(e){var t=e.trans,r=e.key;return new Promise(function(e,i){e=Pe(e);var o=t.objectStore(n).get(r);o.onsuccess=function(t){return e(t.target.result)},o.onerror=Ut(i)})},query:(t=c,function(e){return new Promise(function(i,o){i=Pe(i);var s,a,l,c=e.trans,u=e.values,h=e.limit,f=e.query,d=h===1/0?void 0:h,p=f.index;if(f=f.range,c=c.objectStore(n),p=p.isPrimaryKey?c:c.index(p.name),f=r(f),0===h)return i({result:[]});t?((d=u?p.getAll(f,d):p.getAllKeys(f,d)).onsuccess=function(e){return i({result:e.target.result})},d.onerror=Ut(o)):(s=0,a=!u&&"openKeyCursor"in p?p.openKeyCursor(f):p.openCursor(f),l=[],a.onsuccess=function(e){var t=a.result;return t?(l.push(u?t.value:t.primaryKey),++s===h?i({result:l}):void t.continue()):i({result:l})},a.onerror=Ut(o))})}),openCursor:function(e){var t=e.trans,i=e.values,o=e.query,s=e.reverse,a=e.unique;return new Promise(function(e,l){e=Pe(e);var c=o.index,u=o.range,h=t.objectStore(n),f=(h=c.isPrimaryKey?h:h.index(c.name),c=s?a?"prevunique":"prev":a?"nextunique":"next",!i&&"openKeyCursor"in h?h.openKeyCursor(r(u),c):h.openCursor(r(u),c));f.onerror=Ut(l),f.onsuccess=Pe(function(n){var r,i,o,s,a=f.result;a?(a.___id=++Zt,a.done=!1,r=a.continue.bind(a),i=(i=a.continuePrimaryKey)&&i.bind(a),o=a.advance.bind(a),s=function(){throw new Error("Cursor not stopped")},a.trans=t,a.stop=a.continue=a.continuePrimaryKey=a.advance=function(){throw new Error("Cursor not started")},a.fail=Pe(l),a.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},a.start=function(e){function t(){if(f.result)try{e()}catch(t){a.fail(t)}else a.done=!0,a.start=function(){throw new Error("Cursor behind last entry")},a.stop()}var n=new Promise(function(e,t){e=Pe(e),f.onerror=Ut(t),a.fail=t,a.stop=function(t){a.stop=a.continue=a.continuePrimaryKey=a.advance=s,e(t)}});return f.onsuccess=Pe(function(e){f.onsuccess=t,t()}),a.continue=r,a.continuePrimaryKey=i,a.advance=o,t(),n},e(a)):e(null)},l)})},count:function(e){var t=e.query,i=e.trans,o=t.index,s=t.range;return new Promise(function(e,t){var a=i.objectStore(n),l=o.isPrimaryKey?a:a.index(o.name);(l=(a=r(s))?l.count(a):l.count()).onsuccess=Pe(function(t){return e(t.target.result)}),l.onerror=Ut(t)})}}}n=(a=n,l=Kt((s=e).objectStoreNames),u={schema:{name:s.name,tables:l.map(function(e){return a.objectStore(e)}).map(function(e){var t=e.keyPath,n=e.autoIncrement,r=o(t),i={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Yt(t)},indexes:Kt(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,n=e.unique,r=e.multiEntry;return e=e.keyPath,r={name:t,compound:o(e),keyPath:e,unique:n,multiEntry:r,extractKey:Yt(e)},i[Jt(e)]=r}),getIndexByKeyPath:function(e){return i[Jt(e)]}},i[":id"]=n.primaryKey,null!=t&&(i[Jt(t)]=n.primaryKey),n})},hasGetAll:0<l.length&&"getAll"in a.objectStore(l[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).schema;var s,a,l,c=u.hasGetAll,u=n.tables.map(i),h={};return u.forEach(function(e){return h[e.name]=e}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!h[e])throw new Error("Table '".concat(e,"' not found"));return h[e]},MIN_KEY:-1/0,MAX_KEY:Xt(t),schema:n}}function en(e,n,r,i){var o=r.IDBKeyRange;return r.indexedDB,{dbcore:(i=Qt(n,o,i),e.dbcore.reduce(function(e,n){return n=n.create,t(t({},e),n(e))},i))}}function tn(e,t){var n=t.db;t=en(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach(function(t){var n=t.name;e.core.schema.tables.some(function(e){return e.name===n})&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function nn(e,t,n,r){n.forEach(function(n){var i=r[n];t.forEach(function(t){var r=function e(t,n){return p(t,n)||(t=a(t))&&e(t,n)}(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?f(t,n,{get:function(){return this.table(n)},set:function(e){h(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))})})}function rn(e,t){t.forEach(function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]})}function on(e,t){return e._cfg.version-t._cfg.version}function sn(e,t,n,r){var o=e._dbSchema;n.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=$t("$meta",pn("")[0],[]),e._storeNames.push("$meta"));var s=e._createTransaction("readwrite",e._storeNames,o);s.create(n),s._completion.catch(r);var a=s._reject.bind(s),l=ve.transless||ve;ze(function(){return ve.trans=s,ve.transless=l,0!==t?(tn(e,n),c=t,((r=s).storeNames.includes("$meta")?r.table("$meta").get("version").then(function(e){return null!=e?e:c}):xe.resolve(c)).then(function(t){return o=t,a=s,l=n,c=[],t=(r=e)._versions,u=r._dbSchema=fn(0,r.idbdb,l),0!==(t=t.filter(function(e){return e._cfg.version>=o})).length?(t.forEach(function(e){c.push(function(){var t=u,n=e._cfg.dbschema;dn(r,t,l),dn(r,n,l),u=r._dbSchema=n;var s=ln(t,n);s.add.forEach(function(e){cn(l,e[0],e[1].primKey,e[1].indexes)}),s.change.forEach(function(e){if(e.recreate)throw new G.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach(function(e){return hn(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),hn(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})});var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>o){tn(r,l),a._memoizedTables={};var h=w(n);s.del.forEach(function(e){h[e]=t[e]}),rn(r,[r.Transaction.prototype]),nn(r,[r.Transaction.prototype],i(h),h),a.schema=h;var f,d=L(c);return d&&Ve(),s=xe.follow(function(){var e;(f=c(a))&&d&&(e=je.bind(null,null),f.then(e,e))}),f&&"function"==typeof f.then?xe.resolve(f):s.then(function(){return f})}}),c.push(function(t){var n,i,o=e._cfg.dbschema;n=o,i=t,[].slice.call(i.db.objectStoreNames).forEach(function(e){return null==n[e]&&i.db.deleteObjectStore(e)}),rn(r,[r.Transaction.prototype]),nn(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),a.schema=r._dbSchema}),c.push(function(t){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter(function(e){return"$meta"!==e})):t.objectStore("$meta").put(e._cfg.version,"version"))})}),function e(){return c.length?xe.resolve(c.shift()(a.idbtrans)).then(e):xe.resolve()}().then(function(){un(u,l)})):xe.resolve();var r,o,a,l,c,u}).catch(a)):(i(o).forEach(function(e){cn(n,e,o[e].primKey,o[e].indexes)}),tn(e,n),void xe.follow(function(){return e.on.populate.fire(s)}).catch(a));var r,c})}function an(e,t){un(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=fn(0,e.idbdb,t);dn(e,e._dbSchema,t);for(var r=0,i=ln(n,e._dbSchema).change;r<i.length;r++){var o=function(e){if(e.change.length||e.recreate)return{value:void 0};var n=t.objectStore(e.name);e.add.forEach(function(e){hn(n,e)})}(i[r]);if("object"==typeof o)return o.value}}function ln(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],o=t[n];if(i){var s={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto)s.recreate=!0,r.change.push(s);else{var a=i.idxByName,l=o.idxByName,c=void 0;for(c in a)l[c]||s.del.push(c);for(c in l){var u=a[c],h=l[c];u?u.src!==h.src&&s.change.push(h):s.add.push(h)}(0<s.del.length||0<s.add.length||0<s.change.length)&&r.change.push(s)}}else r.add.push([n,o])}return r}function cn(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){return hn(i,e)}),i}function un(e,t){i(e).forEach(function(n){t.db.objectStoreNames.contains(n)||cn(t,n,e[n].primKey,e[n].indexes)})}function hn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function fn(e,t,n){var r={};return g(t.objectStoreNames,0).forEach(function(e){for(var t=n.objectStore(e),i=Gt(qt(a=t.keyPath),a||"",!0,!1,!!t.autoIncrement,a&&"string"!=typeof a,!0),o=[],s=0;s<t.indexNames.length;++s){var a=(l=t.index(t.indexNames[s])).keyPath,l=Gt(l.name,a,!!l.unique,!!l.multiEntry,!1,a&&"string"!=typeof a,!1);o.push(l)}r[e]=$t(e,i,o)}),r}function dn(e,t,n){for(var i=n.db.objectStoreNames,o=0;o<i.length;++o){var s=i[o],a=n.objectStore(s);e._hasGetAll="getAll"in a;for(var l=0;l<a.indexNames.length;++l){var c=a.indexNames[l],u=a.index(c).keyPath,h="string"==typeof u?u:"["+g(u).join("+")+"]";!t[s]||(u=t[s].idxByName[h])&&(u.name=c,delete t[s].idxByName[h],t[s].idxByName[c]=u)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function pn(e){return e.split(",").map(function(e,t){var n=null===(r=(i=e.split(":"))[1])||void 0===r?void 0:r.trim(),r=(e=i[0].trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Gt(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(i),0===t,n)})}var mn=(gn.prototype._createTableSchema=$t,gn.prototype._parseIndexSyntax=pn,gn.prototype._parseStoresSpec=function(e,t){var n=this;i(e).forEach(function(r){if(null!==e[r]){var i=n._parseIndexSyntax(e[r]),o=i.shift();if(!o)throw new G.Schema("Invalid schema for table "+r+": "+e[r]);if(o.unique=!0,o.multi)throw new G.Schema("Primary key cannot be multiEntry*");i.forEach(function(e){if(e.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")}),i=n._createTableSchema(r,o,i),t[r]=i}})},gn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?s(this._cfg.storesSource,e):e,e=t._versions;var n={},r={};return e.forEach(function(e){s(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)}),t._dbSchema=r,rn(t,[t._allTables,t,t.Transaction.prototype]),nn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(r),r),t._storeNames=i(r),this},gn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||X,e),this},gn);function gn(){}function vn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new nr(tt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function yn(e){return e&&"function"==typeof e.databases}function _n(e){return ze(function(){return ve.letThrough=!0,e()})}function bn(e){return!("from"in e)}var xn=function(e,t){if(!this){var n=new xn;return e&&"d"in e&&s(n,e),n}s(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function wn(e,t,n){var r=lt(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(bn(e))return s(e,{from:t,to:n,d:1});var i=e.l;if(r=e.r,lt(n,e.from)<0)return i?wn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},An(e);if(0<lt(t,e.to))return r?wn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},An(e);lt(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<lt(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&Sn(e,i),r&&n&&Sn(e,r)}}function Sn(e,t){bn(t)||function e(t,n){var r=n.from,i=n.to,o=n.l;n=n.r,wn(t,r,i),o&&e(t,o),n&&e(t,n)}(e,t)}function En(e,t){var n=Tn(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=Tn(e),s=o.next(i.from),a=s.value;!r.done&&!s.done;){if(lt(a.from,i.to)<=0&&0<=lt(a.to,i.from))return!0;lt(i.from,a.from)<0?i=(r=n.next(a.from)).value:a=(s=o.next(i.from)).value}return!1}function Tn(e){var t=bn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&lt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||lt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function An(e){var n,r,i=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),o=1<i?"r":i<-1?"l":"";o&&(n="r"==o?"l":"r",r=t({},e),i=e[o],e.from=i.from,e.to=i.to,e[o]=i[o],r[o]=i[n],(e[n]=r).d=Mn(r)),e.d=Mn(e)}function Mn(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function Cn(e,t){return i(t).forEach(function(n){e[n]?Sn(e[n],t[n]):e[n]=function e(t){var n,r,i={};for(n in t)c(t,n)&&(r=t[n],i[n]=!r||"object"!=typeof r||A.has(r.constructor)?r:e(r));return i}(t[n])}),e}function On(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&En(t[n],e[n])})}u(xn.prototype,((F={add:function(e){return Sn(this,e),this},addKey:function(e){return wn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return wn(t,e,e)}),this},hasKey:function(e){var t=Tn(this).next(e).value;return t&&lt(t.from,e)<=0&&0<=lt(t.to,e)}})[I]=function(){return Tn(this)},F));var Rn={},In={},kn=!1;function Pn(e){Cn(In,e),kn||(kn=!0,setTimeout(function(){kn=!1,Nn(In,!(In={}))},0))}function Nn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(Rn);r<i.length;r++)Dn(s=i[r],e,n,t);else for(var o in e){var s,a=/^idb\:\/\/(.*)\/(.*)\//.exec(o);a&&(o=a[1],a=a[2],(s=Rn["idb://".concat(o,"/").concat(a)])&&Dn(s,e,n,t))}n.forEach(function(e){return e()})}function Dn(e,t,n,r){for(var i=[],o=0,s=Object.entries(e.queries.query);o<s.length;o++){for(var a=s[o],l=a[0],c=[],u=0,h=a[1];u<h.length;u++){var f=h[u];On(t,f.obsSet)?f.subscribers.forEach(function(e){return n.add(e)}):r&&c.push(f)}r&&i.push([l,c])}if(r)for(var d=0,p=i;d<p.length;d++){var m=p[d];l=m[0],c=m[1],e.queries.query[l]=c}}function Ln(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Ke(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,o=Math.round(10*e.verno),s=!1;function a(){if(t.openCanceller!==r)throw new G.DatabaseClosed("db.open() was cancelled")}function l(){return new xe(function(r,c){if(a(),!n)throw new G.MissingAPI;var u=e.name,d=t.autoSchema||!o?n.open(u):n.open(u,o);if(!d)throw new G.MissingAPI;d.onerror=Ut(c),d.onblocked=Pe(e._fireOnBlocked),d.onupgradeneeded=Pe(function(r){var i;h=d.transaction,t.autoSchema&&!e._options.allowEmptyDB?(d.onerror=Bt,h.abort(),d.result.close(),(i=n.deleteDatabase(u)).onsuccess=i.onerror=Pe(function(){c(new G.NoSuchDatabase("Database ".concat(u," doesnt exist")))})):(h.onerror=Ut(c),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,f=r<1,e.idbdb=d.result,s&&an(e,h),sn(e,r/10,h,c))},c),d.onsuccess=Pe(function(){h=null;var n,a,c,p,m,v=e.idbdb=d.result,y=g(v.objectStoreNames);if(0<y.length)try{var _=v.transaction(1===(p=y).length?p[0]:p,"readonly");if(t.autoSchema)a=v,c=_,(n=e).verno=a.version/10,c=n._dbSchema=fn(0,a,c),n._storeNames=g(a.objectStoreNames,0),nn(n,[n._allTables],i(c),c);else if(dn(e,e._dbSchema,_),((m=ln(fn(0,(m=e).idbdb,_),m._dbSchema)).add.length||m.change.some(function(e){return e.add.length||e.change.length}))&&!s)return v.close(),o=v.version+1,s=!0,r(l());tn(e,_)}catch(b){}et.push(e),v.onversionchange=Pe(function(n){t.vcFired=!0,e.on("versionchange").fire(n)}),v.onclose=Pe(function(){e.close({disableAutoOpen:!1})}),f&&(m=e._deps,_=u,v=m.indexedDB,m=m.IDBKeyRange,yn(v)||_===tt||vn(v,m).put({name:_}).catch(X)),r()},c)}).catch(function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,l();break;case"VersionError":if(0<o)return o=0,l()}return xe.reject(e)})}var c,u=t.dbReadyResolve,h=null,f=!1;return xe.race([r,("undefined"==typeof navigator?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}c=setInterval(t,100),t()}).finally(function(){return clearInterval(c)}):Promise.resolve()).then(l)]).then(function(){return a(),t.onReadyBeingFired=[],xe.resolve(_n(function(){return e.on.ready.fire(e.vip)})).then(function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(ne,X);return t.onReadyBeingFired=[],xe.resolve(_n(function(){return r(e.vip)})).then(n)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(n){t.dbOpenError=n;try{h&&h.abort()}catch(i){}return r===t.openCanceller&&e._close(),Ke(n)}).finally(function(){t.openComplete=!0,u()}).then(function(){var t;return f&&(t={},e.tables.forEach(function(n){n.schema.indexes.forEach(function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new xn(-1/0,[[[]]]))}),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new xn(-1/0,[[[]]])}),jt(zt).fire(t),Nn(t,!0)),e})}function Fn(e){function t(t){return e.next(t)}var n=i(t),r=i(function(t){return e.throw(t)});function i(e){return function(t){var i=e(t);return t=i.value,i.done?t:t&&"function"==typeof t.then?t.then(n,r):o(t)?Promise.all(t).then(n,r):n(t)}}return i(t)()}function Un(e,t,n){for(var r=o(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Bn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),i=r.schema,o={},s=[];function a(e,n,r){var i=Jt(e),l=o[i]=o[i]||[],c=null==e?0:"string"==typeof e?1:e.length,u=0<n;return u=t(t({},r),{name:u?"".concat(i,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:u,keyTail:n,keyLength:c,extractKey:Yt(e),unique:!u&&r.unique}),l.push(u),u.isPrimaryKey||s.push(u),1<c&&a(2===c?e[0]:e.slice(0,c-1),n+1,r),l.sort(function(e,t){return e.keyTail-t.keyTail}),u}n=a(i.primaryKey.keyPath,0,i.primaryKey),o[":id"]=[n];for(var l=0,c=i.indexes;l<c.length;l++){var u=c[l];a(u.keyPath,0,u)}function h(n){var r,i=n.query.index;return i.isVirtual?t(t({},n),{query:{index:i.lowLevelIndex,range:(r=n.query.range,i=i.keyTail,{type:1===r.type?2:r.type,lower:Un(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Un(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},i),{primaryKey:n,indexes:s,getIndexByKeyPath:function(e){return(e=o[Jt(e)])&&e[0]}}),count:function(e){return r.count(h(e))},query:function(e){return r.query(h(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,o=n.isVirtual,s=n.keyLength;return o?r.openCursor(h(t)).then(function(e){return e&&a(e)}):r.openCursor(t);function a(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Un(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,s).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Un(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===s?e[0]:e.slice(0,s)}},value:{get:function(){return n.value}}})}}})}})}};function zn(e,t,n,r){return n=n||{},r=r||"",i(e).forEach(function(i){var o,s,a;c(t,i)?(o=e[i],s=t[i],"object"==typeof o&&"object"==typeof s&&o&&s?(a=R(o))!==R(s)?n[r+i]=t[i]:"Object"===a?zn(o,s,n,r+i+"."):o!==s&&(n[r+i]=t[i]):o!==s&&(n[r+i]=t[i])):n[r+i]=void 0}),i(t).forEach(function(i){c(e,i)||(n[r+i]=t[i])}),n}function Vn(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var jn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(r){var i=e.table(r),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var s=ve.trans,a=s.table(r).hook,l=a.deleting,u=a.creating,h=a.updating;switch(e.type){case"add":if(u.fire===X)break;return s._promise("readwrite",function(){return f(e)},!0);case"put":if(u.fire===X&&h.fire===X)break;return s._promise("readwrite",function(){return f(e)},!0);case"delete":if(l.fire===X)break;return s._promise("readwrite",function(){return f(e)},!0);case"deleteRange":if(l.fire===X)break;return s._promise("readwrite",function(){return function e(n,r,s){return i.query({trans:n,values:!1,query:{index:o,range:r},limit:s}).then(function(i){var o=i.result;return f({type:"delete",keys:o,trans:n}).then(function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):o.length<s?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:o[o.length-1],lowerOpen:!0}),s)})})}(e.trans,e.range,1e4)},!0)}return i.mutate(e);function f(e){var r,s,a,f=ve.trans,d=e.keys||Vn(o,e);if(!d)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:d}):t({},e)).type&&(e.values=n([],e.values)),e.keys&&(e.keys=n([],e.keys)),r=i,a=d,("add"===(s=e).type?Promise.resolve([]):r.getMany({trans:s.trans,keys:a,cache:"immutable"})).then(function(t){var n=d.map(function(n,r){var i,s,a,d=t[r],p={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(p,n,d,f):"add"===e.type||void 0===d?(i=u.fire.call(p,n,e.values[r],f),null==n&&null!=i&&(e.keys[r]=n=i,o.outbound||x(e.values[r],o.keyPath,n))):(i=zn(d,e.values[r]),(s=h.fire.call(p,i,n,d,f))&&(a=e.values[r],Object.keys(s).forEach(function(e){c(a,e)?a[e]=s[e]:x(a,e,s[e])}))),p});return i.mutate(e).then(function(r){for(var i=r.failures,o=r.results,s=r.numFailures,a=(r=r.lastResult,0);a<d.length;++a){var l=(o||d)[a],c=n[a];null==l?c.onerror&&c.onerror(i[a]):c.onsuccess&&c.onsuccess("put"===e.type&&t[a]?e.values[a]:l)}return{failures:i,results:o,numFailures:s,lastResult:r}}).catch(function(e){return n.forEach(function(t){return t.onerror&&t.onerror(e)}),Promise.reject(e)})})}}})}})}};function Hn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)0===lt(t.keys[i],e[o])&&(r.push(n?C(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(s){return null}}var Wn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=Hn(e.keys,e.trans._cache,"clone"===e.cache);return t?xe.resolve(t):r.getMany(e).then(function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?C(t):t},t})},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function Gn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function qn(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var $n={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,r=new xn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(ve.subscr&&"readonly"!==n)throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return e.transaction(t,n,r)},table:function(s){var a=e.table(s),l=a.schema,c=l.primaryKey,u=l.indexes,h=c.extractKey,f=c.outbound,d=c.autoIncrement&&u.filter(function(e){return e.compound&&e.keyPath.includes(c.keyPath)}),p=t(t({},a),{mutate:function(t){function i(e){return e="idb://".concat(n,"/").concat(s,"/").concat(e),m[e]||(m[e]=new xn)}var u,h,f,p=t.trans,m=t.mutatedParts||(t.mutatedParts={}),g=i(""),v=i(":dels"),y=t.type,_=(x="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[Vn(c,t).filter(function(e){return e}),t.values]:[])[0],b=x[1],x=t.trans._cache;return o(_)?(g.addKeys(_),(x="delete"===y||_.length===b.length?Hn(_,x):null)||v.addKeys(_),(x||b)&&(u=i,h=x,f=b,l.indexes.forEach(function(e){var t=u(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function r(n){return e.multiEntry&&o(n)?n.forEach(function(e){return t.addKey(e)}):t.addKey(n)}(h||f).forEach(function(e,t){var i=h&&n(h[t]);0!==lt(i,t=f&&n(f[t]))&&(null!=i&&r(i),null!=t&&r(t))})}))):_?(b={from:null!==(b=_.lower)&&void 0!==b?b:e.MIN_KEY,to:null!==(b=_.upper)&&void 0!==b?b:e.MAX_KEY},v.add(b),g.add(b)):(g.add(r),v.add(r),l.indexes.forEach(function(e){return i(e.name).add(r)})),a.mutate(t).then(function(e){return!_||"add"!==t.type&&"put"!==t.type||(g.addKeys(e.results),d&&d.forEach(function(n){for(var r=t.values.map(function(e){return n.extractKey(e)}),o=n.keyPath.findIndex(function(e){return e===c.keyPath}),s=0,a=e.results.length;s<a;++s)r[s][o]=e.results[s];i(n.name).addKeys(r)})),p.mutatedParts=Cn(p.mutatedParts||{},m),e})}}),m={get:function(e){return[c,new xn(e.key)]},getMany:function(e){return[c,(new xn).addKeys(e.keys)]},count:u=function(t){t=(n=t.query).index;var n=n.range;return[t,new xn(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},query:u,openCursor:u};return i(m).forEach(function(e){p[e]=function(i){var o=!!(p=ve.subscr),l=Gn(ve,a)&&qn(e,i)?i.obsSet={}:p;if(o){var c=function(e){return e="idb://".concat(n,"/").concat(s,"/").concat(e),l[e]||(l[e]=new xn)},u=c(""),d=c(":dels"),p=(o=(p=m[e](i))[0],p[1]);if(("query"===e&&o.isPrimaryKey&&!i.values?d:c(o.name||"")).add(p),!o.isPrimaryKey){if("count"!==e){var g="query"===e&&f&&i.values&&a.query(t(t({},i),{values:!1}));return a[e].apply(this,arguments).then(function(t){if("query"===e){if(f&&i.values)return g.then(function(e){return e=e.result,u.addKeys(e),t});var n=i.values?t.result.map(h):t.result;(i.values?u:d).addKeys(n)}else if("openCursor"===e){var r=t,o=i.values;return r&&Object.create(r,{key:{get:function(){return d.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return d.addKey(e),e}},value:{get:function(){return o&&u.addKey(r.primaryKey),r.value}}})}return t})}d.add(r)}}return a[e].apply(this,arguments)}}),p}})}};function Xn(e,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var i=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===i?null:(n=t({},n),o(n.keys)&&(n.keys=n.keys.filter(function(e,t){return!(t in r.failures)})),"values"in n&&o(n.values)&&(n.values=n.values.filter(function(e,t){return!(t in r.failures)})),n)}function Yn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<lt(n,r.lower):0<=lt(n,r.lower)))&&(void 0===t.upper||(t.upperOpen?lt(e,t.upper)<0:lt(e,t.upper)<=0));var n,r}function Kn(e,t,n,r,i,s){if(!n||0===n.length)return e;var a=t.query.index,l=a.multiEntry,c=t.query.range,u=r.schema.primaryKey.extractKey,h=a.extractKey,f=(a.lowLevelIndex||a).extractKey;return(n=n.reduce(function(e,n){var r=e,i=[];if("add"===n.type||"put"===n.type)for(var s=new xn,a=n.values.length-1;0<=a;--a){var f,d=n.values[a],p=u(d);s.hasKey(p)||(f=h(d),(l&&o(f)?f.some(function(e){return Yn(e,c)}):Yn(f,c))&&(s.addKey(p),i.push(d)))}switch(n.type){case"add":var m=(new xn).addKeys(t.values?e.map(function(e){return u(e)}):e);r=e.concat(t.values?i.filter(function(e){return e=u(e),!m.hasKey(e)&&(m.addKey(e),!0)}):i.map(function(e){return u(e)}).filter(function(e){return!m.hasKey(e)&&(m.addKey(e),!0)}));break;case"put":var g=(new xn).addKeys(n.values.map(function(e){return u(e)}));r=e.filter(function(e){return!g.hasKey(t.values?u(e):e)}).concat(t.values?i:i.map(function(e){return u(e)}));break;case"delete":var v=(new xn).addKeys(n.keys);r=e.filter(function(e){return!v.hasKey(t.values?u(e):e)});break;case"deleteRange":var y=n.range;r=e.filter(function(e){return!Yn(u(e),y)})}return r},e))===e?e:(n.sort(function(e,t){return lt(f(e),f(t))||lt(u(e),u(t))}),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(i.dirty=!0)),s?Object.freeze(n):n)}function Zn(e,t){return 0===lt(e.lower,t.lower)&&0===lt(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Jn(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=lt(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=lt(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Qn(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var r,i;e.subscribers.delete(n),0===e.subscribers.size&&(r=e,i=t,setTimeout(function(){0===r.subscribers.size&&P(i,r)},3e3))})}var er={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,i){var o,s,a=e.transaction(t,r,i);return"readwrite"===r&&(s=(o=new AbortController).signal,i=function(i){return function(){if(o.abort(),"readwrite"===r){for(var s=new Set,l=0,c=t;l<c.length;l++){var u=c[l],h=Rn["idb://".concat(n,"/").concat(u)];if(h){var f=e.table(u),d=h.optimisticOps.filter(function(e){return e.trans===a});if(a._explicit&&i&&a.mutatedParts)for(var p=0,m=Object.values(h.queries.query);p<m.length;p++)for(var g=0,v=(b=m[p]).slice();g<v.length;g++)On((x=v[g]).obsSet,a.mutatedParts)&&(P(b,x),x.subscribers.forEach(function(e){return s.add(e)}));else if(0<d.length){h.optimisticOps=h.optimisticOps.filter(function(e){return e.trans!==a});for(var y=0,_=Object.values(h.queries.query);y<_.length;y++)for(var b,x,w,S=0,E=(b=_[y]).slice();S<E.length;S++)null!=(x=E[S]).res&&a.mutatedParts&&(i&&!x.dirty?(w=Object.isFrozen(x.res),w=Kn(x.res,x.req,d,f,x,w),x.dirty?(P(b,x),x.subscribers.forEach(function(e){return s.add(e)})):w!==x.res&&(x.res=w,x.promise=xe.resolve({result:w}))):(x.dirty&&P(b,x),x.subscribers.forEach(function(e){return s.add(e)})))}}}s.forEach(function(e){return e()})}}},a.addEventListener("abort",i(!1),{signal:s}),a.addEventListener("error",i(!1),{signal:s}),a.addEventListener("complete",i(!0),{signal:s})),a},table:function(r){var i=e.table(r),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var s=ve.trans;if(o.outbound||"disabled"===s.db._options.cache||s.explicit||"readwrite"!==s.idbtrans.mode)return i.mutate(e);var a=Rn["idb://".concat(n,"/").concat(r)];return a?(s=i.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||Vn(o,e).some(function(e){return null==e}))?(a.optimisticOps.push(e),e.mutatedParts&&Pn(e.mutatedParts),s.then(function(t){0<t.numFailures&&(P(a.optimisticOps,e),(t=Xn(0,e,t))&&a.optimisticOps.push(t),e.mutatedParts&&Pn(e.mutatedParts))}),s.catch(function(){P(a.optimisticOps,e),e.mutatedParts&&Pn(e.mutatedParts)})):s.then(function(n){var r=Xn(0,t(t({},e),{values:e.values.map(function(e,r){var i;return n.failures[r]||x(e=null!==(i=o.keyPath)&&void 0!==i&&i.includes(".")?C(e):t({},e),o.keyPath,n.results[r]),e})}),n);a.optimisticOps.push(r),queueMicrotask(function(){return e.mutatedParts&&Pn(e.mutatedParts)})}),s):i.mutate(e)},query:function(e){if(!Gn(ve,i)||!qn("query",e))return i.query(e);var t="immutable"===(null===(a=ve.trans)||void 0===a?void 0:a.db._options.cache),o=(c=ve).requery,s=c.signal,a=function(e,t,n,r){var i=Rn["idb://".concat(e,"/").concat(t)];if(!i)return[];if(!(t=i.queries[n]))return[null,!1,i,null];var o=t[(r.query?r.query.index.name:null)||""];if(!o)return[null,!1,i,null];switch(n){case"query":var s=o.find(function(e){return e.req.limit===r.limit&&e.req.values===r.values&&Zn(e.req.query.range,r.query.range)});return s?[s,!0,i,o]:[o.find(function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&Jn(e.req.query.range,r.query.range)}),!1,i,o];case"count":return[s=o.find(function(e){return Zn(e.req.query.range,r.query.range)}),!!s,i,o]}}(n,r,"query",e),l=a[0],c=a[1],u=a[2],h=a[3];return l&&c?l.obsSet=e.obsSet:(c=i.query(e).then(function(e){var n=e.result;if(l&&(l.res=n),t){for(var r=0,i=n.length;r<i;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=C(n);return e}).catch(function(e){return h&&l&&P(h,l),Promise.reject(e)}),l={obsSet:e.obsSet,promise:c,subscribers:new Set,type:"query",req:e,dirty:!1},h?h.push(l):(h=[l],(u=u||(Rn["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=h)),Qn(l,h,o,s),l.promise.then(function(n){return{result:Kn(n.result,e,null==u?void 0:u.optimisticOps,i,l,t)}})}})}})}};function tr(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var nr=(rr.prototype.version=function(e){if(isNaN(e)||e<.1)throw new G.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(t){return t._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(on),n.stores({}),this._state.autoSchema=!1,n)},rr.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?e():new xe(function(e,n){if(t._state.openComplete)return n(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new G.DatabaseClosed);t.open().catch(X)}t._state.dbReadyPromise.then(e,n)}).then(e)},rr.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==r?10:r,name:i}),e.sort(function(e,t){return e.level-t.level}),this},rr.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return r?e.create!==r:!!n&&e.name!==n})),this},rr.prototype.open=function(){var e=this;return $e(ge,function(){return Ln(e)})},rr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=et.indexOf(this);if(0<=t&&et.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(n){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new xe(function(t){e.dbReadyResolve=t}),e.openCanceller=new xe(function(t,n){e.cancelOpen=n}))},rr.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new G.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new G.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},rr.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new xe(function(i,o){function s(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Pe(function(){var e,n,r;e=t._deps,n=t.name,r=e.indexedDB,e=e.IDBKeyRange,yn(r)||n===tt||vn(r,e).delete(n).catch(X),i()}),n.onerror=Ut(o),n.onblocked=t._fireOnBlocked}if(n)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})},rr.prototype.backendDB=function(){return this.idbdb},rr.prototype.isOpen=function(){return null!==this.idbdb},rr.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},rr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},rr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rr.prototype,"tables",{get:function(){var e=this;return i(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),rr.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new G.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,E(i),n]}.apply(this,arguments);return this._transaction.apply(this,e)},rr.prototype._transaction=function(e,t,n){var r=this,i=ve.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var o,s,a=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(s=t.map(function(e){if("string"!=typeof(e=e instanceof r.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==e||e===nt)o=nt;else{if("rw"!=e&&e!=rt)throw new G.InvalidArgument("Invalid transaction mode: "+e);o=rt}if(i){if(i.mode===nt&&o===rt){if(!a)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!a)throw new G.SubTransaction("Table "+e+" not included in parent transaction.");i=null}}),a&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,function(e,t){t(c)}):Ke(c)}var l=function e(t,n,r,i,o){return xe.resolve().then(function(){var s=ve.transless||ve,a=t._createTransaction(n,r,t._dbSchema,i);if(a.explicit=!0,s={trans:a,transless:s},i)a.idbtrans=i.idbtrans;else try{a.create(),a.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(u){return u.name===H.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,null,o)})):Ke(u)}var l,c=L(o);return c&&Ve(),s=xe.follow(function(){var e;(l=o.call(a,a))&&(c?(e=je.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=Fn(l)))},s),(l&&"function"==typeof l.then?xe.resolve(l).then(function(e){return a.active?e:Ke(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):s.then(function(){return l})).then(function(e){return i&&a._resolve(),a._completion.then(function(){return e})}).catch(function(e){return a._reject(e),Ke(e)})})}.bind(null,this,o,s,i,n);return i?i._promise(o,l,"lock"):ve.trans?$e(ve.transless,function(){return r._whenReady(l)}):this._whenReady(l)},rr.prototype.table=function(e){if(!c(this._allTables,e))throw new G.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},rr);function rr(e,n){var r=this;this._middlewares={},this.verno=0;var i=rr.dependencies;this._options=n=t({addons:rr.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},i=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,s,a,l,c,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:X,dbReadyPromise:null,cancelOpen:X,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};u.dbReadyPromise=new xe(function(e){u.dbReadyResolve=e}),u.openCanceller=new xe(function(e,t){u.cancelOpen=t}),this._state=u,this.name=e,this.on=vt(this,"populate","blocked","versionchange","close",{ready:[ne,X]}),this.once=function(e,t){var n=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r.on(e).unsubscribe(n),t.apply(r,i)};return r.on(e,n)},this.on.ready.subscribe=v(this.on.ready.subscribe,function(e){return function(t,n){rr.vip(function(){var i,o=r._state;o.openComplete?(o.dbOpenError||xe.resolve().then(t),n&&e(t)):o.onReadyBeingFired?(o.onReadyBeingFired.push(t),n&&e(t)):(e(t),i=r,n||e(function e(){i.on.ready.unsubscribe(t),i.on.ready.unsubscribe(e)}))})}}),this.Collection=(o=this,yt(At.prototype,function(e,t){this.db=o;var n=ot,r=null;if(t)try{n=t()}catch(s){r=s}var i=e._ctx;e=(t=i.table).hook.reading.fire,this._ctx={table:t,index:i.index,isPrimKey:!i.index||t.schema.primKey.keyPath&&i.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:e!==Y?e:null}})),this.Table=(s=this,yt(mt.prototype,function(e,t,n){this.db=s,this._tx=n,this.name=e,this.schema=t,this.hook=s._allTables[e]?s._allTables[e].hook:vt(null,{creating:[J,X],reading:[K,Y],updating:[ee,X],deleting:[Q,X]})})),this.Transaction=(a=this,yt(Ht.prototype,function(e,t,n,r,i){var o=this;"readonly"!==e&&t.forEach(function(e){(e=null===(e=n[e])||void 0===e?void 0:e.yProps)&&(t=t.concat(e.map(function(e){return e.updatesTable})))}),this.db=a,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=vt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(e,t){o._resolve=e,o._reject=t}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),Ke(e)})})),this.Version=(l=this,yt(mn.prototype,function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(c=this,yt(Lt.prototype,function(e,t,n){if(this.db=c,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=lt,this._descending=function(e,t){return lt(t,e)},this._max=function(e,t){return 0<lt(e,t)?e:t},this._min=function(e,t){return lt(e,t)<0?e:t},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI})),this.on("versionchange",function(e){e.newVersion,r.close({disableAutoOpen:!1})}),this.on("blocked",function(e){!e.newVersion||(e.newVersion,e.oldVersion)}),this._maxKey=Xt(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),et.filter(function(e){return e.name===r.name&&e!==r&&!e._state.vcFired}).map(function(t){return t.on("versionchange").fire(e)})},this.use(Wn),this.use(er),this.use($n),this.use(Bn),this.use(jn);var h=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return tr(r.table(e),h)};var i=Reflect.get(e,t,n);return i instanceof mt?tr(i,h):"tables"===t?i.map(function(e){return tr(e,h)}):"_createTransaction"===t?function(){return tr(i.apply(this,arguments),h)}:i}});this.vip=h,i.forEach(function(e){return e(r)})}F="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var ir,or=(sr.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},sr.prototype[F]=function(){return this},sr);function sr(e){this._subscribe=e}try{ir={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(dr){ir={indexedDB:null,IDBKeyRange:null}}function ar(e){var t,n=!1,r=new or(function(r){var i,o=L(e),s=!1,a={},l={},u={get closed(){return s},unsubscribe:function(){s||(s=!0,i&&i.abort(),h&&jt.storagemutated.unsubscribe(d))}};r.start&&r.start(u);var h=!1,f=function(){return Ye(p)},d=function(e){Cn(a,e),On(l,a)&&f()},p=function(){var u,p,m;!s&&ir.indexedDB&&(a={},u={},i&&i.abort(),i=new AbortController,m=function(t){var n=Oe();try{o&&Ve();var r=ze(e,t);return r=o?r.finally(je):r}finally{n&&Re()}}(p={subscr:u,signal:i.signal,requery:f,querier:e,trans:null}),Promise.resolve(m).then(function(e){n=!0,t=e,s||p.signal.aborted||(a={},function(e){for(var t in e)if(c(e,t))return;return 1}(l=u)||h||(jt(zt,d),h=!0),Ye(function(){return!s&&r.next&&r.next(e)}))},function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||s||Ye(function(){s||r.error&&r.error(e)})}))};return setTimeout(f,0),u});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var lr=nr;function cr(e){var t=hr;try{hr=!0,jt.storagemutated.fire(e),Nn(e,!0)}finally{hr=t}}u(lr,t(t({},$),{delete:function(e){return new lr(e,{addons:[]}).delete()},exists:function(e){return new lr(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=(t=lr.dependencies).indexedDB,t=t.IDBKeyRange,(yn(n)?Promise.resolve(n.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==tt})}):vn(n,t).toCollection().primaryKeys()).then(e)}catch(r){return Ke(new G.MissingAPI)}var t,n},defineClass:function(){return function(e){s(this,e)}},ignoreTransaction:function(e){return ve.trans?$e(ve.transless,e):e()},vip:_n,async:function(e){return function(){try{var t=Fn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:xe.resolve(t)}catch(n){return Ke(n)}}},spawn:function(e,t,n){try{var r=Fn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:xe.resolve(r)}catch(i){return Ke(i)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(e,t){return t=xe.resolve("function"==typeof e?lr.ignoreTransaction(e):e).timeout(t||6e4),ve.trans?ve.trans.waitFor(t):t},Promise:xe,debug:{get:function(){return re},set:function(e){ie(e)}},derive:d,extend:s,props:u,override:v,Events:vt,on:jt,liveQuery:ar,extendObservabilitySet:Cn,getByKeyPath:b,setByKeyPath:x,delByKeyPath:function(e,t){"string"==typeof t?x(e,t,void 0):"length"in t&&[].map.call(t,function(t){x(e,t,void 0)})},shallowClone:w,deepClone:C,getObjectDiff:zn,cmp:lt,asap:_,minKey:-1/0,addons:[],connections:et,errnames:H,dependencies:ir,cache:Rn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),lr.maxKey=Xt(lr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(jt(zt,function(e){hr||(e=new CustomEvent(Vt,{detail:e}),hr=!0,dispatchEvent(e),hr=!1)}),addEventListener(Vt,function(e){e=e.detail,hr||cr(e)}));var ur,hr=!1,fr=function(){};return"undefined"!=typeof BroadcastChannel&&((fr=function(){(ur=new BroadcastChannel(Vt)).onmessage=function(e){return e.data&&cr(e.data)}})(),"function"==typeof ur.unref&&ur.unref(),jt(zt,function(e){hr||ur.postMessage(e)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(e){if(!nr.disableBfCache&&e.persisted){null!=ur&&ur.close();for(var t=0,n=et;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!nr.disableBfCache&&e.persisted&&(fr(),cr({all:new xn(-1/0,[[]])}))})),xe.rejectionMapper=function(e,t){return!e||e instanceof B||e instanceof TypeError||e instanceof SyntaxError||!e.name||!q[e.name]?e:(t=new q[e.name](t||e.message,e),"stack"in e&&f(t,"stack",{get:function(){return this.inner.stack}}),t)},ie(re),t(nr,Object.freeze({__proto__:null,Dexie:nr,liveQuery:ar,Entity:at,cmp:lt,PropModification:ft,replacePrefix:function(e,t){return new ft({replacePrefix:[e,t]})},add:function(e){return new ft({add:e})},remove:function(e){return new ft({remove:e})},default:nr,RangeSet:xn,mergeRanges:Sn,rangesOverlap:En}),{default:nr}),nr}()),LR.exports);const UR=yR(FR),BR=Symbol.for("Dexie"),zR=globalThis[BR]||(globalThis[BR]=UR);if(UR.semVer!==zR.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${UR.semVer} and ${zR.semVer}`);const{liveQuery:VR,mergeRanges:jR,rangesOverlap:HR,RangeSet:WR,cmp:GR,Entity:qR,PropModification:$R,replacePrefix:XR,add:YR,remove:KR,DexieYProvider:ZR}=zR;function JR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QR(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var eI,tI,nI,rI,iI,oI,sI,aI,lI,cI,uI,hI,fI,dI,pI,mI,gI,vI,yI,_I,bI,xI,wI,SI,EI,TI,AI,MI,CI,OI,RI,II,kI={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},PI={duration:.5,overwrite:!1,delay:0},NI=1e8,DI=1e-8,LI=2*Math.PI,FI=LI/4,UI=0,BI=Math.sqrt,zI=Math.cos,VI=Math.sin,jI=function(e){return"string"==typeof e},HI=function(e){return"function"==typeof e},WI=function(e){return"number"==typeof e},GI=function(e){return void 0===e},qI=function(e){return"object"==typeof e},$I=function(e){return!1!==e},XI=function(){return"undefined"!=typeof window},YI=function(e){return HI(e)||jI(e)},KI="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},ZI=Array.isArray,JI=/random\([^)]+\)/g,QI=/,\s*/g,ek=/(?:-?\.?\d|\.)+/gi,tk=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,nk=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,rk=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ik=/[+-]=-?[.\d]+/,ok=/[^,'"\[\]\s]+/gi,sk=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ak={},lk={},ck=function(e){return(lk=Bk(e,ak))&&BN},uk=function(e,t){},hk=function(e,t){return!t&&void 0},fk=function(e,t){return e&&(ak[e]=t)&&lk&&(lk[e]=t)||ak},dk=function(){return 0},pk={suppressEvents:!0,isStart:!0,kill:!1},mk={suppressEvents:!0,kill:!1},gk={suppressEvents:!0},vk={},yk=[],_k={},bk={},xk={},wk=30,Sk=[],Ek="",Tk=function(e){var t,n,r=e[0];if(qI(r)||HI(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Sk.length;n--&&!Sk[n].targetTest(r););t=Sk[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new QP(e[n],t)))||e.splice(n,1);return e},Ak=function(e){return e._gsap||Tk(gP(e))[0]._gsap},Mk=function(e,t,n){return(n=e[t])&&HI(n)?e[t]():GI(n)&&e.getAttribute&&e.getAttribute(t)||n},Ck=function(e,t){return(e=e.split(",")).forEach(t)||e},Ok=function(e){return Math.round(1e5*e)/1e5||0},Rk=function(e){return Math.round(1e7*e)/1e7||0},Ik=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},kk=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Pk=function(){var e,t,n=yk.length,r=yk.slice(0);for(_k={},yk.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Nk=function(e){return!!(e._initted||e._startAt||e.add)},Dk=function(e,t,n,r){yk.length&&!tI&&Pk(),e.render(t,n,!!(tI&&t<0&&Nk(e))),yk.length&&!tI&&Pk()},Lk=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(ok).length<2?t:jI(e)?e.trim():e},Fk=function(e){return e},Uk=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},Bk=function(e,t){for(var n in t)e[n]=t[n];return e},zk=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=qI(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},Vk=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},jk=function(e){var t,n=e.parent||rI,r=e.keyframes?(t=ZI(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Uk;if($I(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Hk=function(e,t,n,r,i){var o,s=e[r];if(i)for(o=t[i];s&&s[i]>o;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},Wk=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Gk=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},qk=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},$k=function(e,t,n,r){return e._startAt&&(tI?e._startAt.revert(mk):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Xk=function e(t){return!t||t._ts&&e(t.parent)},Yk=function(e){return e._repeat?Kk(e._tTime,e=e.duration()+e._rDelay)*e:0},Kk=function(e,t){var n=Math.floor(e=Rk(e/t));return e&&n===e?n-1:n},Zk=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Jk=function(e){return e._end=Rk(e._start+(e._tDur/Math.abs(e._ts||e._rts||DI)||0))},Qk=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Rk(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Jk(e),n._dirty||qk(n,e)),e},eP=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Zk(e.rawTime(),t),(!t._dur||fP(0,t.totalDuration(),n)-t._tTime>DI)&&t.render(n,!0)),qk(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},tP=function(e,t,n,r){return t.parent&&Gk(t),t._start=Rk((WI(n)?n:n||e!==rI?cP(e,n,t):e._time)+t._delay),t._end=Rk(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Hk(e,t,"_first","_last",e._sort?"_start":0),oP(t)||(e._recent=t),r||eP(e,t),e._ts<0&&Qk(e,e._tTime),e},nP=function(e,t){return ak.ScrollTrigger?ak.ScrollTrigger.create(t,e):void 0},rP=function(e,t,n,r,i){return aN(e,t,i),e._initted?!n&&e._pt&&!tI&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&lI!==zP.frame?(yk.push(e),e._lazy=[i,r],1):void 0:1},iP=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},oP=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},sP=function(e,t,n,r){var i=e._repeat,o=Rk(t)||0,s=e._tTime/e._tDur;return s&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Rk(o*(i+1)+e._rDelay*i):o,s>0&&!r&&Qk(e,e._tTime=e._tDur*s),e.parent&&Jk(e),n||qk(e.parent,e),e},aP=function(e){return e instanceof tN?qk(e):sP(e,e._dur)},lP={_start:0,endTime:dk,totalDuration:dk},cP=function e(t,n,r){var i,o,s,a=t.labels,l=t._recent||lP,c=t.duration()>=NI?l.endTime(!1):t._dur;return jI(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?l:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=c),a[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(o=o/100*(ZI(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+o:c+o)):null==n?c:+n},uP=function(e,t,n){var r,i,o=WI(t[1]),s=(o?2:1)+(e<2?0:1),a=t[s];if(o&&(a.duration=t[1]),a.parent=n,e){for(r=a,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=$I(i.vars.inherit)&&i.parent;a.immediateRender=$I(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new fN(t[0],a,t[s+1])},hP=function(e,t){return e||0===e?t(e):t},fP=function(e,t,n){return n<e?e:n>t?t:n},dP=function(e,t){return jI(e)&&(t=sk.exec(e))?t[1]:""},pP=[].slice,mP=function(e,t){return e&&qI(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&qI(e[0]))&&!e.nodeType&&e!==iI},gP=function(e,t,n){return nI&&!t&&nI.selector?nI.selector(e):!jI(e)||n||!oI&&VP()?ZI(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return jI(e)&&!t||mP(e,1)?(r=n).push.apply(r,gP(e)):n.push(e)})||n}(e,n):mP(e)?pP.call(e,0):e?[e]:[]:pP.call((t||sI).querySelectorAll(e),0)},vP=function(e){return e=gP(e)[0]||hk()||{},function(t){var n=e.current||e.nativeElement||e;return gP(t,n.querySelectorAll?n:n===e?hk()||sI.createElement("div"):e)}},yP=function(e){return e.sort(function(){return.5-Math.random()})},_P=function(e){if(HI(e))return e;var t=qI(e)?e:{each:e},n=XP(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,l=t.axis,c=r,u=r;return jI(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(c=r[0],u=r[1]),function(e,s,h){var f,d,p,m,g,v,y,_,b,x=(h||t).length,w=o[x];if(!w){if(!(b="auto"===t.grid?0:(t.grid||[1,NI])[1])){for(y=-1e8;y<(y=h[b++].getBoundingClientRect().left)&&b<x;);b<x&&b--}for(w=o[x]=[],f=a?Math.min(b,x)*c-.5:r%b,d=b===NI?0:a?x*u/b-.5:r/b|0,y=0,_=NI,v=0;v<x;v++)p=v%b-f,m=d-(v/b|0),w[v]=g=l?Math.abs("y"===l?m:p):BI(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===r&&yP(w),w.max=y-_,w.min=_,w.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(b>x?x-1:l?"y"===l?x/b:b:Math.max(b,x/b))||0)*("edges"===r?-1:1),w.b=x<0?i-x:i,w.u=dP(t.amount||t.each)||0,n=n&&x<0?qP(n):n}return x=(w[e]-w.min)/w.max||0,Rk(w.b+(n?n(x):x)*w.v)+w.u}},bP=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Rk(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(WI(n)?0:dP(n))}},xP=function(e,t){var n,r,i=ZI(e);return!i&&qI(e)&&(n=i=e.radius||NI,e.values?(e=gP(e.values),(r=!WI(e[0]))&&(n*=n)):e=bP(e.increment)),hP(t,i?HI(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,s=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),l=NI,c=0,u=e.length;u--;)(i=r?(i=e[u].x-s)*i+(o=e[u].y-a)*o:Math.abs(e[u]-s))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||WI(t)?c:c+dP(t)}:bP(e))},wP=function(e,t,n,r){return hP(ZI(e)?!t:!0===n?!!(n=0):!r,function(){return ZI(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},SP=function(e,t,n){return hP(n,function(n){return e[~~t(n)]})},EP=function(e){return e.replace(JI,function(e){var t=e.indexOf("[")+1,n=e.substring(t||7,t?e.indexOf("]"):e.length-1).split(QI);return wP(t?n:+n[0],t?0:+n[1],+n[2]||1e-5)})},TP=function(e,t,n,r,i){var o=t-e,s=r-n;return hP(i,function(t){return n+((t-e)/o*s||0)})},AP=function(e,t,n){var r,i,o,s=e.labels,a=NI;for(r in s)(i=s[r]-t)<0==!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},MP=function(e,t,n){var r,i,o,s=e.vars,a=s[t],l=nI,c=e._ctx;if(a)return r=s[t+"Params"],i=s.callbackScope||e,n&&yk.length&&Pk(),c&&(nI=c),o=r?a.apply(i,r):a.call(i),nI=l,o},CP=function(e){return Gk(e),e.scrollTrigger&&e.scrollTrigger.kill(!!tI),e.progress()<1&&MP(e,"onInterrupt"),e},OP=[],RP=function(e){if(e)if(e=!e.name&&e.default||e,XI()||e.headless){var t=e.name,n=HI(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:dk,render:xN,add:oN,kill:SN,modifier:wN,rawVars:0},o={targetTest:0,get:0,getSetter:vN,aliases:{},register:0};if(VP(),e!==r){if(bk[t])return;Uk(r,Uk(Vk(e,i),o)),Bk(r.prototype,Bk(i,Vk(e,o))),bk[r.prop=t]=r,e.targetTest&&(Sk.push(r),vk[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}fk(t,r),e.register&&e.register(BN,r,AN)}else OP.push(e)},IP=255,kP={aqua:[0,IP,IP],lime:[0,IP,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,IP],navy:[0,0,128],white:[IP,IP,IP],olive:[128,128,0],yellow:[IP,IP,0],orange:[IP,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[IP,0,0],pink:[IP,192,203],cyan:[0,IP,IP],transparent:[IP,IP,IP,0]},PP=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*IP+.5|0},NP=function(e,t,n){var r,i,o,s,a,l,c,u,h,f,d=e?WI(e)?[e>>16,e>>8&IP,e&IP]:0:kP.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),kP[e])d=kP[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(d=parseInt(e.substr(1,6),16))>>16,d>>8&IP,d&IP,parseInt(e.substr(7),16)/255];d=[(e=parseInt(e.substr(1),16))>>16,e>>8&IP,e&IP]}else if("hsl"===e.substr(0,3))if(d=f=e.match(ek),t){if(~e.indexOf("="))return d=e.match(tk),n&&d.length<4&&(d[3]=1),d}else s=+d[0]%360/360,a=+d[1]/100,r=2*(l=+d[2]/100)-(i=l<=.5?l*(a+1):l+a-l*a),d.length>3&&(d[3]*=1),d[0]=PP(s+1/3,r,i),d[1]=PP(s,r,i),d[2]=PP(s-1/3,r,i);else d=e.match(ek)||kP.transparent;d=d.map(Number)}return t&&!f&&(r=d[0]/IP,i=d[1]/IP,o=d[2]/IP,l=((c=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,c===u?s=a=0:(h=c-u,a=l>.5?h/(2-c-u):h/(c+u),s=c===r?(i-o)/h+(i<o?6:0):c===i?(o-r)/h+2:(r-i)/h+4,s*=60),d[0]=~~(s+.5),d[1]=~~(100*a+.5),d[2]=~~(100*l+.5)),n&&d.length<4&&(d[3]=1),d},DP=function(e){var t=[],n=[],r=-1;return e.split(FP).forEach(function(e){var i=e.match(nk)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},LP=function(e,t,n){var r,i,o,s,a="",l=(e+a).match(FP),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=NP(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(o=DP(e),(r=n.c).join(a)!==o.c.join(a)))for(s=(i=e.replace(FP,"1").split(nk)).length-1;u<s;u++)a+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!i)for(s=(i=e.split(FP)).length-1;u<s;u++)a+=i[u]+l[u];return a+i[s]},FP=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in kP)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),UP=/hsl[a]?\(/,BP=function(e){var t,n=e.join(" ");if(FP.lastIndex=0,FP.test(n))return t=UP.test(n),e[1]=LP(e[1],t),e[0]=LP(e[0],t,DP(e[1])),!0},zP=(vI=Date.now,yI=500,_I=33,bI=vI(),xI=bI,SI=wI=1e3/240,TI=function e(t){var n,r,i,o,s=vI()-xI,a=!0===t;if((s>yI||s<0)&&(bI+=s-_I),((n=(i=(xI+=s)-bI)-SI)>0||a)&&(o=++pI.frame,mI=i-1e3*pI.time,pI.time=i/=1e3,SI+=n+(n>=wI?4:wI-n),r=1),a||(hI=fI(e)),r)for(gI=0;gI<EI.length;gI++)EI[gI](i,mI,o,t)},pI={time:0,frame:0,tick:function(){TI(!0)},deltaRatio:function(e){return mI/(1e3/(e||60))},wake:function(){aI&&(!oI&&XI()&&(iI=oI=window,sI=iI.document||{},ak.gsap=BN,(iI.gsapVersions||(iI.gsapVersions=[])).push(BN.version),ck(lk||iI.GreenSockGlobals||!iI.gsap&&iI||{}),OP.forEach(RP)),dI="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,hI&&pI.sleep(),fI=dI||function(e){return setTimeout(e,SI-1e3*pI.time+1|0)},uI=1,TI(2))},sleep:function(){(dI?cancelAnimationFrame:clearTimeout)(hI),uI=0,fI=dk},lagSmoothing:function(e,t){yI=e||1/0,_I=Math.min(t||33,yI)},fps:function(e){wI=1e3/(e||240),SI=1e3*pI.time+wI},add:function(e,t,n){var r=t?function(t,n,i,o){e(t,n,i,o),pI.remove(r)}:e;return pI.remove(e),EI[n?"unshift":"push"](r),VP(),r},remove:function(e,t){~(t=EI.indexOf(e))&&EI.splice(t,1)&&gI>=t&&gI--},_listeners:EI=[]}),VP=function(){return!uI&&zP.wake()},jP={},HP=/^[\d.\-M][\d.\-,\s]/,WP=/["']/g,GP=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,l=o.length;a<l;a++)n=o[a],t=a!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[s]=isNaN(r)?r.replace(WP,"").trim():+r,s=n.substr(t+1).trim();return i},qP=function(e){return function(t){return 1-e(1-t)}},$P=function e(t,n){for(var r,i=t._first;i;)i instanceof tN?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},XP=function(e,t){return e&&(HI(e)?e:jP[e]||function(e){var t,n,r,i,o=(e+"").split("("),s=jP[o[0]];return s&&o.length>1&&s.config?s.config.apply(null,~e.indexOf("{")?[GP(o[1])]:(t=e,n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n),t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)).split(",").map(Lk)):jP._CE&&HP.test(e)?jP._CE("",e):s}(e))||t},YP=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return Ck(e,function(e){for(var t in jP[e]=ak[e]=o,jP[i=e.toLowerCase()]=n,o)jP[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=jP[e+"."+t]=o[t]}),o},KP=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},ZP=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),s=o/LI*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*VI((e-s)*o)+1},l="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:KP(a);return o=LI/o,l.config=function(n,r){return e(t,n,r)},l},JP=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:KP(r);return i.config=function(n){return e(t,n)},i};Ck("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;YP(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),jP.Linear.easeNone=jP.none=jP.Linear.easeIn,YP("Elastic",ZP("in"),ZP("out"),ZP()),AI=7.5625,OI=2*(CI=1/(MI=2.75)),RI=2.5*CI,YP("Bounce",function(e){return 1-II(1-e)},II=function(e){return e<CI?AI*e*e:e<OI?AI*Math.pow(e-1.5/MI,2)+.75:e<RI?AI*(e-=2.25/MI)*e+.9375:AI*Math.pow(e-2.625/MI,2)+.984375}),YP("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),YP("Circ",function(e){return-(BI(1-e*e)-1)}),YP("Sine",function(e){return 1===e?1:1-zI(e*FI)}),YP("Back",JP("in"),JP("out"),JP()),jP.SteppedEase=jP.steps=ak.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*fP(0,.99999999,e)|0)+i)*n}}},PI.ease=jP["quad.out"],Ck("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Ek+=e+","+e+"Params,"});var QP=function(e,t){this.id=UI++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Mk,this.set=t?t.getSetter:vN},eN=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,sP(this,+e.duration,1,1),this.data=e.data,nI&&(this._ctx=nI,nI.data.push(this)),uI||zP.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,sP(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(VP(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Qk(this,e),!n._dp||n.parent||eP(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&tP(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===DI||!this._initted&&this._dur&&e||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Dk(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Yk(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Yk(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Kk(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Zk(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(fP(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),Jk(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(VP(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==DI&&(this._tTime-=DI)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=Rk(e);var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&tP(t,this,this._start-this._delay),this}return this._start},t.endTime=function(e){return this._start+($I(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Zk(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=gk);var t=tI;return tI=e,Nk(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),tI=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,aP(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,aP(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(cP(this,e),$I(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,$I(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-DI))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this,n=t._prom;return new Promise(function(r){var i=HI(e)?e:Fk,o=function(){var e=t.then;t.then=null,n&&n(),HI(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),r(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?o():t._prom=o})},t.kill=function(){CP(this)},e}();Uk(eN.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var tN=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=$I(t.sortChildren),rI&&tP(t.parent||rI,JR(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&nP(JR(r),t.scrollTrigger),r}QR(t,e);var n=t.prototype;return n.to=function(e,t,n){return uP(0,arguments,this),this},n.from=function(e,t,n){return uP(1,arguments,this),this},n.fromTo=function(e,t,n,r){return uP(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,jk(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new fN(e,t,cP(this,n),1),this},n.call=function(e,t,n){return tP(this,fN.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,o,s){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new fN(e,n,cP(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,s){return n.runBackwards=1,jk(n).immediateRender=$I(n.immediateRender),this.staggerTo(e,t,n,r,i,o,s)},n.staggerFromTo=function(e,t,n,r,i,o,s,a){return r.startAt=n,jk(r).immediateRender=$I(r.immediateRender),this.staggerTo(e,t,r,i,o,s,a)},n.render=function(e,t,n){var r,i,o,s,a,l,c,u,h,f,d,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:Rk(e),_=this._zTime<0!=e<0&&(this._initted||!v);if(this!==rI&&y>g&&e>=0&&(y=g),y!==this._tTime||n||_){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,l=!(u=this._ts),_&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(d=this._yoyo,a=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=Rk(y%a),y===g?(s=this._repeat,r=v):((s=~~(f=Rk(y/a)))&&s===f&&(r=v,s--),r>v&&(r=v)),f=Kk(this._tTime,a),!m&&this._tTime&&f!==s&&this._tTime-f*a-this._dur<=0&&(f=s),d&&1&s&&(r=v-r,p=1),s!==f&&!this._lock){var b=d&&1&f,x=b===(d&&1&s);if(s<f&&(b=!b),m=b?0:y%v?v:y,this._lock=1,this.render(m||(p?0:Rk(s*a)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&MP(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1,f=s),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,x&&(this._lock=2,m=b?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;$P(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Rk(m),Rk(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&y&&v&&!t&&!f&&(MP(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var w=e<0?e:r;i;){if(o=i._prev,(i._act||w<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,t,n||tI&&Nk(i)),r!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=w?-1e-8:DI);break}}i=o}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,Jk(this),this.render(e,t,n);this._onUpdate&&!t&&MP(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&Gk(this,1),t||e<0&&!m||!y&&!m&&g||(MP(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(WI(t)||(t=cP(this,t,e)),!(e instanceof eN)){if(ZI(e))return e.forEach(function(e){return n.add(e,t)}),this;if(jI(e))return this.addLabel(e,t);if(!HI(e))return this;e=fN.delayedCall(0,e)}return this!==e?tP(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof fN?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return jI(e)?this.removeLabel(e):HI(e)?this.killTweensOf(e):(e.parent===this&&Wk(this,e),e===this._recent&&(this._recent=this._last),qk(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Rk(zP.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=cP(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=fN.delayedCall(0,t||dk,n);return r.data="isPause",this._hasPause=1,tP(this,r,cP(this,e))},n.removePause=function(e){var t=this._first;for(e=cP(this,e);t;)t._start===e&&"isPause"===t.data&&Gk(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)nN!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=gP(e),o=this._first,s=WI(t);o;)o instanceof fN?kk(o._targets,i)&&(s?(!nN||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=cP(r,e),o=t,s=o.startAt,a=o.onStart,l=o.onStartParams,c=o.immediateRender,u=fN.to(r,Uk({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||DI,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());u._dur!==e&&sP(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Uk({startAt:{time:cP(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),AP(this,cP(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),AP(this,cP(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+DI)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,o=this.labels;for(e=Rk(e);i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return qk(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),qk(this)},n.totalDuration=function(e){var t,n,r,i=0,o=this,s=o._last,a=NI;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(r=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,tP(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=Rk(n/o._ts),o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),a=0),s._end>i&&s._ts&&(i=s._end),s=t;sP(o,o===rI&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(rI._ts&&(Dk(rI,Zk(e,rI)),lI=zP.frame),zP.frame>=wk){wk+=kI.autoSleep||120;var t=rI._first;if((!t||!t._ts)&&kI.autoSleep&&zP._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||zP.sleep()}}},t}(eN);Uk(tN.prototype,{_lock:0,_hasPause:0,_forcing:0});var nN,rN,iN=function(e,t,n,r,i,o,s){var a,l,c,u,h,f,d,p,m=new AN(this._pt,e,t,0,1,bN,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=EP(r)),o&&(o(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(rk)||[];a=rk.exec(r);)u=a[0],h=r.substring(g,a.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(f=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:f,c:"="===u.charAt(1)?Ik(f,u)-f:parseFloat(u)-f,m:c&&c<4?Math.round:0},g=rk.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=s,(ik.test(r)||d)&&(m.e=0),this._pt=m,m},oN=function(e,t,n,r,i,o,s,a,l,c){HI(r)&&(r=r(i||0,e,o));var u,h=e[t],f="get"!==n?n:HI(h)?l?e[t.indexOf("set")||!HI(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,d=HI(h)?l?mN:pN:dN;if(jI(r)&&(~r.indexOf("random(")&&(r=EP(r)),"="===r.charAt(1)&&((u=Ik(f,r)+(dP(f)||0))||0===u)&&(r=u)),!c||f!==r||rN)return isNaN(f*r)||""===r?iN.call(this,e,t,f,r,d,a||kI.stringFilter,l):(u=new AN(this._pt,e,t,+f||0,r-(f||0),"boolean"==typeof h?_N:yN,0,d),l&&(u.fp=l),s&&u.modifier(s,this,e),this._pt=u)},sN=function(e,t,n,r,i,o){var s,a,l,c;if(bk[e]&&!1!==(s=new bk[e]).init(i,s.rawVars?t[e]:function(e,t,n,r,i){if(HI(e)&&(e=cN(e,i,t,n,r)),!qI(e)||e.style&&e.nodeType||ZI(e)||KI(e))return jI(e)?cN(e,i,t,n,r):e;var o,s={};for(o in e)s[o]=cN(e[o],i,t,n,r);return s}(t[e],r,i,o,n),n,r,o)&&(n._pt=a=new AN(n._pt,i,e,0,1,s.render,s,0,s.priority),n!==cI))for(l=n._ptLookup[n._targets.indexOf(i)],c=s._props.length;c--;)l[s._props[c]]=a;return s},aN=function e(t,n,r){var i,o,s,a,l,c,u,h,f,d,p,m,g,v=t.vars,y=v.ease,_=v.startAt,b=v.immediateRender,x=v.lazy,w=v.onUpdate,S=v.runBackwards,E=v.yoyoEase,T=v.keyframes,A=v.autoRevert,M=t._dur,C=t._startAt,O=t._targets,R=t.parent,I=R&&"nested"===R.data?R.vars.targets:O,k="auto"===t._overwrite&&!eI,P=t.timeline;if(P&&(!T||!y)&&(y="none"),t._ease=XP(y,PI.ease),t._yEase=E?qP(XP(!0===E?y:E,PI.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!P&&!!v.runBackwards,!P||T&&!v.stagger){if(m=(h=O[0]?Ak(O[0]).harness:0)&&v[h.prop],i=Vk(v,vk),C&&(C._zTime<0&&C.progress(1),n<0&&S&&b&&!A?C.render(-1,!0):C.revert(S&&M?mk:pk),C._lazy=0),_){if(Gk(t._startAt=fN.set(O,Uk({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!C&&$I(x),startAt:null,delay:0,onUpdate:w&&function(){return MP(t,"onUpdate")},stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(tI||!b&&!A)&&t._startAt.revert(mk),b&&M&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(S&&M&&!C)if(n&&(b=!1),s=Uk({overwrite:!1,data:"isFromStart",lazy:b&&!C&&$I(x),immediateRender:b,stagger:0,parent:R},i),m&&(s[h.prop]=m),Gk(t._startAt=fN.set(O,s)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(tI?t._startAt.revert(mk):t._startAt.render(-1,!0)),t._zTime=n,b){if(!n)return}else e(t._startAt,DI,DI);for(t._pt=t._ptCache=0,x=M&&$I(x)||x&&!M,o=0;o<O.length;o++){if(u=(l=O[o])._gsap||Tk(O)[o]._gsap,t._ptLookup[o]=d={},_k[u.id]&&yk.length&&Pk(),p=I===O?o:I.indexOf(l),h&&!1!==(f=new h).init(l,m||i,t,p,I)&&(t._pt=a=new AN(t._pt,l,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(e){d[e]=a}),f.priority&&(c=1)),!h||m)for(s in i)bk[s]&&(f=sN(s,i,t,p,l,I))?f.priority&&(c=1):d[s]=a=oN.call(t,l,s,"get",i[s],p,I,0,v.stringFilter);t._op&&t._op[o]&&t.kill(l,t._op[o]),k&&t._pt&&(nN=t,rI.killTweensOf(l,d,t.globalTime(n)),g=!t.parent,nN=0),t._pt&&x&&(_k[u.id]=1)}c&&TN(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!g,T&&n<=0&&P.render(NI,!0,!0)},lN=function(e,t,n,r){var i,o,s=t.ease||r||"power1.inOut";if(ZI(t))o=n[e]||(n[e]=[]),t.forEach(function(e,n){return o.push({t:n/(t.length-1)*100,v:e,e:s})});else for(i in t)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:s})},cN=function(e,t,n,r,i){return HI(e)?e.call(t,n,r,i):jI(e)&&~e.indexOf("random(")?EP(e):e},uN=Ek+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",hN={};Ck(uN+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return hN[e]=1});var fN=function(e){function t(t,n,r,i){var o;"number"==typeof n&&(r.duration=n,n=r,r=null);var s,a,l,c,u,h,f,d,p=(o=e.call(this,i?n:jk(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,b=p.keyframes,x=p.defaults,w=p.scrollTrigger,S=p.yoyoEase,E=n.parent||rI,T=(ZI(t)||KI(t)?WI(t[0]):"length"in n)?[t]:gP(t);if(o._targets=T.length?Tk(T):hk(0,!kI.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=_,b||y||YI(m)||YI(g)){if(n=o.vars,(s=o.timeline=new tN({data:"nested",defaults:x||{},targets:E&&"nested"===E.data?E.vars.targets:T})).kill(),s.parent=s._dp=JR(o),s._start=0,y||YI(m)||YI(g)){if(c=T.length,f=y&&_P(y),qI(y))for(u in y)~uN.indexOf(u)&&(d||(d={}),d[u]=y[u]);for(a=0;a<c;a++)(l=Vk(n,hN)).stagger=0,S&&(l.yoyoEase=S),d&&Bk(l,d),h=T[a],l.duration=+cN(m,JR(o),a,h,T),l.delay=(+cN(g,JR(o),a,h,T)||0)-o._delay,!y&&1===c&&l.delay&&(o._delay=g=l.delay,o._start+=g,l.delay=0),s.to(h,l,f?f(a,h,T):0),s._ease=jP.none;s.duration()?m=g=0:o.timeline=0}else if(b){jk(Uk(s.vars.defaults,{ease:"none"})),s._ease=XP(b.ease||n.ease||"none");var A,M,C,O=0;if(ZI(b))b.forEach(function(e){return s.to(T,e,">")}),s.duration();else{for(u in l={},b)"ease"===u||"easeEach"===u||lN(u,b[u],l,b.easeEach);for(u in l)for(A=l[u].sort(function(e,t){return e.t-t.t}),O=0,a=0;a<A.length;a++)(C={ease:(M=A[a]).e,duration:(M.t-(a?A[a-1].t:0))/100*m})[u]=M.v,s.to(T,C,O),O+=C.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==_||eI||(nN=JR(o),rI.killTweensOf(T),nN=0),tP(E,JR(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(v||!m&&!b&&o._start===Rk(E._time)&&$I(v)&&Xk(JR(o))&&"nested"!==E.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),w&&nP(JR(o),w),o}QR(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,s,a,l,c,u,h,f=this._time,d=this._tDur,p=this._dur,m=e<0,g=e>d-DI&&!m?d:e<DI?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=g,u=this.timeline,this._repeat){if(s=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,n);if(r=Rk(g%s),g===d?(o=this._repeat,r=p):(o=~~(a=Rk(g/s)))&&o===a?(r=p,o--):r>p&&(r=p),(l=this._yoyo&&1&o)&&(h=this._yEase,r=p-r),a=Kk(this._tTime,s),r===f&&!n&&this._initted&&o===a)return this._tTime=g,this;o!==a&&(u&&this._yEase&&$P(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==s&&this._initted&&(this._lock=n=1,this.render(Rk(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(rP(this,m?e:r,n,t,g))return this._tTime=0,this;if(!(f===this._time||n&&this.vars.repeatRefresh&&o!==a))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!f&&g&&!t&&!a&&(MP(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&$k(this,e,0,n),MP(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&MP(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&$k(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&Gk(this,1),t||m&&!f||!(g||f||l)||(MP(this,g===d?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,o,s,a=e.ratio,l=t<0||!t&&(!e._start&&iP(e)&&(e._initted||!oP(e))||(e._ts<0||e._dp._ts<0)&&!oP(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=fP(0,e._tDur,t),o=Kk(u,c),e._yoyo&&1&o&&(l=1-l),o!==Kk(e._tTime,c)&&(a=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==a||tI||r||e._zTime===DI||!t&&e._zTime){if(!e._initted&&rP(e,t,r,n,u))return;for(s=e._zTime,e._zTime=t||(n?DI:0),n||(n=t&&!s),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&$k(e,t,0,!0),e._onUpdate&&!n&&MP(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&MP(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&Gk(e,1),n||tI||(MP(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){uI||zP.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||aN(this,o),function(e,t,n,r,i,o,s,a){var l,c,u,h,f=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!f)for(f=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return rN=1,e.vars[t]="+=0",aN(e,s),rN=0,a?hk():1;f.push(l)}for(h=f.length;h--;)(l=(c=f[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+o*l.c:r,l.c=n-l.s,c.e&&(c.e=Ok(n)+dP(c.e)),c.b&&(c.b=l.s+dP(c.b))}(this,e,t,n,r,this._ease(o/this._dur),o,i)?this.resetTo(e,t,n,r,1):(Qk(this,0),this.parent||Hk(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?CP(this):this.scrollTrigger&&this.scrollTrigger.kill(!!tI),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,nN&&!0!==nN.vars.overwrite)._first||CP(this),this.parent&&n!==this.timeline.totalDuration()&&sP(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,l,c,u=this._targets,h=e?gP(e):u,f=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),CP(this);for(r=this._op=this._op||[],"all"!==t&&(jI(t)&&(a={},Ck(t,function(e){return a[e]=1}),t=a),t=function(e,t){var n,r,i,o,s=e[0]?Ak(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(r in n=Bk({},t),a)if(r in n)for(i=(o=a[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(a in i=f[c],"all"===t?(r[c]=t,s=i,o={}):(o=r[c]=r[c]||{},s=t),s)(l=i&&i[a])&&("kill"in l.d&&!0!==l.d.kill(a)||Wk(this,l,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&d&&CP(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return uP(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return uP(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return rI.killTweensOf(e,t,n)},t}(eN);Uk(fN.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ck("staggerTo,staggerFrom,staggerFromTo",function(e){fN[e]=function(){var t=new tN,n=pP.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var dN=function(e,t,n){return e[t]=n},pN=function(e,t,n){return e[t](n)},mN=function(e,t,n,r){return e[t](r.fp,n)},gN=function(e,t,n){return e.setAttribute(t,n)},vN=function(e,t){return HI(e[t])?pN:GI(e[t])&&e.setAttribute?gN:dN},yN=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},_N=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},bN=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},xN=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},wN=function(e,t,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},SN=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Wk(this,r,"_pt"):r.dep||(t=1),r=n;return!t},EN=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},TN=function(e){for(var t,n,r,i,o=e._pt;o;){for(t=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},AN=function(){function e(e,t,n,r,i,o,s,a,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||yN,this.d=s||this,this.set=a||dN,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=EN,this.m=e,this.mt=n,this.tween=t},e}();Ck(Ek+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return vk[e]=1}),ak.TweenMax=ak.TweenLite=fN,ak.TimelineLite=ak.TimelineMax=tN,rI=new tN({sortChildren:!1,defaults:PI,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),kI.stringFilter=BP;var MN=[],CN={},ON=[],RN=0,IN=0,kN=function(e){return(CN[e]||ON).map(function(e){return e()})},PN=function(){var e=Date.now(),t=[];e-RN>2&&(kN("matchMediaInit"),MN.forEach(function(e){var n,r,i,o,s=e.queries,a=e.conditions;for(r in s)(n=iI.matchMedia(s[r]).matches)&&(i=1),n!==a[r]&&(a[r]=n,o=1);o&&(e.revert(),i&&t.push(e))}),kN("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),RN=e,kN("matchMedia"))},NN=function(){function e(e,t){this.selector=t&&vP(t),this.data=[],this._r=[],this.isReverted=!1,this.id=IN++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){HI(e)&&(n=t,t=e,e=HI);var r=this,i=function(){var e,i=nI,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=vP(n)),nI=r,e=t.apply(r,arguments),HI(e)&&r._r.push(e),nI=i,r.selector=o,r.isReverted=!1,e};return r.last=i,e===HI?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=nI;nI=null,e(this),nI=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof fN&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof tN?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof fN)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=MN.length;r--;)MN[r].id===this.id&&MN.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),DN=function(){function e(e){this.contexts=[],this.scope=e,nI&&nI.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){qI(e)||(e={matches:e});var r,i,o,s=new NN(0,n||this.scope),a=s.conditions={};for(i in nI&&!s.selector&&(s.selector=nI.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=e,e)"all"===i?o=1:(r=iI.matchMedia(e[i]))&&(MN.indexOf(s)<0&&MN.push(s),(a[i]=r.matches)&&(o=1),r.addListener?r.addListener(PN):r.addEventListener("change",PN));return o&&t(s,function(e){return s.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),LN={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return RP(e)})},timeline:function(e){return new tN(e)},getTweensOf:function(e,t){return rI.getTweensOf(e,t)},getProperty:function(e,t,n,r){jI(e)&&(e=gP(e)[0]);var i=Ak(e||{}).get,o=n?Fk:Lk;return"native"===n&&(n=""),e?t?o((bk[t]&&bk[t].get||i)(e,t,n,r)):function(t,n,r){return o((bk[t]&&bk[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=gP(e)).length>1){var r=e.map(function(e){return BN.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var o=bk[t],s=Ak(e),a=s.harness&&(s.harness.aliases||{})[t]||t,l=o?function(t){var r=new o;cI._pt=0,r.init(e,n?t+n:t,cI,0,[e]),r.render(1,r),cI._pt&&xN(1,cI)}:s.set(e,a);return o?l:function(t){return l(e,a,n?t+n:t,s,1)}},quickTo:function(e,t,n){var r,i=BN.to(e,Uk(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),o=function(e,n,r){return i.resetTo(t,e,n,r)};return o.tween=i,o},isTweening:function(e){return rI.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=XP(e.ease,PI.ease)),zk(PI,e||{})},config:function(e){return zk(kI,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!bk[e]&&!ak[e]&&hk()}),xk[t]=function(e,t,r){return n(gP(e),Uk(t||{},i),r)},o&&(tN.prototype[t]=function(e,n,r){return this.add(xk[t](e,qI(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){jP[e]=XP(t)},parseEase:function(e,t){return arguments.length?XP(e,t):jP},getById:function(e){return rI.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new tN(e);for(i.smoothChildTiming=$I(e.smoothChildTiming),rI.remove(i),i._dp=0,i._time=i._tTime=rI._time,n=rI._first;n;)r=n._next,!t&&!n._dur&&n instanceof fN&&n.vars.onComplete===n._targets[0]||tP(i,n,n._start-n._delay),n=r;return tP(rI,i,0),i},context:function(e,t){return e?new NN(e,t):nI},matchMedia:function(e){return new DN(e)},matchMediaRefresh:function(){return MN.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||PN()},addEventListener:function(e,t){var n=CN[e]||(CN[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=CN[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return ZI(t)?SP(t,e(0,t.length),n):hP(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,o=2*i;return ZI(t)?SP(t,e(0,t.length-1),n):hP(r,function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)})},distribute:_P,random:wP,snap:xP,normalize:function(e,t,n){return TP(e,t,0,1,n)},getUnit:dP,clamp:function(e,t,n){return hP(n,function(n){return fP(e,t,n)})},splitColor:NP,toArray:gP,selector:vP,mapRange:TP,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||dP(n))}},interpolate:function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,a,l,c,u,h=jI(t),f={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(ZI(t)&&!ZI(n)){for(l=[],c=t.length,u=c-2,a=1;a<c;a++)l.push(e(t[a-1],t[a]));c--,o=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=Bk(ZI(t)?[]:{},t));if(!l){for(s in n)oN.call(f,t,s,"get",n[s]);o=function(e){return xN(e,f)||(h?t.p:t)}}}return hP(r,o)},shuffle:yP},install:ck,effects:xk,ticker:zP,updateRoot:tN.updateRoot,plugins:bk,globalTimeline:rI,core:{PropTween:AN,globals:fk,Tween:fN,Timeline:tN,Animation:eN,getCache:Ak,_removeLinkedListItem:Wk,reverting:function(){return tI},context:function(e){return e&&nI&&(nI.data.push(e),e._ctx=nI),nI},suppressOverwrites:function(e){return eI=e}}};Ck("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return LN[e]=fN[e]}),zP.add(tN.updateRoot),cI=LN.to({},{duration:0});var FN=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},UN=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(jI(n)&&(r={},Ck(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,o=e._targets;for(n in t)for(r=o.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=FN(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}(e,n)}}}},BN=LN.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,s,a;for(o in this.tween=n,t)a=e.getAttribute(o)||"",(s=this.add(e,"setAttribute",(a||0)+"",t[o],r,i,0,0,o)).op=o,s.b=a,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)tI?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},UN("roundProps",bP),UN("modifiers"),UN("snap",xP))||LN;fN.version=tN.version=BN.version="3.14.2",aI=1,XI()&&VP(),jP.Power0,jP.Power1,jP.Power2,jP.Power3,jP.Power4,jP.Linear,jP.Quad,jP.Cubic,jP.Quart,jP.Quint,jP.Strong,jP.Elastic,jP.Back,jP.SteppedEase,jP.Bounce,jP.Sine,jP.Expo,jP.Circ;var zN,VN,jN,HN,WN,GN,qN,$N,XN={},YN=180/Math.PI,KN=Math.PI/180,ZN=Math.atan2,JN=/([A-Z])/g,QN=/(left|right|width|margin|padding|x)/i,eD=/[\s,\(]\S/,tD={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},nD=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},rD=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},iD=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},oD=function(e,t){return t.set(t.t,t.p,1===e?t.e:e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},sD=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},aD=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},lD=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},cD=function(e,t,n){return e.style[t]=n},uD=function(e,t,n){return e.style.setProperty(t,n)},hD=function(e,t,n){return e._gsap[t]=n},fD=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},dD=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},pD=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},mD="transform",gD=mD+"Origin",vD=function e(t,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(t in XN&&o){if(this.tfm=this.tfm||{},"transform"===t)return tD.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=tD[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=DD(i,e)}):this.tfm[t]=s.x?s[t]:DD(i,t),t===gD&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(mD)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(gD,n,"")),t=mD}(o||n)&&this.props.push(t,n,o[t])},yD=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_D=function(){var e,t,n=this.props,r=this.target,i=r.style,o=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(JN,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=qN())&&e.isStart||i[mD]||(yD(i),o.zOrigin&&i[gD]&&(i[gD]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},bD=function(e,t){var n={target:e,props:[],revert:_D,save:vD};return e._gsap||BN.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},xD=function(e,t){var n=VN.createElementNS?VN.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):VN.createElement(e);return n&&n.style?n:VN.createElement(e)},wD=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(JN,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,ED(n)||n,1)||""},SD="O,Moz,ms,Ms,Webkit".split(","),ED=function(e,t,n){var r=(t||WN).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(SD[i]+e in r););return i<0?null:(3===i?"ms":i>=0?SD[i]:"")+e},TD=function(){"undefined"!=typeof window&&window.document&&(zN=window,VN=zN.document,jN=VN.documentElement,WN=xD("div")||{style:{}},xD("div"),mD=ED(mD),gD=mD+"Origin",WN.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$N=!!ED("perspective"),qN=BN.core.reverting,HN=1)},AD=function(e){var t,n=e.ownerSVGElement,r=xD("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),jN.appendChild(r);try{t=i.getBBox()}catch(vme){}return r.removeChild(i),jN.removeChild(r),t},MD=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},CD=function(e){var t,n;try{t=e.getBBox()}catch(r){t=AD(e),n=1}return t&&(t.width||t.height)||n||(t=AD(e)),!t||t.width||t.x||t.y?t:{x:+MD(e,["x","cx","x1"])||0,y:+MD(e,["y","cy","y1"])||0,width:0,height:0}},OD=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!CD(e))},RD=function(e,t){if(t){var n,r=e.style;t in XN&&t!==gD&&(t=mD),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(JN,"-$1").toLowerCase())):r.removeAttribute(t)}},ID=function(e,t,n,r,i,o){var s=new AN(e._pt,t,n,0,1,o?lD:aD);return e._pt=s,s.b=r,s.e=i,e._props.push(n),s},kD={deg:1,rad:1,turn:1},PD={grid:1,flex:1},ND=function e(t,n,r,i){var o,s,a,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=WN.style,f=QN.test(n),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(f?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||kD[i]||kD[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&OD(t),(v||"%"===u)&&(XN[n]||~n.indexOf("adius")))return o=l?t.getBBox()[f?"width":"height"]:t[p],Ok(v?c/o*m:c/100*o);if(h[f?"width":"height"]=m+(g?u:i),s="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,l&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==VN&&s.appendChild||(s=VN.body),(a=s._gsap)&&v&&a.width&&f&&a.time===zP.time&&!a.uncache)return Ok(c/a.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!PD[wD(s,"display")]&&(h.position=wD(t,"position")),s===t&&(h.position="static"),s.appendChild(WN),o=WN[p],s.removeChild(WN),h.position="absolute";else{var y=t.style[n];t.style[n]=m+i,o=t[p],y?t.style[n]=y:RD(t,n)}return f&&v&&((a=Ak(s)).time=zP.time,a.width=s[p]),Ok(g?o*c/m:o&&c?m/o*c:0)},DD=function(e,t,n,r){var i;return HN||TD(),t in tD&&"transform"!==t&&~(t=tD[t]).indexOf(",")&&(t=t.split(",")[0]),XN[t]&&"transform"!==t?(i=$D(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:XD(wD(e,gD))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=zD[t]&&zD[t](e,t,n)||wD(e,t)||Mk(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?ND(e,t,i,n)+n:i},LD=function(e,t,n,r){if(!n||"none"===n){var i=ED(t,e,1),o=i&&wD(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=wD(e,"borderTopColor"))}var s,a,l,c,u,h,f,d,p,m,g,v=new AN(this._pt,e.style,t,0,1,bN),y=0,_=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=wD(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(h=e.style[t],e.style[t]=r,r=wD(e,t)||r,h?e.style[t]=h:RD(e,t)),BP(s=[n,r]),r=s[1],l=(n=s[0]).match(nk)||[],(r.match(nk)||[]).length){for(;a=nk.exec(r);)f=a[0],p=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),f!==(h=l[_++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),"="===f.charAt(1)&&(f=Ik(c,f)+g),d=parseFloat(f),m=f.substr((d+"").length),y=nk.lastIndex-m.length,m||(m=m||kI.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=ND(e,t,h,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:c,c:d-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?lD:aD;return ik.test(r)&&(v.e=0),this._pt=v,v},FD={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},UD=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=FD[n]||n,t[1]=FD[r]||r,t.join(" ")},BD=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,s=o.style,a=t.u,l=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else for(i=(a=a.split(",")).length;--i>-1;)n=a[i],XN[n]&&(r=1,n="transformOrigin"===n?gD:mD),RD(o,n);r&&(RD(o,mD),l&&(l.svg&&o.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",$D(o,1),l.uncache=1,yD(s)))}},zD={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new AN(e._pt,t,n,0,0,BD);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},VD=[1,0,0,1,0,0],jD={},HD=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},WD=function(e){var t=wD(e,mD);return HD(t)?VD:t.substr(7).match(tk).map(Ok)},GD=function(e,t){var n,r,i,o,s=e._gsap||Ak(e),a=e.style,l=WD(e);return s.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?VD:l:(l!==VD||e.offsetParent||e===jN||s.svg||(i=a.display,a.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(o=1,r=e.nextElementSibling,jN.appendChild(e)),l=WD(e),i?a.display=i:RD(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):jN.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},qD=function(e,t,n,r,i,o){var s,a,l,c=e._gsap,u=i||GD(e,!0),h=c.xOrigin||0,f=c.yOrigin||0,d=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],_=u[4],b=u[5],x=t.split(" "),w=parseFloat(x[0])||0,S=parseFloat(x[1])||0;n?u!==VD&&(a=m*y-g*v)&&(l=w*(-g/a)+S*(m/a)-(m*b-g*_)/a,w=w*(y/a)+S*(-v/a)+(v*b-y*_)/a,S=l):(w=(s=CD(e)).x+(~x[0].indexOf("%")?w/100*s.width:w),S=s.y+(~(x[1]||x[0]).indexOf("%")?S/100*s.height:S)),r||!1!==r&&c.smooth?(_=w-h,b=S-f,c.xOffset=d+(_*m+b*v)-_,c.yOffset=p+(_*g+b*y)-b):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=S,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[gD]="0px 0px",o&&(ID(o,c,"xOrigin",h,w),ID(o,c,"yOrigin",f,S),ID(o,c,"xOffset",d,c.xOffset),ID(o,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+S)},$D=function(e,t){var n=e._gsap||new QP(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,s,a,l,c,u,h,f,d,p,m,g,v,y,_,b,x,w,S,E,T,A,M,C,O,R,I,k,P,N,D=e.style,L=n.scaleX<0,F="px",U="deg",B=getComputedStyle(e),z=wD(e,gD)||"0";return r=i=o=l=c=u=h=f=d=0,s=a=1,n.svg=!(!e.getCTM||!OD(e)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(D[mD]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[mD]?B[mD]:"")),D.scale=D.rotate=D.translate="none"),g=GD(e,n.svg),n.svg&&(n.uncache?(M=e.getBBox(),z=n.xOrigin-M.x+"px "+(n.yOrigin-M.y)+"px",A=""):A=!t&&e.getAttribute("data-svg-origin"),qD(e,A||z,!!A||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==VD&&(b=g[0],x=g[1],w=g[2],S=g[3],r=E=g[4],i=T=g[5],6===g.length?(s=Math.sqrt(b*b+x*x),a=Math.sqrt(S*S+w*w),l=b||x?ZN(x,b)*YN:0,(h=w||S?ZN(w,S)*YN+l:0)&&(a*=Math.abs(Math.cos(h*KN))),n.svg&&(r-=p-(p*b+m*w),i-=m-(p*x+m*S))):(N=g[6],k=g[7],O=g[8],R=g[9],I=g[10],P=g[11],r=g[12],i=g[13],o=g[14],c=(v=ZN(N,I))*YN,v&&(A=E*(y=Math.cos(-v))+O*(_=Math.sin(-v)),M=T*y+R*_,C=N*y+I*_,O=E*-_+O*y,R=T*-_+R*y,I=N*-_+I*y,P=k*-_+P*y,E=A,T=M,N=C),u=(v=ZN(-w,I))*YN,v&&(y=Math.cos(-v),P=S*(_=Math.sin(-v))+P*y,b=A=b*y-O*_,x=M=x*y-R*_,w=C=w*y-I*_),l=(v=ZN(x,b))*YN,v&&(A=b*(y=Math.cos(v))+x*(_=Math.sin(v)),M=E*y+T*_,x=x*y-b*_,T=T*y-E*_,b=A,E=M),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),s=Ok(Math.sqrt(b*b+x*x+w*w)),a=Ok(Math.sqrt(T*T+N*N)),v=ZN(E,T),h=Math.abs(v)>2e-4?v*YN:0,d=P?1/(P<0?-P:P):0),n.svg&&(A=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!HD(wD(e,mD)),A&&e.setAttribute("transform",A))),Math.abs(h)>90&&Math.abs(h)<270&&(L?(s*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(a*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=o+F,n.scaleX=Ok(s),n.scaleY=Ok(a),n.rotation=Ok(l)+U,n.rotationX=Ok(c)+U,n.rotationY=Ok(u)+U,n.skewX=h+U,n.skewY=f+U,n.transformPerspective=d+F,(n.zOrigin=parseFloat(z.split(" ")[2])||!t&&n.zOrigin||0)&&(D[gD]=XD(z)),n.xOffset=n.yOffset=0,n.force3D=kI.force3D,n.renderTransform=n.svg?tL:$N?eL:KD,n.uncache=0,n},XD=function(e){return(e=e.split(" "))[0]+" "+e[1]},YD=function(e,t,n){var r=dP(t);return Ok(parseFloat(t)+parseFloat(ND(e,"x",n+"px",r)))+r},KD=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,eL(e,t)},ZD="0deg",JD="0px",QD=") ",eL=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,f=n.skewY,d=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,_="",b="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==ZD||c!==ZD)){var x,w=parseFloat(c)*KN,S=Math.sin(w),E=Math.cos(w);w=parseFloat(u)*KN,x=Math.cos(w),o=YD(v,o,S*x*-y),s=YD(v,s,-Math.sin(w)*-y),a=YD(v,a,E*x*-y+y)}m!==JD&&(_+="perspective("+m+QD),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(b||o!==JD||s!==JD||a!==JD)&&(_+=a!==JD||b?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+QD),l!==ZD&&(_+="rotate("+l+QD),c!==ZD&&(_+="rotateY("+c+QD),u!==ZD&&(_+="rotateX("+u+QD),h===ZD&&f===ZD||(_+="skew("+h+", "+f+QD),1===d&&1===p||(_+="scale("+d+", "+p+QD),v.style[mD]=_||"translate(0, 0)"},tL=function(e,t){var n,r,i,o,s,a=t||this,l=a.xPercent,c=a.yPercent,u=a.x,h=a.y,f=a.rotation,d=a.skewX,p=a.skewY,m=a.scaleX,g=a.scaleY,v=a.target,y=a.xOrigin,_=a.yOrigin,b=a.xOffset,x=a.yOffset,w=a.forceCSS,S=parseFloat(u),E=parseFloat(h);f=parseFloat(f),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),f+=p),f||d?(f*=KN,d*=KN,n=Math.cos(f)*m,r=Math.sin(f)*m,i=Math.sin(f-d)*-g,o=Math.cos(f-d)*g,d&&(p*=KN,s=Math.tan(d-p),i*=s=Math.sqrt(1+s*s),o*=s,p&&(s=Math.tan(p),n*=s=Math.sqrt(1+s*s),r*=s)),n=Ok(n),r=Ok(r),i=Ok(i),o=Ok(o)):(n=m,o=g,r=i=0),(S&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(S=ND(v,"x",u,"px"),E=ND(v,"y",h,"px")),(y||_||b||x)&&(S=Ok(S+y-(y*n+_*i)+b),E=Ok(E+_-(y*r+_*o)+x)),(l||c)&&(s=v.getBBox(),S=Ok(S+l/100*s.width),E=Ok(E+c/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+S+","+E+")",v.setAttribute("transform",s),w&&(v.style[mD]=s)},nL=function(e,t,n,r,i){var o,s,a=360,l=jI(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?YN:1)-r,u=r+c+"deg";return l&&("short"===(o=i.split("_")[1])&&(c%=a)!==c%180&&(c+=c<0?a:-360),"cw"===o&&c<0?c=(c+36e9)%a-~~(c/a)*a:"ccw"===o&&c>0&&(c=(c-36e9)%a-~~(c/a)*a)),e._pt=s=new AN(e._pt,t,n,r,c,rD),s.e=u,s.u="deg",e._props.push(n),s},rL=function(e,t){for(var n in t)e[n]=t[n];return e},iL=function(e,t,n){var r,i,o,s,a,l,c,u=rL({},n._gsap),h=n.style;for(i in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[mD]=t,r=$D(n,1),RD(n,mD),n.setAttribute("transform",o)):(o=getComputedStyle(n)[mD],h[mD]=t,r=$D(n,1),h[mD]=o),XN)(o=u[i])!==(s=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(a=dP(o)!==(c=dP(s))?ND(n,i,o,c):parseFloat(o),l=parseFloat(s),e._pt=new AN(e._pt,r,i,a,l-a,nD),e._pt.u=c||0,e._props.push(i));rL(r,u)};Ck("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",o="Left",s=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(n){return t<2?e+n:"border"+n+e});zD[t>1?"border"+e:e]=function(e,t,n,r,i){var o,a;if(arguments.length<4)return o=s.map(function(t){return DD(e,t,n)}),5===(a=o.join(" ")).split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach(function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]}),e.init(t,a,i)}});var oL,sL,aL,lL={name:"css",register:TD,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,s,a,l,c,u,h,f,d,p,m,g,v,y,_,b,x,w=this._props,S=e.style,E=n.vars.startAt;for(h in HN||TD(),this.styles=this.styles||bD(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(s=t[h],!bk[h]||!sN(h,t,n,r,e,i)))if(c=typeof s,u=zD[h],"function"===c&&(c=typeof(s=s.call(n,r,e,i))),"string"===c&&~s.indexOf("random(")&&(s=EP(s)),u)u(this,e,h,s,n)&&(_=1);else if("--"===h.substr(0,2))o=(getComputedStyle(e).getPropertyValue(h)+"").trim(),s+="",FP.lastIndex=0,FP.test(o)||(f=dP(o),(d=dP(s))?f!==d&&(o=ND(e,h,o,d)+d):f&&(s+=f)),this.add(S,"setProperty",o,s,r,i,0,0,h),w.push(h),b.push(h,0,S[h]);else if("undefined"!==c){if(E&&h in E?(o="function"==typeof E[h]?E[h].call(n,r,e,i):E[h],jI(o)&&~o.indexOf("random(")&&(o=EP(o)),dP(o+"")||"auto"===o||(o+=kI.units[h]||dP(DD(e,h))||""),"="===(o+"").charAt(1)&&(o=DD(e,h))):o=DD(e,h),l=parseFloat(o),(p="string"===c&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),a=parseFloat(s),h in tD&&("autoAlpha"===h&&(1===l&&"hidden"===DD(e,"visibility")&&a&&(l=0),b.push("visibility",0,S.visibility),ID(this,S,"visibility",l?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==h&&"transform"!==h&&~(h=tD[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in XN){if(this.styles.save(h),x=s,"string"===c&&"var(--"===s.substring(0,6)){if("calc("===(s=wD(e,s.substring(4,s.indexOf(")")))).substring(0,5)){var T=e.style.perspective;e.style.perspective=s,s=wD(e,"perspective"),T?e.style.perspective=T:RD(e,"perspective")}a=parseFloat(s)}if(g||((v=e._gsap).renderTransform&&!t.parseTransform||$D(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new AN(this._pt,S,mD,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new AN(this._pt,v,"scaleY",v.scaleY,(p?Ik(v.scaleY,p+a):a)-v.scaleY||0,nD),this._pt.u=0,w.push("scaleY",h),h+="X";else{if("transformOrigin"===h){b.push(gD,0,S[gD]),s=UD(s),v.svg?qD(e,s,0,y,0,this):((d=parseFloat(s.split(" ")[2])||0)!==v.zOrigin&&ID(this,v,"zOrigin",v.zOrigin,d),ID(this,S,h,XD(o),XD(s)));continue}if("svgOrigin"===h){qD(e,s,1,y,0,this);continue}if(h in jD){nL(this,v,h,l,p?Ik(l,p+s):s);continue}if("smoothOrigin"===h){ID(this,v,"smooth",v.smooth,s);continue}if("force3D"===h){v[h]=s;continue}if("transform"===h){iL(this,s,e);continue}}}else h in S||(h=ED(h)||h);if(m||(a||0===a)&&(l||0===l)&&!eD.test(s)&&h in S)a||(a=0),(f=(o+"").substr((l+"").length))!==(d=dP(s)||(h in kI.units?kI.units[h]:f))&&(l=ND(e,h,o,d)),this._pt=new AN(this._pt,m?v:S,h,l,(p?Ik(l,p+a):a)-l,m||"px"!==d&&"zIndex"!==h||!1===t.autoRound?nD:sD),this._pt.u=d||0,m&&x!==s?(this._pt.b=o,this._pt.e=x,this._pt.r=oD):f!==d&&"%"!==d&&(this._pt.b=o,this._pt.r=iD);else if(h in S)LD.call(this,e,h,o,p?p+s:s);else if(h in e)this.add(e,h,o||e[h],p?p+s:s,r,i);else if("parseTransform"!==h){uk();continue}m||(h in S?b.push(h,0,S[h]):"function"==typeof e[h]?b.push(h,2,e[h]()):b.push(h,1,o||e[h])),w.push(h)}_&&TN(this)},render:function(e,t){if(t.tween._time||!qN())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:DD,aliases:tD,getSetter:function(e,t,n){var r=tD[t];return r&&r.indexOf(",")<0&&(t=r),t in XN&&t!==gD&&(e._gsap.x||DD(e,"x"))?n&&GN===n?"scale"===t?fD:hD:(GN=n||{})&&("scale"===t?dD:pD):e.style&&!GI(e.style[t])?cD:~t.indexOf("-")?uD:vN(e,t)},core:{_removeProperty:RD,_getMatrix:GD}};BN.utils.checkPrefix=ED,BN.core.getStyleSaver=bD,aL=Ck((oL="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(sL="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){XN[e]=1}),Ck(sL,function(e){kI.units[e]="deg",jD[e]=1}),tD[aL[13]]=oL+","+sL,Ck("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");tD[t[1]]=aL[t[0]]}),Ck("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){kI.units[e]="px"}),BN.registerPlugin(lL);var cL=BN.registerPlugin(lL)||BN;function uL(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}cL.core.Tween;var hL,fL,dL,pL,mL,gL,vL,yL,_L,bL,xL,wL,SL,EL=function(){return hL||"undefined"!=typeof window&&(hL=window.gsap)&&hL.registerPlugin&&hL},TL=1,AL=[],ML=[],CL=[],OL=Date.now,RL=function(e,t){return t},IL=function(e,t){return~CL.indexOf(e)&&CL[CL.indexOf(e)+1][t]},kL=function(e){return!!~bL.indexOf(e)},PL=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},NL=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},DL="scrollLeft",LL="scrollTop",FL=function(){return xL&&xL.isPressed||ML.cache++},UL=function(e,t){var n=function n(r){if(r||0===r){TL&&(dL.history.scrollRestoration="manual");var i=xL&&xL.isPressed;r=n.v=Math.round(r)||(xL&&xL.iOS?1:0),e(r),n.cacheID=ML.cache,i&&RL("ss",r)}else(t||ML.cache!==n.cacheID||RL("ref"))&&(n.cacheID=ML.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},BL={s:DL,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:UL(function(e){return arguments.length?dL.scrollTo(e,zL.sc()):dL.pageXOffset||pL[DL]||mL[DL]||gL[DL]||0})},zL={s:LL,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:BL,sc:UL(function(e){return arguments.length?dL.scrollTo(BL.sc(),e):dL.pageYOffset||pL[LL]||mL[LL]||gL[LL]||0})},VL=function(e,t){return(t&&t._ctx&&t._ctx.selector||hL.utils.toArray)(e)[0]||("string"==typeof e&&!1!==hL.config().nullTargetWarn?void 0:null)},jL=function(e,t){var n=t.s,r=t.sc;kL(e)&&(e=pL.scrollingElement||mL);var i=ML.indexOf(e),o=r===zL.sc?1:2;!~i&&(i=ML.push(e)-1),ML[i+o]||PL(e,"scroll",FL);var s=ML[i+o],a=s||(ML[i+o]=UL(IL(e,n),!0)||(kL(e)?r:UL(function(t){return arguments.length?e[n]=t:e[n]})));return a.target=e,s||(a.smooth="smooth"===hL.getProperty(e,"scrollBehavior")),a},HL=function(e,t,n){var r=e,i=e,o=OL(),s=o,a=t||50,l=Math.max(500,3*a),c=function(e,t){var l=OL();t||l-o>a?(i=r,r=e,s=o,o=l):n?r+=e:r=i+(e-i)/(l-s)*(o-s)};return{update:c,reset:function(){i=r=n?0:r,s=o=0},getVelocity:function(e){var t=s,a=i,u=OL();return(e||0===e)&&e!==r&&c(e),o===s||u-s>l?0:(r+(n?a:-a))/((n?u:o)-t)*1e3}}},WL=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},GL=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},qL=function(){var e,t,n,r;(_L=hL.core.globals().ScrollTrigger)&&_L.core&&(e=_L.core,t=e.bridge||{},n=e._scrollers,r=e._proxies,n.push.apply(n,ML),r.push.apply(r,CL),ML=n,CL=r,RL=function(e,n){return t[e](n)})},$L=function(e){return hL=e||EL(),!fL&&hL&&"undefined"!=typeof document&&document.body&&(dL=window,pL=document,mL=pL.documentElement,gL=pL.body,bL=[dL,pL,mL,gL],hL.utils.clamp,SL=hL.core.context||function(){},yL="onpointerenter"in gL?"pointer":"mouse",vL=XL.isTouch=dL.matchMedia&&dL.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in dL||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,wL=XL.eventTypes=("ontouchstart"in mL?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in mL?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return TL=0},500),qL(),fL=1),fL};BL.op=zL,ML.cache=0;var XL=function(){function e(e){this.init(e)}return e.prototype.init=function(e){fL||$L(hL),_L||qL();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,o=e.lineHeight,s=e.debounce,a=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,h=e.wheelSpeed,f=e.event,d=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,_=e.onLeft,b=e.onUp,x=e.onDown,w=e.onChangeX,S=e.onChangeY,E=e.onChange,T=e.onToggleX,A=e.onToggleY,M=e.onHover,C=e.onHoverEnd,O=e.onMove,R=e.ignoreCheck,I=e.isNormalizer,k=e.onGestureStart,P=e.onGestureEnd,N=e.onWheel,D=e.onEnable,L=e.onDisable,F=e.onClick,U=e.scrollSpeed,B=e.capture,z=e.allowClicks,V=e.lockAxis,j=e.onLockAxis;this.target=i=VL(i)||mL,this.vars=e,u&&(u=hL.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,U=U||1,r=r||"wheel,touch,pointer",s=!1!==s,o||(o=parseFloat(dL.getComputedStyle(gL).lineHeight)||22);var H,W,G,q,$,X,Y,K=this,Z=0,J=0,Q=e.passive||!a&&!1!==e.passive,ee=jL(i,BL),te=jL(i,zL),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===wL[0],oe=kL(i),se=i.ownerDocument||pL,ae=[0,0,0],le=[0,0,0],ce=0,ue=function(){return ce=OL()},he=function(e,t){return(K.event=e)&&u&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,u)||t&&ie&&"touch"!==e.pointerType||R&&R(e,t)},fe=function(){var e=K.deltaX=GL(ae),n=K.deltaY=GL(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;E&&(r||i)&&E(K,e,n,ae,le),r&&(y&&K.deltaX>0&&y(K),_&&K.deltaX<0&&_(K),w&&w(K),T&&K.deltaX<0!=Z<0&&T(K),Z=K.deltaX,ae[0]=ae[1]=ae[2]=0),i&&(x&&K.deltaY>0&&x(K),b&&K.deltaY<0&&b(K),S&&S(K),A&&K.deltaY<0!=J<0&&A(K),J=K.deltaY,le[0]=le[1]=le[2]=0),(q||G)&&(O&&O(K),G&&(d&&1===G&&d(K),m&&m(K),G=0),q=!1),X&&!(X=!1)&&j&&j(K),$&&(N(K),$=!1),H=0},de=function(e,t,n){ae[n]+=e,le[n]+=t,K._vx.update(e),K._vy.update(t),s?H||(H=requestAnimationFrame(fe)):fe()},pe=function(e,t){V&&!Y&&(K.axis=Y=Math.abs(e)>Math.abs(t)?"x":"y",X=!0),"y"!==Y&&(ae[2]+=e,K._vx.update(e,!0)),"x"!==Y&&(le[2]+=t,K._vy.update(t,!0)),s?H||(H=requestAnimationFrame(fe)):fe()},me=function(e){if(!he(e,1)){var t=(e=WL(e,a)).clientX,r=e.clientY,i=t-K.x,o=r-K.y,s=K.isDragging;K.x=t,K.y=r,(s||(i||o)&&(Math.abs(K.startX-t)>=n||Math.abs(K.startY-r)>=n))&&(G||(G=s?2:1),s||(K.isDragging=!0),pe(i,o))}},ge=K.onPress=function(e){he(e,1)||e&&e.button||(K.axis=Y=null,W.pause(),K.isPressed=!0,e=WL(e),Z=J=0,K.startX=K.x=e.clientX,K.startY=K.y=e.clientY,K._vx.reset(),K._vy.reset(),PL(I?i:se,wL[1],me,Q,!0),K.deltaX=K.deltaY=0,g&&g(K))},ve=K.onRelease=function(e){if(!he(e,1)){NL(I?i:se,wL[1],me,!0);var t=!isNaN(K.y-K.startY),n=K.isDragging,r=n&&(Math.abs(K.x-K.startX)>3||Math.abs(K.y-K.startY)>3),o=WL(e);!r&&t&&(K._vx.reset(),K._vy.reset(),a&&z&&hL.delayedCall(.08,function(){if(OL()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(se.createEvent){var t=se.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,dL,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),K.isDragging=K.isGesturing=K.isPressed=!1,l&&n&&!I&&W.restart(!0),G&&fe(),p&&n&&p(K),v&&v(K,r)}},ye=function(e){return e.touches&&e.touches.length>1&&(K.isGesturing=!0)&&k(e,K.isDragging)},_e=function(){return(K.isGesturing=!1)||P(K)},be=function(e){if(!he(e)){var t=ee(),n=te();de((t-ne)*U,(n-re)*U,1),ne=t,re=n,l&&W.restart(!0)}},xe=function(e){if(!he(e)){e=WL(e,a),N&&($=!0);var t=(1===e.deltaMode?o:2===e.deltaMode?dL.innerHeight:1)*h;de(e.deltaX*t,e.deltaY*t,0),l&&!I&&W.restart(!0)}},we=function(e){if(!he(e)){var t=e.clientX,n=e.clientY,r=t-K.x,i=n-K.y;K.x=t,K.y=n,q=!0,l&&W.restart(!0),(r||i)&&pe(r,i)}},Se=function(e){K.event=e,M(K)},Ee=function(e){K.event=e,C(K)},Te=function(e){return he(e)||WL(e,a)&&F(K)};W=K._dc=hL.delayedCall(c||.25,function(){K._vx.reset(),K._vy.reset(),W.pause(),l&&l(K)}).pause(),K.deltaX=K.deltaY=0,K._vx=HL(0,50,!0),K._vy=HL(0,50,!0),K.scrollX=ee,K.scrollY=te,K.isDragging=K.isGesturing=K.isPressed=!1,SL(this),K.enable=function(e){return K.isEnabled||(PL(oe?se:i,"scroll",FL),r.indexOf("scroll")>=0&&PL(oe?se:i,"scroll",be,Q,B),r.indexOf("wheel")>=0&&PL(i,"wheel",xe,Q,B),(r.indexOf("touch")>=0&&vL||r.indexOf("pointer")>=0)&&(PL(i,wL[0],ge,Q,B),PL(se,wL[2],ve),PL(se,wL[3],ve),z&&PL(i,"click",ue,!0,!0),F&&PL(i,"click",Te),k&&PL(se,"gesturestart",ye),P&&PL(se,"gestureend",_e),M&&PL(i,yL+"enter",Se),C&&PL(i,yL+"leave",Ee),O&&PL(i,yL+"move",we)),K.isEnabled=!0,K.isDragging=K.isGesturing=K.isPressed=q=G=!1,K._vx.reset(),K._vy.reset(),ne=ee(),re=te(),e&&e.type&&ge(e),D&&D(K)),K},K.disable=function(){K.isEnabled&&(AL.filter(function(e){return e!==K&&kL(e.target)}).length||NL(oe?se:i,"scroll",FL),K.isPressed&&(K._vx.reset(),K._vy.reset(),NL(I?i:se,wL[1],me,!0)),NL(oe?se:i,"scroll",be,B),NL(i,"wheel",xe,B),NL(i,wL[0],ge,B),NL(se,wL[2],ve),NL(se,wL[3],ve),NL(i,"click",ue,!0),NL(i,"click",Te),NL(se,"gesturestart",ye),NL(se,"gestureend",_e),NL(i,yL+"enter",Se),NL(i,yL+"leave",Ee),NL(i,yL+"move",we),K.isEnabled=K.isPressed=K.isDragging=!1,L&&L(K))},K.kill=K.revert=function(){K.disable();var e=AL.indexOf(K);e>=0&&AL.splice(e,1),xL===K&&(xL=0)},AL.push(K),I&&kL(i)&&(xL=K),K.enable(f)},uL(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();XL.version="3.14.2",XL.create=function(e){return new XL(e)},XL.register=$L,XL.getAll=function(){return AL.slice()},XL.getById=function(e){return AL.filter(function(t){return t.vars.id===e})[0]},EL()&&hL.registerPlugin(XL);var YL,KL,ZL,JL,QL,eF,tF,nF,rF,iF,oF,sF,aF,lF,cF,uF,hF,fF,dF,pF,mF,gF,vF,yF,_F,bF,xF,wF,SF,EF,TF,AF,MF,CF,OF,RF,IF,kF,PF=1,NF=Date.now,DF=NF(),LF=0,FF=0,UF=function(e,t,n){var r=JF(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},BF=function(e,t){return!t||JF(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},zF=function e(){return FF&&requestAnimationFrame(e)},VF=function(){return lF=1},jF=function(){return lF=0},HF=function(e){return e},WF=function(e){return Math.round(1e5*e)/1e5||0},GF=function(){return"undefined"!=typeof window},qF=function(){return YL||GF()&&(YL=window.gsap)&&YL.registerPlugin&&YL},$F=function(e){return!!~tF.indexOf(e)},XF=function(e){return("Height"===e?TF:ZL["inner"+e])||QL["client"+e]||eF["client"+e]},YF=function(e){return IL(e,"getBoundingClientRect")||($F(e)?function(){return cB.width=ZL.innerWidth,cB.height=TF,cB}:function(){return xU(e)})},KF=function(e,t){var n=t.s,r=t.d2,i=t.d,o=t.a;return Math.max(0,(n="scroll"+r)&&(o=IL(e,n))?o()-YF(e)()[i]:$F(e)?(QL[n]||eF[n])-XF(r):e[n]-e["offset"+r])},ZF=function(e,t){for(var n=0;n<dF.length;n+=3)(!t||~t.indexOf(dF[n+1]))&&e(dF[n],dF[n+1],dF[n+2])},JF=function(e){return"string"==typeof e},QF=function(e){return"function"==typeof e},eU=function(e){return"number"==typeof e},tU=function(e){return"object"==typeof e},nU=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},rU=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},iU=Math.abs,oU="left",sU="right",aU="bottom",lU="width",cU="height",uU="Right",hU="Left",fU="Top",dU="Bottom",pU="padding",mU="margin",gU="Width",vU="Height",yU="px",_U=function(e){return ZL.getComputedStyle(e)},bU=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},xU=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==_U(e)[cF]&&YL.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},wU=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},SU=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},EU=function(e){var t=YL.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var o;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,o=0;o<n.length;o++)if(n[o]>=e)return n[o];return n[o-1]}for(o=n.length,e+=i;o--;)if(n[o]<=e)return n[o];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var o=t(n);return!r||Math.abs(o-n)<i||o-n<0==r<0?o:t(r<0?n-e:n+e)}},TU=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},AU=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},MU=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},CU=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},OU={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},RU={toggleActions:"play",anticipatePin:0},IU={top:0,left:0,center:.5,bottom:1,right:1},kU=function(e,t){if(JF(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in IU?IU[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},PU=function(e,t,n,r,i,o,s,a){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,f=i.fontWeight,d=JL.createElement("div"),p=$F(n)||"fixed"===IL(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?eF:n,v=-1!==e.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||a)&&p?"fixed;":"absolute;"),(m||a||!p)&&(_+=(r===zL?sU:aU)+":"+(o+parseFloat(h))+"px;"),s&&(_+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),d._isStart=v,d.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),d.style.cssText=_,d.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(d,g.children[0]):g.appendChild(d),d._offset=d["offset"+r.op.d2],NU(d,0,r,v),d},NU=function(e,t,n,r){var i={display:"block"},o=n[r?"os2":"p2"],s=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+o+gU]=1,i["border"+s+gU]=0,i[n.p]=t+"px",YL.set(e,i)},DU=[],LU={},FU=function(){return NF()-LF>34&&(OF||(OF=requestAnimationFrame(nB)))},UU=function(){(!vF||!vF.isPressed||vF.startX>eF.clientWidth)&&(ML.cache++,vF?OF||(OF=requestAnimationFrame(nB)):nB(),LF||WU("scrollStart"),LF=NF())},BU=function(){bF=ZL.innerWidth,_F=ZL.innerHeight},zU=function(e){ML.cache++,(!0===e||!aF&&!gF&&!JL.fullscreenElement&&!JL.webkitFullscreenElement&&(!yF||bF!==ZL.innerWidth||Math.abs(ZL.innerHeight-_F)>.25*ZL.innerHeight))&&nF.restart(!0)},VU={},jU=[],HU=function e(){return MU(gB,"scrollEnd",e)||QU(!0)},WU=function(e){return VU[e]&&VU[e].map(function(e){return e()})||jU},GU=[],qU=function(e){for(var t=0;t<GU.length;t+=5)(!e||GU[t+4]&&GU[t+4].query===e)&&(GU[t].style.cssText=GU[t+1],GU[t].getBBox&&GU[t].setAttribute("transform",GU[t+2]||""),GU[t+3].uncache=1)},$U=function(){return ML.forEach(function(e){return QF(e)&&++e.cacheID&&(e.rec=e())})},XU=function(e,t){var n;for(uF=0;uF<DU.length;uF++)!(n=DU[uF])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));AF=!0,t&&qU(t),t||WU("revert")},YU=function(e,t){ML.cache++,(t||!RF)&&ML.forEach(function(e){return QF(e)&&e.cacheID++&&(e.rec=0)}),JF(e)&&(ZL.history.scrollRestoration=SF=e)},KU=0,ZU=function(){eF.appendChild(EF),TF=!vF&&EF.offsetHeight||ZL.innerHeight,eF.removeChild(EF)},JU=function(e){return rF(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},QU=function(e,t){if(QL=JL.documentElement,eF=JL.body,tF=[ZL,JL,QL,eF],!LF||e||AF){ZU(),RF=gB.isRefreshing=!0,AF||$U();var n=WU("refreshInit");pF&&gB.sort(),t||XU(),ML.forEach(function(e){QF(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),DU.slice(0).forEach(function(e){return e.refresh()}),AF=!1,DU.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),MF=1,JU(!0),DU.forEach(function(e){var t=KF(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),JU(!1),MF=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),ML.forEach(function(e){QF(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),YU(SF,1),nF.pause(),KU++,RF=2,nB(2),DU.forEach(function(e){return QF(e.vars.onRefresh)&&e.vars.onRefresh(e)}),RF=gB.isRefreshing=!1,WU("refresh")}else AU(gB,"scrollEnd",HU)},eB=0,tB=1,nB=function(e){if(2===e||!RF&&!AF){gB.isUpdating=!0,kF&&kF.update(0);var t=DU.length,n=NF(),r=n-DF>=50,i=t&&DU[0].scroll();if(tB=eB>i?-1:1,RF||(eB=i),r&&(LF&&!lF&&n-LF>200&&(LF=0,WU("scrollEnd")),oF=DF,DF=n),tB<0){for(uF=t;uF-- >0;)DU[uF]&&DU[uF].update(0,r);tB=1}else for(uF=0;uF<t;uF++)DU[uF]&&DU[uF].update(0,r);gB.isUpdating=!1}OF=0},rB=[oU,"top",aU,sU,mU+dU,mU+uU,mU+fU,mU+hU,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],iB=rB.concat([lU,cU,"boxSizing","max"+gU,"max"+vU,"position",mU,pU,pU+fU,pU+uU,pU+dU,pU+hU]),oB=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,o=rB.length,s=t.style,a=e.style;o--;)s[i=rB[o]]=n[i];s.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(s.display="inline-block"),a[aU]=a[sU]="auto",s.flexBasis=n.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[lU]=wU(e,BL)+yU,s[cU]=wU(e,zL)+yU,s[pU]=a[mU]=a.top=a[oU]="0",aB(r),a[lU]=a["max"+gU]=n[lU],a[cU]=a["max"+vU]=n[cU],a[pU]=n[pU],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},sB=/([A-Z])/g,aB=function(e){if(e){var t,n,r=e.t.style,i=e.length,o=0;for((e.t._gsap||YL.core.getCache(e.t)).uncache=1;o<i;o+=2)n=e[o+1],t=e[o],n?r[t]=n:r[t]&&r.removeProperty(t.replace(sB,"-$1").toLowerCase())}},lB=function(e){for(var t=iB.length,n=e.style,r=[],i=0;i<t;i++)r.push(iB[i],n[iB[i]]);return r.t=e,r},cB={left:0,top:0},uB=function(e,t,n,r,i,o,s,a,l,c,u,h,f,d){QF(e)&&(e=e(a)),JF(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?kU("0"+e.substr(3),n):0));var p,m,g,v=f?f.time():0;if(f&&f.seek(0),isNaN(e)||(e=+e),eU(e))f&&(e=YL.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,h,e)),s&&NU(s,n,r,!0);else{QF(t)&&(t=t(a));var y,_,b,x,w=(e||"0").split(" ");g=VL(t,a)||eF,(y=xU(g)||{})&&(y.left||y.top)||"none"!==_U(g).display||(x=g.style.display,g.style.display="block",y=xU(g),x?g.style.display=x:g.style.removeProperty("display")),_=kU(w[0],y[r.d]),b=kU(w[1]||"0",n),e=y[r.p]-l[r.p]-c+_+i-b,s&&NU(s,b,r,n-b<20||s._isStart&&b>20),n-=n-b}if(d&&(a[d]=e||-.001,e<0&&(e=0)),o){var S=e+n,E=o._isStart;p="scroll"+r.d2,NU(o,S,r,E&&S>20||!E&&(u?Math.max(eF[p],QL[p]):o.parentNode[p])<=S+1),u&&(l=xU(s),u&&(o.style[r.op.p]=l[r.op.p]-r.op.m-o._offset+yU))}return f&&g&&(p=xU(g),f.seek(h),m=xU(g),f._caScrollDist=p[r.p]-m[r.p],e=e/f._caScrollDist*h),f&&f.seek(v),f?e:Math.round(e)},hB=/(webkit|moz|length|cssText|inset)/i,fB=function(e,t,n,r){if(e.parentNode!==t){var i,o,s=e.style;if(t===eF){for(i in e._stOrig=s.cssText,o=_U(e))+i||hB.test(i)||!o[i]||"string"!=typeof s[i]||"0"===i||(s[i]=o[i]);s.top=n,s.left=r}else s.cssText=e._stOrig;YL.core.getCache(e).uncache=1,t.appendChild(e)}},dB=function(e,t,n){var r=t,i=r;return function(t){var o=Math.round(e());return o!==r&&o!==i&&Math.abs(o-r)>3&&Math.abs(o-i)>3&&(t=o,n&&n()),i=r,r=Math.round(t)}},pB=function(e,t,n){var r={};r[t.p]="+="+n,YL.set(e,r)},mB=function(e,t){var n=jL(e,t),r="_scroll"+t.p2,i=function t(i,o,s,a,l){var c=t.tween,u=o.onComplete,h={};s=s||n();var f=dB(n,s,function(){c.kill(),t.tween=0});return l=a&&l||0,a=a||i-s,c&&c.kill(),o[r]=i,o.inherit=!1,o.modifiers=h,h[r]=function(){return f(s+a*c.ratio+l*c.ratio*c.ratio)},o.onUpdate=function(){ML.cache++,t.tween&&nB()},o.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=YL.to(e,o)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},AU(e,"wheel",n.wheelHandler),gB.isTouch&&AU(e,"touchmove",n.wheelHandler),i},gB=function(){function e(t,n){KL||e.register(YL),wF(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),FF){var r,i,o,s,a,l,c,u,h,f,d,p,m,g,v,y,_,b,x,w,S,E,T,A,M,C,O,R,I,k,P,N,D,L,F,U,B,z,V,j,H,W,G=t=bU(JF(t)||eU(t)||t.nodeType?{trigger:t}:t,RU),q=G.onUpdate,$=G.toggleClass,X=G.id,Y=G.onToggle,K=G.onRefresh,Z=G.scrub,J=G.trigger,Q=G.pin,ee=G.pinSpacing,te=G.invalidateOnRefresh,ne=G.anticipatePin,re=G.onScrubComplete,ie=G.onSnapComplete,oe=G.once,se=G.snap,ae=G.pinReparent,le=G.pinSpacer,ce=G.containerAnimation,ue=G.fastScrollEnd,he=G.preventOverlaps,fe=t.horizontal||t.containerAnimation&&!1!==t.horizontal?BL:zL,de=!Z&&0!==Z,pe=VL(t.scroller||ZL),me=YL.core.getCache(pe),ge=$F(pe),ve="fixed"===("pinType"in t?t.pinType:IL(pe,"pinType")||ge&&"fixed"),ye=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],_e=de&&t.toggleActions.split(" "),be="markers"in t?t.markers:RU.markers,xe=ge?0:parseFloat(_U(pe)["border"+fe.p2+gU])||0,we=this,Se=t.onRefreshInit&&function(){return t.onRefreshInit(we)},Ee=function(e,t,n){var r=n.d,i=n.d2,o=n.a;return(o=IL(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?XF(i):e["client"+i])||0}}(pe,ge,fe),Te=function(e,t){return!t||~CL.indexOf(e)?YF(e):function(){return cB}}(pe,ge),Ae=0,Me=0,Ce=0,Oe=jL(pe,fe);if(we._startClamp=we._endClamp=!1,we._dir=fe,ne*=45,we.scroller=pe,we.scroll=ce?ce.time.bind(ce):Oe,s=Oe(),we.vars=t,n=n||t.animation,"refreshPriority"in t&&(pF=1,-9999===t.refreshPriority&&(kF=we)),me.tweenScroll=me.tweenScroll||{top:mB(pe,zL),left:mB(pe,BL)},we.tweenTo=r=me.tweenScroll[fe.p],we.scrubDuration=function(e){(D=eU(e)&&e)?N?N.duration(e):N=YL.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:D,paused:!0,onComplete:function(){return re&&re(we)}}):(N&&N.progress(1).kill(),N=0)},n&&(n.vars.lazy=!1,n._initted&&!we.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),we.animation=n.pause(),n.scrollTrigger=we,we.scrubDuration(Z),k=0,X||(X=n.vars.id)),se&&(tU(se)&&!se.push||(se={snapTo:se}),"scrollBehavior"in eF.style&&YL.set(ge?[eF,QL]:pe,{scrollBehavior:"auto"}),ML.forEach(function(e){return QF(e)&&e.target===(ge?JL.scrollingElement||QL:pe)&&(e.smooth=!1)}),o=QF(se.snapTo)?se.snapTo:"labels"===se.snapTo?function(e){return function(t){return YL.utils.snap(SU(e),t)}}(n):"labelsDirectional"===se.snapTo?(j=n,function(e,t){return EU(SU(j))(e,t.direction)}):!1!==se.directional?function(e,t){return EU(se.snapTo)(e,NF()-Me<500?0:t.direction)}:YL.utils.snap(se.snapTo),L=se.duration||{min:.1,max:2},L=tU(L)?iF(L.min,L.max):iF(L,L),F=YL.delayedCall(se.delay||D/2||.1,function(){var e=Oe(),t=NF()-Me<500,i=r.tween;if(!(t||Math.abs(we.getVelocity())<10)||i||lF||Ae===e)we.isActive&&Ae!==e&&F.restart(!0);else{var s,a,u=(e-l)/g,h=n&&!de?n.totalProgress():u,f=t?0:(h-P)/(NF()-oF)*1e3||0,d=YL.utils.clamp(-u,1-u,iU(f/2)*f/.185),p=u+(!1===se.inertia?0:d),m=se,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(s=o(p,we),eU(s)||(s=p),a=Math.max(0,Math.round(l+s*g)),e<=c&&e>=l&&a!==e){if(i&&!i._initted&&i.data<=iU(a-e))return;!1===se.inertia&&(d=s-u),r(a,{duration:L(iU(.185*Math.max(iU(p-h),iU(s-h))/f/.05||0)),ease:se.ease||"power3",data:iU(a-e),onInterrupt:function(){return F.restart(!0)&&y&&y(we)},onComplete:function(){we.update(),Ae=Oe(),n&&!de&&(N?N.resetTo("totalProgress",s,n._tTime/n._tDur):n.progress(s)),k=P=n&&!de?n.totalProgress():we.progress,ie&&ie(we),_&&_(we)}},e,d*g,a-e-d*g),v&&v(we,r.tween)}}}).pause()),X&&(LU[X]=we),(V=(J=we.trigger=VL(J||!0!==Q&&Q))&&J._gsap&&J._gsap.stRevert)&&(V=V(we)),Q=!0===Q?J:VL(Q),JF($)&&($={targets:J,className:$}),Q&&(!1===ee||ee===mU||(ee=!(!ee&&Q.parentNode&&Q.parentNode.style&&"flex"===_U(Q.parentNode).display)&&pU),we.pin=Q,(i=YL.core.getCache(Q)).spacer?v=i.pinState:(le&&((le=VL(le))&&!le.nodeType&&(le=le.current||le.nativeElement),i.spacerIsNative=!!le,le&&(i.spacerState=lB(le))),i.spacer=b=le||JL.createElement("div"),b.classList.add("pin-spacer"),X&&b.classList.add("pin-spacer-"+X),i.pinState=v=lB(Q)),!1!==t.force3D&&YL.set(Q,{force3D:!0}),we.spacer=b=i.spacer,I=_U(Q),A=I[ee+fe.os2],w=YL.getProperty(Q),S=YL.quickSetter(Q,fe.a,yU),oB(Q,b,I),_=lB(Q)),be){p=tU(be)?bU(be,OU):OU,f=PU("scroller-start",X,pe,fe,p,0),d=PU("scroller-end",X,pe,fe,p,0,f),x=f["offset"+fe.op.d2];var Re=VL(IL(pe,"content")||pe);u=this.markerStart=PU("start",X,Re,fe,p,x,0,ce),h=this.markerEnd=PU("end",X,Re,fe,p,x,0,ce),ce&&(z=YL.quickSetter([u,h],fe.a,yU)),ve||CL.length&&!0===IL(pe,"fixedMarkers")||(W=_U(H=ge?eF:pe).position,H.style.position="absolute"===W||"fixed"===W?W:"relative",YL.set([f,d],{force3D:!0}),C=YL.quickSetter(f,fe.a,yU),R=YL.quickSetter(d,fe.a,yU))}if(ce){var Ie=ce.vars.onUpdate,ke=ce.vars.onUpdateParams;ce.eventCallback("onUpdate",function(){we.update(0,0,1),Ie&&Ie.apply(ce,ke||[])})}if(we.previous=function(){return DU[DU.indexOf(we)-1]},we.next=function(){return DU[DU.indexOf(we)+1]},we.revert=function(e,t){if(!t)return we.kill(!0);var r=!1!==e||!we.enabled,i=aF;r!==we.isReverted&&(r&&(U=Math.max(Oe(),we.scroll.rec||0),Ce=we.progress,B=n&&n.progress()),u&&[u,h,f,d].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(aF=we,we.update(r)),!Q||ae&&we.isActive||(r?function(e,t,n){aB(n);var r=e._gsap;if(r.spacerIsNative)aB(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}(Q,b,v):oB(Q,b,_U(Q),M)),r||we.update(r),aF=i,we.isReverted=r)},we.refresh=function(i,o,p,x){if(!aF&&we.enabled||o)if(Q&&i&&LF)AU(e,"scrollEnd",HU);else{!RF&&Se&&Se(we),aF=we,r.tween&&!p&&(r.tween.kill(),r.tween=0),N&&N.pause(),te&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),we.isReverted||we.revert(!0,!0),we._subPinOffset=!1;var S,A,C,R,I,k,P,D,L,z,V,j,H,W=Ee(),G=Te(),q=ce?ce.duration():KF(pe,fe),$=g<=.01||!g,X=0,Y=x||0,Z=tU(p)?p.end:t.end,ne=t.endTrigger||J,re=tU(p)?p.start:t.start||(0!==t.start&&J?Q?"0 0":"0 100%":0),ie=we.pinnedContainer=t.pinnedContainer&&VL(t.pinnedContainer,we),oe=J&&Math.max(0,DU.indexOf(we))||0,se=oe;for(be&&tU(p)&&(j=YL.getProperty(f,fe.p),H=YL.getProperty(d,fe.p));se-- >0;)(k=DU[se]).end||k.refresh(0,1)||(aF=we),!(P=k.pin)||P!==J&&P!==Q&&P!==ie||k.isReverted||(z||(z=[]),z.unshift(k),k.revert(!0,!0)),k!==DU[se]&&(oe--,se--);for(QF(re)&&(re=re(we)),re=UF(re,"start",we),l=uB(re,J,W,fe,Oe(),u,f,we,G,xe,ve,q,ce,we._startClamp&&"_startClamp")||(Q?-.001:0),QF(Z)&&(Z=Z(we)),JF(Z)&&!Z.indexOf("+=")&&(~Z.indexOf(" ")?Z=(JF(re)?re.split(" ")[0]:"")+Z:(X=kU(Z.substr(2),W),Z=JF(re)?re:(ce?YL.utils.mapRange(0,ce.duration(),ce.scrollTrigger.start,ce.scrollTrigger.end,l):l)+X,ne=J)),Z=UF(Z,"end",we),c=Math.max(l,uB(Z||(ne?"100% 0":q),ne,W,fe,Oe()+X,h,d,we,G,xe,ve,q,ce,we._endClamp&&"_endClamp"))||-.001,X=0,se=oe;se--;)(P=(k=DU[se]||{}).pin)&&k.start-k._pinPush<=l&&!ce&&k.end>0&&(S=k.end-(we._startClamp?Math.max(0,k.start):k.start),(P===J&&k.start-k._pinPush<l||P===ie)&&isNaN(re)&&(X+=S*(1-k.progress)),P===Q&&(Y+=S));if(l+=X,c+=X,we._startClamp&&(we._startClamp+=X),we._endClamp&&!RF&&(we._endClamp=c||-.001,c=Math.min(c,KF(pe,fe))),g=c-l||(l-=.01)&&.001,$&&(Ce=YL.utils.clamp(0,1,YL.utils.normalize(l,c,U))),we._pinPush=Y,u&&X&&((S={})[fe.a]="+="+X,ie&&(S[fe.p]="-="+Oe()),YL.set([u,h],S)),!Q||MF&&we.end>=KF(pe,fe)){if(J&&Oe()&&!ce)for(A=J.parentNode;A&&A!==eF;)A._pinOffset&&(l-=A._pinOffset,c-=A._pinOffset),A=A.parentNode}else S=_U(Q),R=fe===zL,C=Oe(),E=parseFloat(w(fe.a))+Y,!q&&c>1&&(V={style:V=(ge?JL.scrollingElement||QL:pe).style,value:V["overflow"+fe.a.toUpperCase()]},ge&&"scroll"!==_U(eF)["overflow"+fe.a.toUpperCase()]&&(V.style["overflow"+fe.a.toUpperCase()]="scroll")),oB(Q,b,S),_=lB(Q),A=xU(Q,!0),D=ve&&jL(pe,R?BL:zL)(),ee?((M=[ee+fe.os2,g+Y+yU]).t=b,(se=ee===pU?wU(Q,fe)+g+Y:0)&&(M.push(fe.d,se+yU),"auto"!==b.style.flexBasis&&(b.style.flexBasis=se+yU)),aB(M),ie&&DU.forEach(function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),ve&&Oe(U)):(se=wU(Q,fe))&&"auto"!==b.style.flexBasis&&(b.style.flexBasis=se+yU),ve&&((I={top:A.top+(R?C-l:D)+yU,left:A.left+(R?D:C-l)+yU,boxSizing:"border-box",position:"fixed"})[lU]=I["max"+gU]=Math.ceil(A.width)+yU,I[cU]=I["max"+vU]=Math.ceil(A.height)+yU,I[mU]=I[mU+fU]=I[mU+uU]=I[mU+dU]=I[mU+hU]="0",I[pU]=S[pU],I[pU+fU]=S[pU+fU],I[pU+uU]=S[pU+uU],I[pU+dU]=S[pU+dU],I[pU+hU]=S[pU+hU],y=function(e,t,n){for(var r,i=[],o=e.length,s=n?8:0;s<o;s+=2)r=e[s],i.push(r,r in t?t[r]:e[s+1]);return i.t=e.t,i}(v,I,ae),RF&&Oe(0)),n?(L=n._initted,mF(1),n.render(n.duration(),!0,!0),T=w(fe.a)-E+g+Y,O=Math.abs(g-T)>1,ve&&O&&y.splice(y.length-2,2),n.render(0,!0,!0),L||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),mF(0)):T=g,V&&(V.value?V.style["overflow"+fe.a.toUpperCase()]=V.value:V.style.removeProperty("overflow-"+fe.a));z&&z.forEach(function(e){return e.revert(!1,!0)}),we.start=l,we.end=c,s=a=RF?U:Oe(),ce||RF||(s<U&&Oe(U),we.scroll.rec=0),we.revert(!1,!0),Me=NF(),F&&(Ae=-1,F.restart(!0)),aF=0,n&&de&&(n._initted||B)&&n.progress()!==B&&n.progress(B||0,!0).render(n.time(),!0,!0),($||Ce!==we.progress||ce||te||n&&!n._initted)&&(n&&!de&&(n._initted||Ce||!1!==n.vars.immediateRender)&&n.totalProgress(ce&&l<-.001&&!Ce?YL.utils.normalize(l,c,0):Ce,!0),we.progress=$||(s-l)/g===Ce?0:Ce),Q&&ee&&(b._pinOffset=Math.round(we.progress*T)),N&&N.invalidate(),isNaN(j)||(j-=YL.getProperty(f,fe.p),H-=YL.getProperty(d,fe.p),pB(f,fe,j),pB(u,fe,j-(x||0)),pB(d,fe,H),pB(h,fe,H-(x||0))),$&&!RF&&we.update(),!K||RF||m||(m=!0,K(we),m=!1)}},we.getVelocity=function(){return(Oe()-a)/(NF()-oF)*1e3||0},we.endAnimation=function(){nU(we.callbackAnimation),n&&(N?N.progress(1):n.paused()?de||nU(n,we.direction<0,1):nU(n,n.reversed()))},we.labelToScroll=function(e){return n&&n.labels&&(l||we.refresh()||l)+n.labels[e]/n.duration()*g||0},we.getTrailing=function(e){var t=DU.indexOf(we),n=we.direction>0?DU.slice(0,t).reverse():DU.slice(t+1);return(JF(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return we.direction>0?e.end<=l:e.start>=c})},we.update=function(e,t,i){if(!ce||i||e){var o,u,h,d,p,m,v,x=!0===RF?U:we.scroll(),w=e?0:(x-l)/g,M=w<0?0:w>1?1:w||0,I=we.progress;if(t&&(a=s,s=ce?Oe():x,se&&(P=k,k=n&&!de?n.totalProgress():M)),ne&&Q&&!aF&&!PF&&LF&&(!M&&l<x+(x-a)/(NF()-oF)*ne?M=1e-4:1===M&&c>x+(x-a)/(NF()-oF)*ne&&(M=.9999)),M!==I&&we.enabled){if(d=(p=(o=we.isActive=!!M&&M<1)!==(!!I&&I<1))||!!M!=!!I,we.direction=M>I?1:-1,we.progress=M,d&&!aF&&(u=M&&!I?0:1===M?1:1===I?2:3,de&&(h=!p&&"none"!==_e[u+1]&&_e[u+1]||_e[u],v=n&&("complete"===h||"reset"===h||h in n))),he&&(p||v)&&(v||Z||!n)&&(QF(he)?he(we):we.getTrailing(he).forEach(function(e){return e.endAnimation()})),de||(!N||aF||PF?n&&n.totalProgress(M,!(!aF||!Me&&!e)):(N._dp._time-N._start!==N._time&&N.render(N._dp._time-N._start),N.resetTo?N.resetTo("totalProgress",M,n._tTime/n._tDur):(N.vars.totalProgress=M,N.invalidate().restart()))),Q)if(e&&ee&&(b.style[ee+fe.os2]=A),ve){if(d){if(m=!e&&M>I&&c+1>x&&x+1>=KF(pe,fe),ae)if(e||!o&&!m)fB(Q,b);else{var D=xU(Q,!0),L=x-l;fB(Q,eF,D.top+(fe===zL?L:0)+yU,D.left+(fe===zL?0:L)+yU)}aB(o||m?y:_),O&&M<1&&o||S(E+(1!==M||m?0:T))}}else S(WF(E+T*M));se&&!r.tween&&!aF&&!PF&&F.restart(!0),$&&(p||oe&&M&&(M<1||!CF))&&rF($.targets).forEach(function(e){return e.classList[o||oe?"add":"remove"]($.className)}),q&&!de&&!e&&q(we),d&&!aF?(de&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),q&&q(we)),!p&&CF||(Y&&p&&rU(we,Y),ye[u]&&rU(we,ye[u]),oe&&(1===M?we.kill(!1,1):ye[u]=0),p||ye[u=1===M?1:3]&&rU(we,ye[u])),ue&&!o&&Math.abs(we.getVelocity())>(eU(ue)?ue:2500)&&(nU(we.callbackAnimation),N?N.progress(1):nU(n,"reverse"===h?1:!M,1))):de&&q&&!aF&&q(we)}if(R){var B=ce?x/ce.duration()*(ce._caScrollDist||0):x;C(B+(f._isFlipped?1:0)),R(B)}z&&z(-x/ce.duration()*(ce._caScrollDist||0))}},we.enable=function(t,n){we.enabled||(we.enabled=!0,AU(pe,"resize",zU),ge||AU(pe,"scroll",UU),Se&&AU(e,"refreshInit",Se),!1!==t&&(we.progress=Ce=0,s=a=Ae=Oe()),!1!==n&&we.refresh())},we.getTween=function(e){return e&&r?r.tween:N},we.setPositions=function(e,t,n,r){if(ce){var i=ce.scrollTrigger,o=ce.duration(),s=i.end-i.start;e=i.start+s*e/o,t=i.start+s*t/o}we.refresh(!1,!1,{start:BF(e,n&&!!we._startClamp),end:BF(t,n&&!!we._endClamp)},r),we.update()},we.adjustPinSpacing=function(e){if(M&&e){var t=M.indexOf(fe.d)+1;M[t]=parseFloat(M[t])+e+yU,M[1]=parseFloat(M[1])+e+yU,aB(M)}},we.disable=function(t,n){if(!1!==t&&we.revert(!0,!0),we.enabled&&(we.enabled=we.isActive=!1,n||N&&N.pause(),U=0,i&&(i.uncache=1),Se&&MU(e,"refreshInit",Se),F&&(F.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!ge)){for(var o=DU.length;o--;)if(DU[o].scroller===pe&&DU[o]!==we)return;MU(pe,"resize",zU),ge||MU(pe,"scroll",UU)}},we.kill=function(e,r){we.disable(e,r),N&&!r&&N.kill(),X&&delete LU[X];var o=DU.indexOf(we);o>=0&&DU.splice(o,1),o===uF&&tB>0&&uF--,o=0,DU.forEach(function(e){return e.scroller===we.scroller&&(o=1)}),o||RF||(we.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,f,d].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),kF===we&&(kF=0),Q&&(i&&(i.uncache=1),o=0,DU.forEach(function(e){return e.pin===Q&&o++}),o||(i.spacer=0)),t.onKill&&t.onKill(we)},DU.push(we),we.enable(!1,!1),V&&V(we),n&&n.add&&!g){var Pe=we.update;we.update=function(){we.update=Pe,ML.cache++,l||c||we.refresh()},YL.delayedCall(.01,we.update),g=.01,l=c=0}else we.refresh();Q&&function(){if(IF!==KU){var e=IF=KU;requestAnimationFrame(function(){return e===KU&&QU(!0)})}}()}else this.update=this.refresh=this.kill=HF},e.register=function(t){return KL||(YL=t||qF(),GF()&&window.document&&e.enable(),KL=FF),KL},e.defaults=function(e){if(e)for(var t in e)RU[t]=e[t];return RU},e.disable=function(e,t){FF=0,DU.forEach(function(n){return n[t?"kill":"disable"](e)}),MU(ZL,"wheel",UU),MU(JL,"scroll",UU),clearInterval(sF),MU(JL,"touchcancel",HF),MU(eF,"touchstart",HF),TU(MU,JL,"pointerdown,touchstart,mousedown",VF),TU(MU,JL,"pointerup,touchend,mouseup",jF),nF.kill(),ZF(MU);for(var n=0;n<ML.length;n+=3)CU(MU,ML[n],ML[n+1]),CU(MU,ML[n],ML[n+2])},e.enable=function(){if(ZL=window,JL=document,QL=JL.documentElement,eF=JL.body,YL&&(rF=YL.utils.toArray,iF=YL.utils.clamp,wF=YL.core.context||HF,mF=YL.core.suppressOverwrites||HF,SF=ZL.history.scrollRestoration||"auto",eB=ZL.pageYOffset||0,YL.core.globals("ScrollTrigger",e),eF)){FF=1,(EF=document.createElement("div")).style.height="100vh",EF.style.position="absolute",ZU(),zF(),XL.register(YL),e.isTouch=XL.isTouch,xF=XL.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),yF=1===XL.isTouch,AU(ZL,"wheel",UU),tF=[ZL,JL,QL,eF],YL.matchMedia&&(e.matchMedia=function(e){var t,n=YL.matchMedia();for(t in e)n.add(t,e[t]);return n},YL.addEventListener("matchMediaInit",function(){$U(),XU()}),YL.addEventListener("matchMediaRevert",function(){return qU()}),YL.addEventListener("matchMedia",function(){QU(0,1),WU("matchMedia")}),YL.matchMedia().add("(orientation: portrait)",function(){return BU(),BU})),BU(),AU(JL,"scroll",UU);var t,n,r=eF.hasAttribute("style"),i=eF.style,o=i.borderTopStyle,s=YL.core.Animation.prototype;for(s.revert||Object.defineProperty(s,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=xU(eF),zL.m=Math.round(t.top+zL.sc())||0,BL.m=Math.round(t.left+BL.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||(eF.setAttribute("style",""),eF.removeAttribute("style")),sF=setInterval(FU,250),YL.delayedCall(.5,function(){return PF=0}),AU(JL,"touchcancel",HF),AU(eF,"touchstart",HF),TU(AU,JL,"pointerdown,touchstart,mousedown",VF),TU(AU,JL,"pointerup,touchend,mouseup",jF),cF=YL.utils.checkPrefix("transform"),iB.push(cF),KL=NF(),nF=YL.delayedCall(.2,QU).pause(),dF=[JL,"visibilitychange",function(){var e=ZL.innerWidth,t=ZL.innerHeight;JL.hidden?(hF=e,fF=t):hF===e&&fF===t||zU()},JL,"DOMContentLoaded",QU,ZL,"load",QU,ZL,"resize",zU],ZF(AU),DU.forEach(function(e){return e.enable(0,1)}),n=0;n<ML.length;n+=3)CU(MU,ML[n],ML[n+1]),CU(MU,ML[n],ML[n+2])}},e.config=function(t){"limitCallbacks"in t&&(CF=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(sF)||(sF=n)&&setInterval(FU,n),"ignoreMobileResize"in t&&(yF=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(ZF(MU)||ZF(AU,t.autoRefreshEvents||"none"),gF=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=VL(e),r=ML.indexOf(n),i=$F(n);~r&&ML.splice(r,i?6:2),t&&(i?CL.unshift(ZL,t,eF,t,QL,t):CL.unshift(n,t))},e.clearMatchMedia=function(e){DU.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(JF(e)?VL(e):e).getBoundingClientRect(),i=r[n?lU:cU]*t||0;return n?r.right-i>0&&r.left+i<ZL.innerWidth:r.bottom-i>0&&r.top+i<ZL.innerHeight},e.positionInViewport=function(e,t,n){JF(e)&&(e=VL(e));var r=e.getBoundingClientRect(),i=r[n?lU:cU],o=null==t?i/2:t in IU?IU[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+o)/ZL.innerWidth:(r.top+o)/ZL.innerHeight},e.killAll=function(e){if(DU.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=VU.killAll||[];VU={},t.forEach(function(e){return e()})}},e}();gB.version="3.14.2",gB.saveStyles=function(e){return e?rF(e).forEach(function(e){if(e&&e.style){var t=GU.indexOf(e);t>=0&&GU.splice(t,5),GU.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),YL.core.getCache(e),wF())}}):GU},gB.revert=function(e,t){return XU(!e,t)},gB.create=function(e,t){return new gB(e,t)},gB.refresh=function(e){return e?zU(!0):(KL||gB.register())&&QU(!0)},gB.update=function(e){return++ML.cache&&nB(!0===e?2:0)},gB.clearScrollMemory=YU,gB.maxScroll=function(e,t){return KF(e,t?BL:zL)},gB.getScrollFunc=function(e,t){return jL(VL(e),t?BL:zL)},gB.getById=function(e){return LU[e]},gB.getAll=function(){return DU.filter(function(e){return"ScrollSmoother"!==e.vars.id})},gB.isScrolling=function(){return!!LF},gB.snapDirectional=EU,gB.addEventListener=function(e,t){var n=VU[e]||(VU[e]=[]);~n.indexOf(t)||n.push(t)},gB.removeEventListener=function(e,t){var n=VU[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},gB.batch=function(e,t){var n,r=[],i={},o=t.interval||.016,s=t.batchMax||1e9,a=function(e,t){var n=[],r=[],i=YL.delayedCall(o,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),s<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&QF(t[n])&&"onRefreshInit"!==n?a(0,t[n]):t[n];return QF(s)&&(s=s(),AU(gB,"refresh",function(){return s=t.batchMax()})),rF(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(gB.create(t))}),r};var vB,yB=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},_B=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(XL.isTouch?" pinch-zoom":""):"none",t===QL&&e(eF,n)},bB={auto:1,scroll:1},xB=function(e){var t,n=e.event,r=e.target,i=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,s=o._gsap||YL.core.getCache(o),a=NF();if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o!==eF&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!bB[(t=_U(o)).overflowY]&&!bB[t.overflowX]);)o=o.parentNode;s._isScroll=o&&o!==r&&!$F(o)&&(bB[(t=_U(o)).overflowY]||bB[t.overflowX]),s._isScrollT=a}(s._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},wB=function(e,t,n,r){return XL.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&xB,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&AU(JL,XL.eventTypes[0],EB,!1,!0)},onDisable:function(){return MU(JL,XL.eventTypes[0],EB,!0)}})},SB=/(input|label|select|textarea)/i,EB=function(e){var t=SB.test(e.target.tagName);(t||vB)&&(e._gsapAllow=!0,vB=t)},TB=function(e){tU(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,o,s,a,l,c=e,u=c.normalizeScrollX,h=c.momentum,f=c.allowNestedScroll,d=c.onRelease,p=VL(e.target)||QL,m=YL.core.globals().ScrollSmoother,g=m&&m.get(),v=xF&&(e.content&&VL(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=jL(p,zL),_=jL(p,BL),b=1,x=(XL.isTouch&&ZL.visualViewport?ZL.visualViewport.scale*ZL.visualViewport.width:ZL.outerWidth)/ZL.innerWidth,w=0,S=QF(h)?function(){return h(t)}:function(){return h||2.8},E=wB(p,e.type,!0,f),T=function(){return i=!1},A=HF,M=HF,C=function(){n=KF(p,zL),M=iF(xF?1:0,n),u&&(A=iF(0,KF(p,BL))),r=KU},O=function(){v._gsap.y=WF(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},R=function(){C(),o.isActive()&&o.vars.scrollY>n&&(y()>n?o.progress(1)&&y(n):o.resetTo("scrollY",n))};return v&&YL.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return xF&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(T);var e=WF(t.deltaY/2),n=M(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=WF((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=ML.cache,nB()}return!0}y.offset&&O(),i=!0}()||b>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=b;b=WF((ZL.visualViewport&&ZL.visualViewport.scale||1)/x),o.pause(),e!==b&&_B(p,b>1.01||!u&&"x"),s=_(),a=y(),C(),r=KU},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&O(),t){ML.cache++;var r,i,s=S();u&&(i=(r=_())+.05*s*-e.velocityX/.227,s*=yB(_,r,i,KF(p,BL)),o.vars.scrollX=A(i)),i=(r=y())+.05*s*-e.velocityY/.227,s*=yB(y,r,i,KF(p,zL)),o.vars.scrollY=M(i),o.invalidate().duration(s).play(.01),(xF&&o.vars.scrollY>=n||r>=n-1)&&YL.to({},{onUpdate:R,duration:s})}else l.restart(!0);d&&d(e)},e.onWheel=function(){o._ts&&o.pause(),NF()-w>1e3&&(r=0,w=NF())},e.onChange=function(e,t,n,i,o){if(KU!==r&&C(),t&&u&&_(A(i[2]===t?s+(e.startX-e.x):_()+t-i[1])),n){y.offset&&O();var l=o[2]===n,c=l?a+e.startY-e.y:y()+n-o[1],h=M(c);l&&c!==h&&(a+=h-c),y(h)}(n||t)&&nB()},e.onEnable=function(){_B(p,!u&&"x"),gB.addEventListener("refresh",R),AU(ZL,"resize",R),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),E.enable()},e.onDisable=function(){_B(p,!0),MU(ZL,"resize",R),gB.removeEventListener("refresh",R),E.kill()},e.lockAxis=!1!==e.lockAxis,(t=new XL(e)).iOS=xF,xF&&!y()&&y(1),xF&&YL.ticker.add(HF),l=t._dc,o=YL.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:dB(y,y(),function(){return o.pause()})},onUpdate:nB,onComplete:l.vars.onComplete}),t};function AB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function MB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AB(Object(n),!0).forEach(function(t){CB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}gB.sort=function(e){if(QF(e))return DU.sort(e);var t=ZL.pageYOffset||0;return gB.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+ZL.innerHeight}),DU.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},gB.observe=function(e){return new XL(e)},gB.normalizeScroll=function(e){if(void 0===e)return vF;if(!0===e&&vF)return vF.enable();if(!1===e)return vF&&vF.kill(),void(vF=e);var t=e instanceof XL?e:TB(e);return vF&&vF.target===t.target&&vF.kill(),$F(t.target)&&(vF=t),t},gB.core={_getVelocityProp:HL,_inputObserver:wB,_scrollers:ML,_proxies:CL,bridge:{ss:function(){LF||WU("scrollStart"),LF=NF()},ref:function(){return aF}}},qF()&&YL.registerPlugin(gB);var OB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;this.fps=t,this.handler=e;var n=0;this.start=function(){var e=this;if(!this.started){var t=performance.now(),r=1e3/this.fps;n=requestAnimationFrame(function i(o){var s=o-t;n=requestAnimationFrame(i),s>=r-0&&(e.handler(s),t=o-s%r)}),this.started=!0}},this.stop=function(){cancelAnimationFrame(n),this.started=!1}},RB=function(e){return[Math.cos(kB(e-90)),Math.sin(kB(e-90))]},IB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(n,e))},kB=function(e){return e*Math.PI/180},PB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random();return t<=e?n=e:(0!==e||1!==t)&&t>e&&(n=n*(t-e)+e),n},NB=function(e){return e[Math.floor(PB(0,e.length))]},DB=function(){var e=FB(PB(0,360)),t=FB(PB(90,100)),n=FB(PB(45,85));return"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")},LB=function(e){return e>PB()},FB=function(e){return.5+e|0},UB=function(e){return e&&(this.canvas=e.canvas,this.settings=e.settings,this.colors=e.colors,this.shapes=e.shapes,this.images=e.images,this.styles=e.styles,this.ctx=e.canvas.getContext("2d"),this.setup(),this.init()),this};UB.prototype.setup=function(){var e=this.settings;this.frame=0,this.frameoffset=FB(PB(0,360)),this.size=FB(PB(e.minSize,e.maxSize)),this.da=this.getAlphaDelta(),this.dx=this.getDeltaX(),this.dy=this.getDeltaY(),this.dd=this.getDriftDelta(),this.dr=this.getRotationDelta(),this.color=this.getColor(),this.shape=this.getShape(),this.image=this.getImage(),this.style=this.getStyle(),this.rotation=e.rotate?kB(PB(0,360)):0,this.vertical=e.direction>150&&e.direction<210||e.direction>330&&e.direction<390||e.direction>-30&&e.direction<30,this.horizontal=e.direction>60&&e.direction<120||e.direction>240&&e.direction<300},UB.prototype.init=function(){var e=this.settings,t=this.canvas;this.alpha=0,(e.speed>0||0===e.alphaSpeed)&&(this.alpha=PB(e.minAlpha,e.maxAlpha)),e.bounce?(this.px=FB(PB(2,t.width-this.size-2)),this.py=FB(PB(2,t.height-this.size-2))):(this.px=FB(PB(2*-this.size,t.width+this.size)),this.py=FB(PB(2*-this.size,t.height+this.size)))},UB.prototype.reset=function(){this.setup(),this.py<0?this.py=this.canvas.height+2*this.size:this.py>this.canvas.height&&(this.py=0-2*this.size),this.px<0?this.px=this.canvas.width+2*this.size:this.px>this.canvas.width&&(this.px=0-2*this.size)},UB.prototype.bounce=function(){this.settings.direction,(this.py<=0||this.py+this.size>=this.canvas.height)&&(this.dy=-this.dy,this.horizontal&&(this.dd=-this.dd)),(this.px<=0||this.px+this.size>=this.canvas.width)&&(this.dx=-this.dx,this.vertical&&(this.dd=-this.dd))},UB.prototype.isOffCanvas=function(){var e=0-2*this.size,t=this.canvas.height+2*this.size,n=this.canvas.width+2*this.size;return this.px<e||this.px>n||this.py<e||this.py>t},UB.prototype.isTouchingEdge=function(){var e=this.canvas.height-this.size,t=this.canvas.width-this.size;return this.px<0||this.px>t||this.py<0||this.py>e},UB.prototype.getColor=function(){return"random"===this.settings.color?NB(this.colors):Array.isArray(this.settings.color)?NB(this.settings.color):this.settings.color},UB.prototype.getShape=function(){return"random"===this.settings.shape?NB(this.shapes):Array.isArray(this.settings.shape)?NB(this.settings.shape):this.settings.shape},UB.prototype.getImage=function(){return Array.isArray(this.settings.imageUrl)?NB(this.settings.imageUrl):this.settings.imageUrl},UB.prototype.getStyle=function(){return NB(this.styles)},UB.prototype.getDelta=function(){var e=.1*this.settings.speed;return this.settings.speed&&this.settings.parallax?e+this.size*this.settings.parallax/50:e},UB.prototype.getDeltaVariance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.settings.speed||10;return e>0?PB(-e,e)*t/100:0},UB.prototype.getDeltaX=function(){var e=this.getDelta(),t=this.getDeltaVariance(this.settings.xVariance);return RB(this.settings.direction)[0]*e+t},UB.prototype.getDeltaY=function(){var e=this.getDelta(),t=this.getDeltaVariance(this.settings.yVariance);return RB(this.settings.direction)[1]*e+t},UB.prototype.getAlphaDelta=function(){var e=this.settings.alphaVariance,t=PB(1,e+1);return LB(.5)&&(t=-t),t},UB.prototype.getDriftDelta=function(){return this.settings.drift?PB(this.settings.drift-this.settings.drift/2,this.settings.drift+this.settings.drift/2):0},UB.prototype.getRotationDelta=function(){var e=0;return this.settings.rotate&&this.settings.rotation&&(e=kB(PB(.5,1.5)*this.settings.rotation),LB(.5)&&(e=-e)),e},UB.prototype.update=function(){return this.frame+=1,this.updatePosition(),this.updateAlpha(),this},UB.prototype.updateAlpha=function(){return this.settings.alphaSpeed>0&&(this.settings.twinkle?this.alpha=this.updateTwinkle():this.alpha=this.updateFade()),this.alpha},UB.prototype.updateFade=function(){var e=this.da/1e3*this.settings.alphaSpeed*.5,t=this.alpha+e,n=this.da>0&&t>this.settings.maxAlpha,r=this.da<0&&t<this.settings.minAlpha;return(n||r)&&(this.da=-this.da,t=this.settings.maxAlpha,r&&(t=this.settings.minAlpha)),t},UB.prototype.updateTwinkle=function(){var e=this.alpha,t=Math.abs(this.da),n=e>this.settings.maxAlpha,r=e<this.settings.minAlpha,i=t/1e3*this.settings.alphaSpeed*.5,o=LB(1/30),s=LB(1/30);return this.resettingTwinkle?e+=5*i:o?e+=50*i:e-=s?25*i:i,r?(this.resettingTwinkle=!0,e=this.settings.minAlpha):n&&(this.resettingTwinkle=!1,e=this.settings.maxAlpha),e},UB.prototype.updatePosition=function(){if(this.settings.bounce&&this.isTouchingEdge())this.bounce();else if(this.isOffCanvas())return void this.reset();this.px+=this.dx,this.py+=this.dy,this.updateDrift(),this.updateRotation()},UB.prototype.updateRotation=function(){this.settings.rotate&&this.settings.rotation&&(this.rotation+=this.dr)},UB.prototype.updateDrift=function(){var e=this.settings;e.direction,e.drift&&e.speed&&(this.vertical?this.px+=RB(this.frame+this.frameoffset)[0]*this.dd/(15*this.getDelta()):this.horizontal&&(this.py+=RB(this.frame+this.frameoffset)[1]*this.dd/(15*this.getDelta())))},UB.prototype.render=function(e){var t,n=(t="image"!==this.shape?e[this.color][this.shape][this.style]:e[this.color][this.shape][this.image]).width,r=this.size/n,i=this.px/r,o=this.py/r;return this.ctx.globalAlpha=IB(this.alpha,0,1),this.renderRotate(),this.ctx.transform(r,0,0,r,0,0),this.ctx.drawImage(t,0,0,n,n,i,o,n,n),this.ctx.setTransform(1,0,0,1,0,0),this},UB.prototype.renderRotate=function(){if("circle"!==this.shape&&this.settings.rotate){var e=this.px+this.size/2,t=this.py+this.size/2;this.ctx.translate(e,t),this.ctx.rotate(this.rotation),this.ctx.translate(-e,-t)}};var BB=function(e,t,n,r){arguments.length>=1&&!(arguments[0]instanceof HTMLElement)&&(t=arguments[0],n=arguments[1],r=arguments[2],e=void 0),n&&!r&&(r=n);var i={alphaSpeed:10,alphaVariance:1,bounce:!1,color:"random",randomColor:DB,randomColorCount:3,composition:"source-over",count:50,direction:180,drift:1,glow:0,imageUrl:"",maxAlpha:1,maxSize:10,minAlpha:0,minSize:1,parallax:1,rotate:!0,rotation:1,shape:"circle",speed:10,style:"fill",twinkle:!1,xVariance:2,yVariance:2};return this.el=e||document.body,this.settings=MB(MB({},i),t),this.resizable=!n&&!r,this.width=this.resizable?this.el.clientWidth:n,this.height=this.resizable?this.el.clientHeight:r,this.init=function(){var e=this;return this.sparticles=[],this.colors=this.getColorArray(),this.shapes=this.getShapeArray(),this.styles=this.getStyleArray(),this.imageUrls=this.getImageArray(),this.setupMainCanvas(),this.setupOffscreenCanvasses(function(){e.createSparticles(),e.start()}),window.addEventListener("resize",this),this},this.handleEvent=function(e){var t=this;"resize"===e.type&&(clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){t.resizable&&(t.width=t.el.clientWidth,t.height=t.el.clientHeight,t.setCanvasSize().resetSparticles())},200))},this.start=function(){var e=this;return this.loop||(this.loop=new OB(function(t){e.drawFrame(t)})),this.loop.start(),this},this.stop=function(){return this.loop.stop(),this},this.destroy=function(){for(var e in this.stop(),this.el.removeChild(this.canvas),window.removeEventListener("resize",this),this)this.hasOwnProperty(e)&&delete this[e];return this},this.setCanvasSize=function(e,t){return e&&(this.resizable=!1),this.width=e||this.width,this.height=t||this.height,this.canvas.width=this.width,this.canvas.height=this.height,this},this.resetSparticles=this.createSparticles=function(){this.sparticles=[],this.ctx.globalCompositeOperation=this.settings.composition;for(var e=0;e<this.settings.count;e++)this.sparticles.push(new UB(this,e));return this.sort(),this.sparticles},this.sort=function(){this.settings.parallax&&this.sparticles.sort(function(e,t){return e.size-t.size})},this.init()};BB.prototype.getColorArray=function(){var e=Array.isArray(this.settings.color)?this.settings.color:[this.settings.color],t=e.some(function(e){return"random"===e});if(t)for(var n=0;n<this.settings.randomColorCount;n++)e[n]=this.settings.randomColor(n,this.settings.randomColorCount);return e},BB.prototype.getShapeArray=function(){var e=Array.isArray(this.settings.shape)?this.settings.shape:[this.settings.shape],t=e.some(function(e){return"random"===e});return t&&(e=["square","circle","triangle"]),e},BB.prototype.getImageArray=function(){return Array.isArray(this.settings.imageUrl)?this.settings.imageUrl:[this.settings.imageUrl]},BB.prototype.getStyleArray=function(){var e=this.settings.style;return e="fill"!==e&&"stroke"!==e?["fill","stroke"]:[e]},BB.prototype.setupMainCanvas=function(){return this.canvas=document.createElement("canvas"),this.canvas.setAttribute("class","sparticles"),this.ctx=this.canvas.getContext("2d"),this.setCanvasSize(),this.el.appendChild(this.canvas),this.canvas},BB.prototype.setupOffscreenCanvasses=function(e){var t=this,n=this.colors.filter(function(e,n){return t.colors.indexOf(e)===n}),r=this.shapes.filter(function(e,n){return t.shapes.indexOf(e)===n}),i=this.styles.filter(function(e,n){return t.styles.indexOf(e)===n}),o=this.imageUrls.filter(function(e,n){return t.imageUrls.indexOf(e)===n}),s=n.length*o.length,a=n.length*r.length*i.length,l=0,c=0;this.canvasses=this.canvasses||{},n.forEach(function(n){t.canvasses[n]=t.canvasses[n]||{},r.forEach(function(r){t.canvasses[n][r]=t.canvasses[n][r]||{},"image"===r?o.forEach(function(i,o){var a=new Image,c=document.createElement("canvas");t.canvasses[n][r][i]=c,a.onload=function(){l++,t.drawOffscreenCanvasForImage(a,n,c),e&&l===s&&e()},a.onerror=function(){},a.src=i}):i.forEach(function(i){var o=document.createElement("canvas");t.canvasses[n][r][i]=o,c++,t.drawOffscreenCanvas(r,i,n,o),e&&c===a&&e()})})})},BB.prototype.getGlowSize=function(e){return this.settings.glow},BB.prototype.getLineSize=function(e){return IB(e/20,1,5)},BB.prototype.getOffscreenCanvasSize=function(){return IB(this.settings.maxSize,this.settings.minSize,this.settings.maxSize)},BB.prototype.renderStyle=function(e,t,n,r){"fill"===r?e.fillStyle=t:(e.lineWidth=n,e.strokeStyle=t)},BB.prototype.renderGlow=function(e,t,n){var r=this.getGlowSize(n)/2;e.shadowColor=t,e.shadowBlur=r},BB.prototype.renderColor=function(e,t,n){"fill"===t?n?e.fill(n):e.fill():n?e.stroke(n):e.stroke()},BB.prototype.drawOffscreenCanvas=function(e,t,n,r){return this.offScreenCanvas[e].call(this,t,n,r)},BB.prototype.offScreenCanvas={},BB.prototype.offScreenCanvas.circle=function(e,t,n){var r=n.getContext("2d"),i=this.getOffscreenCanvasSize(),o=this.getLineSize(i),s=i+2*o+this.getGlowSize(i),a="stroke"===e?i-o:i;return n.width=s,n.height=s,this.renderGlow(r,t,i),this.renderStyle(r,t,o,e),r.beginPath(),r.ellipse(s/2,s/2,a/2,a/2,0,0,360),this.renderColor(r,e),n},BB.prototype.offScreenCanvas.square=function(e,t,n){var r=n.getContext("2d"),i=this.getOffscreenCanvasSize(),o=this.getLineSize(i),s=i+2*o+this.getGlowSize(i),a="stroke"===e?i-o:i;return n.width=s,n.height=s,this.renderGlow(r,t,i),this.renderStyle(r,t,o,e),r.beginPath(),r.rect(s/2-a/2,s/2-a/2,a,a),this.renderColor(r,e),n},BB.prototype.offScreenCanvas.line=function(e,t,n){var r=n.getContext("2d"),i=1.5*this.getOffscreenCanvasSize(),o=this.getLineSize(i),s=i+2*o+this.getGlowSize(i),a=s/2-i/2,l=s/2-i/2;return n.width=s,n.height=s,this.renderGlow(r,t,i),r.lineWidth=o,r.strokeStyle=t,r.beginPath(),r.moveTo(a,l),r.lineTo(a+i,l+i),r.stroke(),r.closePath(),n},BB.prototype.offScreenCanvas.triangle=function(e,t,n){var r=n.getContext("2d"),i=this.getOffscreenCanvasSize(),o=this.getLineSize(i),s=i+2*o+this.getGlowSize(i),a="stroke"===e?i-o:i,l=a*(Math.sqrt(3)/2),c=s/2,u=s/2-a/2;return n.width=s,n.height=s,this.renderGlow(r,t,i),this.renderStyle(r,t,o,e),r.beginPath(),r.moveTo(c,u),r.lineTo(c-a/2,u+l),r.lineTo(c+a/2,u+l),r.closePath(),this.renderColor(r,e),n},BB.prototype.offScreenCanvas.diamond=function(e,t,n){var r=new Path2D("M43,83.74,48.63,99a1.46,1.46,0,0,0,2.74,0L57,83.74A45.09,45.09,0,0,1,83.74,57L99,51.37a1.46,1.46,0,0,0,0-2.74L83.74,43A45.11,45.11,0,0,1,57,16.26L51.37,1a1.46,1.46,0,0,0-2.74,0L43,16.26A45.11,45.11,0,0,1,16.26,43L1,48.63a1.46,1.46,0,0,0,0,2.74L16.26,57A45.09,45.09,0,0,1,43,83.74Z"),i=n.getContext("2d"),o=this.getOffscreenCanvasSize(),s=this.getLineSize(o),a=this.getGlowSize(o),l=o+2*s+a,c=l/(1.1*(100+a));return n.width=l,n.height=l,this.renderGlow(i,t,o),this.renderStyle(i,t,s/c,e),i.scale(c,c),i.translate(5+.5*a,5+.5*a),this.renderColor(i,e,r),n},BB.prototype.offScreenCanvas.star=function(e,t,n){var r=new Path2D("M99.86,36.45a2.94,2.94,0,0,0-2.37-2l-31-4.54L52.63,1.64a2.93,2.93,0,0,0-5.26,0L33.51,29.91l-31,4.54a3,3,0,0,0-2.37,2,3,3,0,0,0,.74,3l22.44,22L18,92.55A2.94,2.94,0,0,0,20.91,96a2.86,2.86,0,0,0,1.36-.34L50,81,77.73,95.66a2.91,2.91,0,0,0,3.08-.22A3,3,0,0,0,82,92.55l-5.3-31.07,22.44-22A3,3,0,0,0,99.86,36.45Z"),i=n.getContext("2d"),o=this.getOffscreenCanvasSize(),s=this.getLineSize(o),a=this.getGlowSize(o),l=o+2*s+a,c=l/(1.1*(100+a));return n.width=l,n.height=l,i.scale(c,c),this.renderGlow(i,t,o),this.renderStyle(i,t,s/c,e),i.translate(5+.5*a,5+.5*a),this.renderColor(i,e,r),n},BB.prototype.drawOffscreenCanvasForImage=function(e,t,n){var r=e.width,i=n.getContext("2d");return n.width=r,n.height=r,i.drawImage(e,0,0,r,r,0,0,r,r),i.globalCompositeOperation="source-atop",i.fillStyle=t,i.fillRect(0,0,r,r),n},BB.prototype.drawFrame=function(){this.ctx.clearRect(0,0,this.width,this.height);for(var e=0;e<this.sparticles.length;e++){this.sparticles[e].update().render(this.canvasses)}return this.sort(),this.sparticles};var zB=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-zB.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*zB.Bounce.In(2*e):.5*zB.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),VB=function(){return performance.now()},jB=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=VB()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!t;i&&!1===i.update(e,o)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),HB={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=HB.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e}}},WB=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),GB=new jB,qB=function(){function e(e,t){void 0===t&&(t=GB),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=zB.Linear.None,this._interpolationFunction=HB.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=WB.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e<0?0:e,this},e.prototype.dynamic=function(e){return void 0===e&&(e=!1),this._isDynamic=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=VB()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var i in this._valuesEnd)r[i]=this._valuesEnd[i];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,r,i){for(var o in n){var s=e[o],a=Array.isArray(s),l=a?"array":typeof s,c=!a&&Array.isArray(n[o]);if("undefined"!==l&&"function"!==l){if(c){if(0===(g=n[o]).length)continue;for(var u=[s],h=0,f=g.length;h<f;h+=1){var d=this._handleRelativeValue(s,g[h]);if(isNaN(d)){c=!1;break}u.push(d)}c&&(n[o]=u)}if("object"!==l&&!a||!s||c)(void 0===t[o]||i)&&(t[o]=s),a||(t[o]*=1),r[o]=c?n[o].slice().reverse():t[o]||0;else{t[o]=a?[]:{};var p=s;for(var m in p)t[o][m]=p[m];r[o]=a?[]:{};var g=n[o];if(!this._isDynamic){var v={};for(var m in g)v[m]=g[m];n[o]=g=v}this._setupProperties(p,t[o],g,r[o],i)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=VB()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=VB()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=GB),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=zB.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=HB.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){var n;if(void 0===e&&(e=VB()),void 0===t&&(t=!0),this._isPaused)return!0;var r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>r)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var i=e-this._startTime,o=this._duration+(null!==(n=this._repeatDelayTime)&&void 0!==n?n:this._delayTime),s=this._duration+this._repeat*o,a=this._calculateElapsedPortion(i,o,s),l=this._easingFunction(a),c=this._calculateCompletionStatus(i,o);if("repeat"===c&&this._processRepetition(i,o),this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),"about-to-repeat"===c&&this._processRepetition(i,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,a),"repeat"===c||"about-to-repeat"===c)this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1;else if("completed"===c){this._isPlaying=!1,this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,h=this._chainedTweens.length;u<h;u++)this._chainedTweens[u].start(this._startTime+this._duration,!1)}return"completed"!==c},e.prototype._calculateElapsedPortion=function(e,t,n){if(0===this._duration||e>n)return 1;var r=e%t,i=Math.min(r/this._duration,1);return 0===i&&0!==e&&e%this._duration===0?1:i},e.prototype._calculateCompletionStatus=function(e,t){return 0!==this._duration&&e<this._duration?"playing":this._repeat<=0?"completed":e===this._duration?"about-to-repeat":"repeat"},e.prototype._processRepetition=function(e,t){var n=Math.min(Math.trunc((e-this._duration)/t)+1,this._repeat);for(var r in isFinite(this._repeat)&&(this._repeat-=n),this._valuesStartRepeat){var i=this._valuesEnd[r];this._yoyo||"string"!=typeof i||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(i)),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}this._yoyo&&(this._reversed=!this._reversed),this._startTime+=t*n},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var o=t[i]||0,s=n[i],a=Array.isArray(e[i]),l=Array.isArray(s);!a&&l?e[i]=this._interpolationFunction(s,r):"object"==typeof s&&s?this._updateProperties(e[i],o,s,r):"number"==typeof(s=this._handleRelativeValue(o,s))&&(e[i]=o+(s-o)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}();WB.nextId;var $B=GB;$B.getAll.bind($B);var XB=$B.removeAll.bind($B);$B.add.bind($B),$B.remove.bind($B);var YB=$B.update.bind($B);class KB extends Td{constructor(e){super(),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",()=>{this.traverse(e=>{e instanceof KB&&e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})})}copy(e,t){return Td.prototype.copy.call(this,e,t),this.element=e.element.cloneNode(!0),this}}class ZB extends KB{constructor(e,t=1){super(e),this.spriteRatio=t,this.spriteMatrixWorld=(new Jf).copy(this.matrixWorld)}}class JB extends Ph{zOrder(e){const{cache:t}=this,n=[];e.traverse(e=>{const r=e;t.objects.has(r)&&n.push({object:r,data:t.objects.get(r)})});const r=n.sort((e,t)=>e.data.distanceToCameraSquared-t.data.distanceToCameraSquared),i=r.length;r.forEach((e,t)=>{const{object:n}=e;n.element.style.zIndex=""+(i-t)})}constructor(){super(),this._width=0,this._height=0,this._widthHalf=0,this._heightHalf=0,this.matrix=new Jf,this._spriteQuat=new xf,this._objectQuat=new xf,this.cache={camera:{fov:0,style:""},objects:new WeakMap},this.epsilon=e=>Math.abs(e)<1e-10?0:e,this.getDistanceToSquared=function(){const e=new wf,t=new wf;return function(n,r){return e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(r.matrixWorld),e.distanceToSquared(t)}}(),this.getCameraCSSMatrix=(e,t,n)=>{const{epsilon:r}=this,{elements:i}=e,o=`matrix3d(${r(i[0])},${r(-i[1])},${r(i[2])},${r(i[3])},${r(i[4])},${r(-i[5])},${r(i[6])},${r(i[7])},${r(i[8])},${r(-i[9])},${r(i[10])},${r(i[11])},${r(i[12])},${r(-i[13])},${r(i[14])},${r(i[15])})`;if(t instanceof dm){const e=-(t.right+t.left)/2,i=(t.top+t.bottom)/2;return`scale(${n})translate(${r(e)}px,${r(i)}px)${o}`}return`translateZ(${n}px)${o}`},this.getObjectCSSMatrix=(e,t)=>{const{epsilon:n}=this,{elements:r}=e,i=`matrix3d(${n(r[0])},${n(r[1])},${n(r[2])},${n(r[3])},${n(-r[4])},${n(-r[5])},${n(-r[6])},${n(-r[7])},${n(r[8])},${n(r[9])},${n(r[10])},${n(r[11])},${n(r[12])},${n(r[13])},${n(r[14])},${n(r[15])})`;return this.isIE?`translate(-50%,-50%)translate(${this._widthHalf}px,${this._heightHalf}px)${t}${i}`:`translate(-50%,-50%)${i}`},this.renderObject=(e,t,n,r)=>{const{matrix:i,getObjectCSSMatrix:o,cache:s,cameraElement:a,renderObject:l,isIE:c,getDistanceToSquared:u}=this;if(e instanceof KB){let l;e.onBeforeRender(this,t,n),e instanceof ZB?(i.copy(n.matrixWorldInverse),i.transpose(),this._spriteQuat.setFromRotationMatrix(i),this._objectQuat.setFromRotationMatrix(e.matrixWorld),this._objectQuat.slerp(this._spriteQuat,e.spriteRatio),i.makeRotationFromQuaternion(this._objectQuat),i.copyPosition(e.matrixWorld),i.scale(e.scale),i.elements[3]=0,i.elements[7]=0,i.elements[11]=0,i.elements[15]=1,e.spriteMatrixWorld.copy(i),l=o(i,r)):l=o(e.matrixWorld,r);const{element:h}=e,f=s.objects.get(e);if(void 0===f||f.style!==l){h.style.transform=l;const t={style:l};s.objects.set(e,t),c&&(t.distanceToCameraSquared=u(n,e))}h.style.display=e.visible?"":"none",h.parentNode!==a&&a.appendChild(h),e.onAfterRender(this,t,n)}for(let h=0,f=e.children.length;h<f;h++)l(e.children[h],t,n,r)};const e=document.createElement("div");this.domElement=e,e.style.overflow="hidden";const t=document.createElement("div");this.cameraElement=t,t.style.transformStyle="preserve-3d",e.appendChild(t),this.isIE=/Trident/i.test(navigator.userAgent)}setClearColor(){}getSize(){return{width:this._width,height:this._height}}setSize(e,t){this._width=e,this._height=t,this._widthHalf=this._width/2,this._heightHalf=this._height/2,this.domElement.style.width=`${e}px`,this.domElement.style.height=`${t}px`,this.cameraElement.style.width=`${e}px`,this.cameraElement.style.height=`${t}px`}render(e,t){const{_heightHalf:n,_widthHalf:r,isIE:i,cameraElement:o,cache:s,domElement:a,getCameraCSSMatrix:l,zOrder:c,renderObject:u}=this,h=t.projectionMatrix.elements[5]*n;s.camera.fov!==h&&(a.style.perspective=`${h}px`,s.camera.fov=h),(e.matrixAutoUpdate&&!0===e.matrixAutoUpdate||!0===e.autoUpdate)&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld();const f=l(t.matrixWorldInverse,t,h),d=`${f}translate(${r}px,${n}px)`;s.camera.style===d||i||(o.style.transform=d,s.camera.style=d),u(e,e,t,f),i&&c(e)}}const QB={type:"change"},ez={type:"start"},tz={type:"end"};class nz extends Ph{constructor(e,t){super();const n=this,r=-1,i=0,o=1,s=2,a=3,l=4;this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:gc.ROTATE,MIDDLE:gc.DOLLY,RIGHT:gc.PAN},this.target=new wf;const c=1e-6,u=new wf;let h=1,f=r,d=r,p=0,m=0,g=0;const v=new wf,y=new Gh,_=new Gh,b=new wf,x=new Gh,w=new Gh,S=new Gh,E=new Gh,T=[],A={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};const M=function(){const e=new Gh;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),C=function(){const e=new Gh;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function O(e){!1!==n.enabled&&(0===T.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",R),n.domElement.addEventListener("pointerup",I)),function(e){T.push(e)}(e),"touch"===e.pointerType?function(e){if(1===(U(e),T.length))f=a,_.copy(C(T[0].pageX,T[0].pageY)),y.copy(_);else{f=l;const e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY;m=p=Math.sqrt(e*e+t*t);const n=(T[0].pageX+T[1].pageX)/2,r=(T[0].pageY+T[1].pageY)/2;S.copy(M(n,r)),E.copy(S)}n.dispatchEvent(ez)}(e):function(e){if(f===r)switch(e.button){case n.mouseButtons.LEFT:f=i;break;case n.mouseButtons.MIDDLE:f=o;break;case n.mouseButtons.RIGHT:f=s}const t=d!==r?d:f;t!==i||n.noRotate?t!==o||n.noZoom?t!==s||n.noPan||(S.copy(M(e.pageX,e.pageY)),E.copy(S)):(x.copy(M(e.pageX,e.pageY)),w.copy(x)):(_.copy(C(e.pageX,e.pageY)),y.copy(_));n.dispatchEvent(ez)}(e))}function R(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){if(1===(U(e),T.length))y.copy(_),_.copy(C(e.pageX,e.pageY));else{const t=function(e){const t=e.pointerId===T[0].pointerId?T[1]:T[0];return A[t.pointerId]}(e),n=e.pageX-t.x,r=e.pageY-t.y;m=Math.sqrt(n*n+r*r);const i=(e.pageX+t.x)/2,o=(e.pageY+t.y)/2;E.copy(M(i,o))}}(e):function(e){const t=d!==r?d:f;t!==i||n.noRotate?t!==o||n.noZoom?t!==s||n.noPan||E.copy(M(e.pageX,e.pageY)):w.copy(M(e.pageX,e.pageY)):(y.copy(_),_.copy(C(e.pageX,e.pageY)))}(e))}function I(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(T.length){case 0:f=r;break;case 1:f=a,_.copy(C(e.pageX,e.pageY)),y.copy(_);break;case 2:f=l;for(let t=0;t<T.length;t++)if(T[t].pointerId!==e.pointerId){const e=A[T[t].pointerId];_.copy(C(e.x,e.y)),y.copy(_);break}}n.dispatchEvent(tz)}(e):(f=r,n.dispatchEvent(tz)),F(e),0===T.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",R),n.domElement.removeEventListener("pointerup",I)))}function k(e){F(e)}function P(e){!1!==n.enabled&&(window.removeEventListener("keydown",P),d===r&&(e.code!==n.keys[i]||n.noRotate?e.code!==n.keys[o]||n.noZoom?e.code!==n.keys[s]||n.noPan||(d=s):d=o:d=i))}function N(){!1!==n.enabled&&(d=r,window.addEventListener("keydown",P))}function D(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:x.y-=.025*e.deltaY;break;case 1:x.y-=.01*e.deltaY;break;default:x.y-=25e-5*e.deltaY}n.dispatchEvent(ez),n.dispatchEvent(tz)}}function L(e){!1!==n.enabled&&e.preventDefault()}function F(e){delete A[e.pointerId];for(let t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)}function U(e){let t=A[e.pointerId];void 0===t&&(t=new Gh,A[e.pointerId]=t),t.set(e.pageX,e.pageY)}this.rotateCamera=function(){const e=new wf,t=new xf,r=new wf,i=new wf,o=new wf,s=new wf;return function(){s.set(_.x-y.x,_.y-y.y,0);let a=s.length();a?(v.copy(n.object.position).sub(n.target),r.copy(v).normalize(),i.copy(n.object.up).normalize(),o.crossVectors(i,r).normalize(),i.setLength(_.y-y.y),o.setLength(_.x-y.x),s.copy(i.add(o)),e.crossVectors(s,v).normalize(),a*=n.rotateSpeed,t.setFromAxisAngle(e,a),v.applyQuaternion(t),n.object.up.applyQuaternion(t),b.copy(e),g=a):!n.staticMoving&&g&&(g*=Math.sqrt(1-n.dynamicDampingFactor),v.copy(n.object.position).sub(n.target),t.setFromAxisAngle(b,g),v.applyQuaternion(t),n.object.up.applyQuaternion(t)),y.copy(_)}}(),this.zoomCamera=function(){let e;f===l?(e=p/m,p=m,n.object.isPerspectiveCamera?v.multiplyScalar(e):n.object.isOrthographicCamera&&(n.object.zoom=Wh.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),h!==n.object.zoom&&n.object.updateProjectionMatrix())):(e=1+(w.y-x.y)*n.zoomSpeed,1!==e&&e>0&&(n.object.isPerspectiveCamera?v.multiplyScalar(e):n.object.isOrthographicCamera&&(n.object.zoom=Wh.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),h!==n.object.zoom&&n.object.updateProjectionMatrix())),n.staticMoving?x.copy(w):x.y+=(w.y-x.y)*this.dynamicDampingFactor)},this.panCamera=function(){const e=new Gh,t=new wf,r=new wf;return function(){if(e.copy(E).sub(S),e.lengthSq()){if(n.object.isOrthographicCamera){const t=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,r=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=t,e.y*=r}e.multiplyScalar(v.length()*n.panSpeed),r.copy(v).cross(n.object.up).setLength(e.x),r.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?S.copy(E):S.add(e.subVectors(E,S).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(v.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,v.setLength(n.maxDistance)),x.copy(w)),v.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,v.setLength(n.minDistance)),x.copy(w)))},this.update=function(){v.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,v),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),u.distanceToSquared(n.object.position)>c&&(n.dispatchEvent(QB),u.copy(n.object.position))):n.object.isOrthographicCamera&&(n.object.lookAt(n.target),(u.distanceToSquared(n.object.position)>c||h!==n.object.zoom)&&(n.dispatchEvent(QB),u.copy(n.object.position),h=n.object.zoom))},this.reset=function(){f=r,d=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),v.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(QB),u.copy(n.object.position),h=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",L),n.domElement.removeEventListener("pointerdown",O),n.domElement.removeEventListener("pointercancel",k),n.domElement.removeEventListener("wheel",D),n.domElement.removeEventListener("pointermove",R),n.domElement.removeEventListener("pointerup",I),window.removeEventListener("keydown",P),window.removeEventListener("keyup",N)},this.domElement.addEventListener("contextmenu",L),this.domElement.addEventListener("pointerdown",O),this.domElement.addEventListener("pointercancel",k),this.domElement.addEventListener("wheel",D,{passive:!1}),window.addEventListener("keydown",P),window.addEventListener("keyup",N),this.handleResize(),this.update()}}var rz={exports:{}},iz={exports:{}},oz={};const sz=Symbol(""),az=Symbol(""),lz=Symbol(""),cz=Symbol(""),uz=Symbol(""),hz=Symbol(""),fz=Symbol(""),dz=Symbol(""),pz=Symbol(""),mz=Symbol(""),gz=Symbol(""),vz=Symbol(""),yz=Symbol(""),_z=Symbol(""),bz=Symbol(""),xz=Symbol(""),wz=Symbol(""),Sz=Symbol(""),Ez=Symbol(""),Tz=Symbol(""),Az=Symbol(""),Mz=Symbol(""),Cz=Symbol(""),Oz=Symbol(""),Rz=Symbol(""),Iz=Symbol(""),kz=Symbol(""),Pz=Symbol(""),Nz=Symbol(""),Dz=Symbol(""),Lz=Symbol(""),Fz=Symbol(""),Uz=Symbol(""),Bz=Symbol(""),zz=Symbol(""),Vz=Symbol(""),jz=Symbol(""),Hz=Symbol(""),Wz=Symbol(""),Gz={[sz]:"Fragment",[az]:"Teleport",[lz]:"Suspense",[cz]:"KeepAlive",[uz]:"BaseTransition",[hz]:"openBlock",[fz]:"createBlock",[dz]:"createElementBlock",[pz]:"createVNode",[mz]:"createElementVNode",[gz]:"createCommentVNode",[vz]:"createTextVNode",[yz]:"createStaticVNode",[_z]:"resolveComponent",[bz]:"resolveDynamicComponent",[xz]:"resolveDirective",[wz]:"resolveFilter",[Sz]:"withDirectives",[Ez]:"renderList",[Tz]:"renderSlot",[Az]:"createSlots",[Mz]:"toDisplayString",[Cz]:"mergeProps",[Oz]:"normalizeClass",[Rz]:"normalizeStyle",[Iz]:"normalizeProps",[kz]:"guardReactiveProps",[Pz]:"toHandlers",[Nz]:"camelize",[Dz]:"capitalize",[Lz]:"toHandlerKey",[Fz]:"setBlockTracking",[Uz]:"pushScopeId",[Bz]:"popScopeId",[zz]:"withCtx",[Vz]:"unref",[jz]:"isRef",[Hz]:"withMemo",[Wz]:"isMemoSame"};function qz(e){Object.getOwnPropertySymbols(e).forEach(t=>{Gz[t]=e[t]})}const $z={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Xz(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:$z}}function Yz(e,t,n,r,i,o,s,a=!1,l=!1,c=!1,u=$z){return e&&(a?(e.helper(hz),e.helper(aV(e.inSSR,c))):e.helper(sV(e.inSSR,c)),s&&e.helper(Sz)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:o,directives:s,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function Kz(e,t=$z){return{type:17,loc:t,elements:e}}function Zz(e,t=$z){return{type:15,loc:t,properties:e}}function Jz(e,t){return{type:16,loc:$z,key:v(e)?Qz(e,!0):e,value:t}}function Qz(e,t=!1,n=$z,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function eV(e,t=$z){return{type:8,loc:t,children:e}}function tV(e,t=[],n=$z){return{type:14,loc:n,callee:e,arguments:t}}function nV(e,t=void 0,n=!1,r=!1,i=$z){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function rV(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:$z}}function iV(e,t,n=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:r,needArraySpread:!1,loc:$z}}function oV(e){return{type:21,body:e,loc:$z}}function sV(e,t){return e||t?pz:mz}function aV(e,t){return e||t?fz:dz}function lV(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(sV(r,e.isComponent)),t(hz),t(aV(r,e.isComponent)))}const cV=new Uint8Array([123,123]),uV=new Uint8Array([125,125]);function hV(e){return e>=97&&e<=122||e>=65&&e<=90}function fV(e){return 32===e||10===e||9===e||12===e||13===e}function dV(e){return 47===e||62===e||fV(e)}function pV(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const mV={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};const gV={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function vV(e,{compatConfig:t}){const n=t&&t[e];return"MODE"===e?n||3:n}function yV(e,t){const n=vV("MODE",t),r=vV(e,t);return 3===n?!0===r:!1!==r}function _V(e,t,n,...r){return yV(e,t)}function bV(e){throw e}function xV(e){}function wV(e,t,n,r){const i=new SyntaxError(String(`https://vuejs.org/error-reference/#compiler-${e}`));return i.code=e,i.loc=t,i}const SV={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '\x3c!--' in comment.",17:"Attribute name cannot contain U+0022 (\"), U+0027 ('), and U+003C (<).",18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",53:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:"v-model cannot be used on a prop, because local prop bindings are not writable.\nUse a v-bind binding combined with a v-on listener that emits update:x event instead.",45:"v-model cannot be used on a const binding because it is not writable.",46:"Error parsing JavaScript expression: ",47:"<KeepAlive> expects exactly one child component.",52:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",48:'"prefixIdentifiers" option is not supported in this build of compiler.',49:"ES module mode is not supported in this build of compiler.",50:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',51:'"scopeId" option is only supported in module mode.',54:""};function EV(e,t){const n="SwitchCase"===e.type?e.consequent:e.body;for(const r of n)if("VariableDeclaration"===r.type){if(r.declare)continue;for(const e of r.declarations)for(const n of CV(e.id))t(n)}else if("FunctionDeclaration"===r.type||"ClassDeclaration"===r.type){if(r.declare||!r.id)continue;t(r.id)}else TV(r)?AV(r,!0,t):"SwitchStatement"===r.type&&MV(r,!0,t)}function TV(e){return"ForOfStatement"===e.type||"ForInStatement"===e.type||"ForStatement"===e.type}function AV(e,t,n){const r="ForStatement"===e.type?e.init:e.left;if(r&&"VariableDeclaration"===r.type&&("var"===r.kind?t:!t))for(const i of r.declarations)for(const e of CV(i.id))n(e)}function MV(e,t,n){for(const r of e.cases){for(const e of r.consequent)if("VariableDeclaration"===e.type&&("var"===e.kind?t:!t))for(const t of e.declarations)for(const e of CV(t.id))n(e);EV(r,n)}}function CV(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n);break;case"ObjectPattern":for(const r of e.properties)"RestElement"===r.type?CV(r.argument,t):CV(r.value,t);break;case"ArrayPattern":e.elements.forEach(e=>{e&&CV(e,t)});break;case"RestElement":CV(e.argument,t);break;case"AssignmentPattern":CV(e.left,t)}return t}const OV=e=>e&&("ObjectProperty"===e.type||"ObjectMethod"===e.type)&&!e.computed,RV=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];const IV=e=>4===e.type&&e.isStatic;function kV(e){switch(e){case"Teleport":case"teleport":return az;case"Suspense":case"suspense":return lz;case"KeepAlive":case"keep-alive":return cz;case"BaseTransition":case"base-transition":return uz}}const PV=/^$|^\d|[^\$\w\xA0-\uFFFF]/,NV=e=>!PV.test(e),DV=/[A-Za-z_$\xA0-\uFFFF]/,LV=/[\.\?\w$\xA0-\uFFFF]/,FV=/\s+[.[]\s*|\s*[.[]\s+/g,UV=e=>4===e.type?e.content:e.loc.source,BV=e=>{const t=UV(e).trim().replace(FV,e=>e.trim());let n=0,r=[],i=0,o=0,s=null;for(let a=0;a<t.length;a++){const e=t.charAt(a);switch(n){case 0:if("["===e)r.push(n),n=1,i++;else if("("===e)r.push(n),n=2,o++;else if(!(0===a?DV:LV).test(e))return!1;break;case 1:"'"===e||'"'===e||"`"===e?(r.push(n),n=3,s=e):"["===e?i++:"]"===e&&(--i||(n=r.pop()));break;case 2:if("'"===e||'"'===e||"`"===e)r.push(n),n=3,s=e;else if("("===e)o++;else if(")"===e){if(a===t.length-1)return!1;--o||(n=r.pop())}break;case 3:e===s&&(n=r.pop(),s=null)}}return!i&&!o},zV=r,VV=BV,jV=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,HV=e=>jV.test(UV(e)),WV=r,GV=HV;function qV(e,t,n=t.length){let r=0,i=-1;for(let o=0;o<n;o++)10===t.charCodeAt(o)&&(r++,i=o);return e.offset+=n,e.line+=r,e.column=-1===i?e.column+n:n-i,e}function $V(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(7===i.type&&(n||i.exp)&&(v(t)?i.name===t:t.test(i.name)))return i}}function XV(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const o=e.props[i];if(6===o.type){if(n)continue;if(o.name===t&&(o.value||r))return o}else if("bind"===o.name&&(o.exp||r)&&YV(o.arg,t))return o}}function YV(e,t){return!(!e||!IV(e)||e.content!==t)}function KV(e){return e.props.some(e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic))}function ZV(e){return 5===e.type||2===e.type}function JV(e){return 7===e.type&&"pre"===e.name}function QV(e){return 7===e.type&&"slot"===e.name}function ej(e){return 1===e.type&&3===e.tagType}function tj(e){return 1===e.type&&2===e.tagType}const nj=new Set([Iz,kz]);function rj(e,t=[]){if(e&&!v(e)&&14===e.type){const n=e.callee;if(!v(n)&&nj.has(n))return rj(e.arguments[0],t.concat(e))}return[e,t]}function ij(e,t,n){let r,i,o=13===e.type?e.props:e.arguments[2],s=[];if(o&&!v(o)&&14===o.type){const e=rj(o);o=e[0],s=e[1],i=s[s.length-1]}if(null==o||v(o))r=Zz([t]);else if(14===o.type){const e=o.arguments[0];v(e)||15!==e.type?o.callee===Pz?r=tV(n.helper(Cz),[Zz([t]),o]):o.arguments.unshift(Zz([t])):oj(t,e)||e.properties.unshift(t),!r&&(r=o)}else 15===o.type?(oj(t,o)||o.properties.unshift(t),r=o):(r=tV(n.helper(Cz),[Zz([t]),o]),i&&i.callee===kz&&(i=s[s.length-2]));13===e.type?i?i.arguments[0]=r:e.props=r:i?i.arguments[0]=r:e.arguments[2]=r}function oj(e,t){let n=!1;if(4===e.key.type){const r=e.key.content;n=t.properties.some(e=>4===e.key.type&&e.key.content===r)}return n}function sj(e,t){return`_${t}_${e.replace(/[^\w]/g,(t,n)=>"-"===t?"_":e.charCodeAt(n).toString())}`}function aj(e){return 14===e.type&&e.callee===Hz?e.arguments[1].returns:e}const lj=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/;function cj(e){for(let t=0;t<e.length;t++)if(!fV(e.charCodeAt(t)))return!1;return!0}function uj(e){return 2===e.type&&cj(e.content)||12===e.type&&uj(e.content)}function hj(e){return 3===e.type||uj(e)}const fj={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:i,isPreTag:i,isIgnoreNewlineTag:i,isCustomElement:i,onError:bV,onWarn:xV,comments:!1,prefixIdentifiers:!1};let dj=fj,pj=null,mj="",gj=null,vj=null,yj="",_j=-1,bj=-1,xj=0,wj=!1,Sj=null;const Ej=[],Tj=new class{constructor(e,t){this.stack=e,this.cbs=t,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=cV,this.delimiterClose=uV,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return 2===this.mode&&0===this.stack.length}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=cV,this.delimiterClose=uV}getPos(e){let t=1,n=e+1;const r=this.newlines.length;let i=-1;if(r>100){let t=-1,n=r;for(;t+1<n;){const r=t+n>>>1;this.newlines[r]<e?t=r:n=r}i=t}else for(let o=r-1;o>=0;o--)if(e>this.newlines[o]){i=o;break}return i>=0&&(t=i+2,n=e-this.newlines[i]),{column:n,line:t,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){60===e?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):this.inVPre||e!==this.delimiterOpen[0]||(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?dV(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.inRCDATA=!1;this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(62===e||fV(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.sectionStart=t+2,this.stateInClosingTagName(e),void(this.inRCDATA=!1)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===mV.TitleEnd||this.currentSequence===mV.TextareaEnd&&!this.inSFCRoot?this.inVPre||e!==this.delimiterOpen[0]||(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=Number(60===e)}stateCDATASequence(e){e===mV.Cdata[this.sequenceIndex]?++this.sequenceIndex===mV.Cdata.length&&(this.state=28,this.currentSequence=mV.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);if(10===t&&this.newlines.push(this.index),t===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===mV.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,t){this.enterRCDATA(e,t),this.state=31}enterRCDATA(e,t){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=t}stateBeforeTagName(e){33===e?(this.state=22,this.sectionStart=this.index+1):63===e?(this.state=24,this.sectionStart=this.index+1):hV(e)?(this.sectionStart=this.index,0===this.mode?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:this.state=116===e?30:115===e?29:6):47===e?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){dV(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(dV(e)){const t=this.buffer.slice(this.sectionStart,this.index);"template"!==t&&this.enterRCDATA(pV("</"+t),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){fV(e)||(62===e?(this.state=1,this.sectionStart=this.index+1):(this.state=hV(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(62===e||fV(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){62===e&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){62===e?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):47===e?this.state=7:60===e&&47===this.peek()?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):fV(e)||this.handleAttrStart(e)}handleAttrStart(e){118===e&&45===this.peek()?(this.state=13,this.sectionStart=this.index):46===e||58===e||64===e||35===e?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){62===e?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):fV(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(61===e||dV(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){61===e||dV(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):58===e?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):46===e&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){61===e||dV(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):91===e?this.state=15:46===e&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){93===e?this.state=14:(61===e||dV(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){61===e||dV(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):46===e&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){61===e?this.state=18:47===e||62===e?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):fV(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){34===e?(this.state=19,this.sectionStart=this.index+1):39===e?(this.state=20,this.sectionStart=this.index+1):fV(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,t){(e===t||this.fastForwardTo(t))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(34===t?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){fV(e)||62===e?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):39!==e&&60!==e&&61!==e&&96!==e||this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){91===e?(this.state=26,this.sequenceIndex=0):this.state=45===e?25:23}stateInDeclaration(e){(62===e||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(62===e||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){45===e?(this.state=28,this.currentSequence=mV.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(62===e||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===mV.ScriptEnd[3]?this.startSpecial(mV.ScriptEnd,4):e===mV.StyleEnd[3]?this.startSpecial(mV.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===mV.TitleEnd[3]?this.startSpecial(mV.TitleEnd,4):e===mV.TextareaEnd[3]?this.startSpecial(mV.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(10===e&&33!==this.state&&this.newlines.push(this.index),this.state){case 1:this.stateText(e);break;case 2:this.stateInterpolationOpen(e);break;case 3:this.stateInterpolation(e);break;case 4:this.stateInterpolationClose(e);break;case 31:this.stateSpecialStartSequence(e);break;case 32:this.stateInRCDATA(e);break;case 26:this.stateCDATASequence(e);break;case 19:this.stateInAttrValueDoubleQuotes(e);break;case 12:this.stateInAttrName(e);break;case 13:this.stateInDirName(e);break;case 14:this.stateInDirArg(e);break;case 15:this.stateInDynamicDirArg(e);break;case 16:this.stateInDirModifier(e);break;case 28:this.stateInCommentLike(e);break;case 27:this.stateInSpecialComment(e);break;case 11:this.stateBeforeAttrName(e);break;case 6:this.stateInTagName(e);break;case 34:this.stateInSFCRootTagName(e);break;case 9:this.stateInClosingTagName(e);break;case 5:this.stateBeforeTagName(e);break;case 17:this.stateAfterAttrName(e);break;case 20:this.stateInAttrValueSingleQuotes(e);break;case 18:this.stateBeforeAttrValue(e);break;case 8:this.stateBeforeClosingTagName(e);break;case 10:this.stateAfterClosingTagName(e);break;case 29:this.stateBeforeSpecialS(e);break;case 30:this.stateBeforeSpecialT(e);break;case 21:this.stateInAttrValueNoQuotes(e);break;case 7:this.stateInSelfClosingTag(e);break;case 23:this.stateInDeclaration(e);break;case 22:this.stateBeforeDeclaration(e);break;case 25:this.stateBeforeComment(e);break;case 24:this.stateInProcessingInstruction(e);break;case 33:this.stateInEntity()}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(1===this.state||32===this.state&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):19!==this.state&&20!==this.state&&21!==this.state||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(28===this.state?this.currentSequence===mV.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):6===this.state||11===this.state||18===this.state||17===this.state||12===this.state||13===this.state||14===this.state||15===this.state||16===this.state||20===this.state||19===this.state||21===this.state||9===this.state||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){}}(Ej,{onerr:Wj,ontext(e,t){Rj(Cj(e,t),e,t)},ontextentity(e,t,n){Rj(e,t,n)},oninterpolation(e,t){if(wj)return Rj(Cj(e,t),e,t);let n=e+Tj.delimiterOpen.length,r=t-Tj.delimiterClose.length;for(;fV(mj.charCodeAt(n));)n++;for(;fV(mj.charCodeAt(r-1));)r--;let i=Cj(n,r);i.includes("&")&&(i=dj.decodeEntities(i,!1)),Bj({type:5,content:Hj(i,!1,zj(n,r)),loc:zj(e,t)})},onopentagname(e,t){const n=Cj(e,t);gj={type:1,tag:n,ns:dj.getNamespace(n,Ej[0],dj.ns),tagType:0,props:[],children:[],loc:zj(e-1,t),codegenNode:void 0}},onopentagend(e){Oj(e)},onclosetag(e,t){const n=Cj(e,t);if(!dj.isVoidTag(n)){let r=!1;for(let e=0;e<Ej.length;e++){if(Ej[e].tag.toLowerCase()===n.toLowerCase()){r=!0,e>0&&Wj(24,Ej[0].loc.start.offset);for(let n=0;n<=e;n++){Ij(Ej.shift(),t,n<e)}break}}r||Wj(23,kj(e,60))}},onselfclosingtag(e){const t=gj.tag;gj.isSelfClosing=!0,Oj(e),Ej[0]&&Ej[0].tag===t&&Ij(Ej.shift(),e)},onattribname(e,t){vj={type:6,name:Cj(e,t),nameLoc:zj(e,t),value:void 0,loc:zj(e)}},ondirname(e,t){const n=Cj(e,t),r="."===n||":"===n?"bind":"@"===n?"on":"#"===n?"slot":n.slice(2);if(wj||""!==r||Wj(26,e),wj||""===r)vj={type:6,name:n,nameLoc:zj(e,t),value:void 0,loc:zj(e)};else if(vj={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:"."===n?[Qz("prop")]:[],loc:zj(e)},"pre"===r){wj=Tj.inVPre=!0,Sj=gj;const e=gj.props;for(let t=0;t<e.length;t++)7===e[t].type&&(e[t]=jj(e[t]))}},ondirarg(e,t){if(e===t)return;const n=Cj(e,t);if(wj&&!JV(vj))vj.name+=n,Vj(vj.nameLoc,t);else{const r="["!==n[0];vj.arg=Hj(r?n:n.slice(1,-1),r,zj(e,t),r?3:0)}},ondirmodifier(e,t){const n=Cj(e,t);if(wj&&!JV(vj))vj.name+="."+n,Vj(vj.nameLoc,t);else if("slot"===vj.name){const e=vj.arg;e&&(e.content+="."+n,Vj(e.loc,t))}else{const r=Qz(n,!0,zj(e,t));vj.modifiers.push(r)}},onattribdata(e,t){yj+=Cj(e,t),_j<0&&(_j=e),bj=t},onattribentity(e,t,n){yj+=e,_j<0&&(_j=t),bj=n},onattribnameend(e){const t=vj.loc.start.offset,n=Cj(t,e);7===vj.type&&(vj.rawName=n),gj.props.some(e=>(7===e.type?e.rawName:e.name)===n)&&Wj(2,t)},onattribend(e,t){if(gj&&vj){if(Vj(vj.loc,t),0!==e)if(yj.includes("&")&&(yj=dj.decodeEntities(yj,!0)),6===vj.type)"class"===vj.name&&(yj=Uj(yj).trim()),1!==e||yj||Wj(13,t),vj.value={type:2,content:yj,loc:1===e?zj(_j,bj):zj(_j-1,bj+1)},Tj.inSFCRoot&&"template"===gj.tag&&"lang"===vj.name&&yj&&"html"!==yj&&Tj.enterRCDATA(pV("</template"),0);else{let e=0;vj.exp=Hj(yj,!1,zj(_j,bj),0,e),"for"===vj.name&&(vj.forParseResult=function(e){const t=e.loc,n=e.content,r=n.match(lj);if(!r)return;const[,i,o]=r,s=(e,n,r=!1)=>{const i=t.start.offset+n;return Hj(e,!1,zj(i,i+e.length),0,r?1:0)},a={source:s(o.trim(),n.indexOf(o,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(Mj,"").trim();const c=i.indexOf(l),u=l.match(Aj);if(u){l=l.replace(Aj,"").trim();const e=u[1].trim();let t;if(e&&(t=n.indexOf(e,c+l.length),a.key=s(e,t,!0)),u[2]){const r=u[2].trim();r&&(a.index=s(r,n.indexOf(r,a.key?t+e.length:c+l.length),!0))}}l&&(a.value=s(l,c,!0));return a}(vj.exp));let t=-1;"bind"===vj.name&&(t=vj.modifiers.findIndex(e=>"sync"===e.content))>-1&&_V("COMPILER_V_BIND_SYNC",dj,vj.loc,vj.arg.loc.source)&&(vj.name="model",vj.modifiers.splice(t,1))}7===vj.type&&"pre"===vj.name||gj.props.push(vj)}yj="",_j=bj=-1},oncomment(e,t){dj.comments&&Bj({type:3,content:Cj(e,t),loc:zj(e-4,t+3)})},onend(){const e=mj.length;for(let t=0;t<Ej.length;t++)Ij(Ej[t],e-1),Wj(24,Ej[t].loc.start.offset)},oncdata(e,t){0!==Ej[0].ns?Rj(Cj(e,t),e,t):Wj(1,e-9)},onprocessinginstruction(e){0===(Ej[0]?Ej[0].ns:dj.ns)&&Wj(21,e-1)}}),Aj=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Mj=/^\(|\)$/g;function Cj(e,t){return mj.slice(e,t)}function Oj(e){Tj.inSFCRoot&&(gj.innerLoc=zj(e+1,e+1)),Bj(gj);const{tag:t,ns:n}=gj;0===n&&dj.isPreTag(t)&&xj++,dj.isVoidTag(t)?Ij(gj,e):(Ej.unshift(gj),1!==n&&2!==n||(Tj.inXML=!0)),gj=null}function Rj(e,t,n){{const t=Ej[0]&&Ej[0].tag;"script"!==t&&"style"!==t&&e.includes("&")&&(e=dj.decodeEntities(e,!1))}const r=Ej[0]||pj,i=r.children[r.children.length-1];i&&2===i.type?(i.content+=e,Vj(i.loc,n)):r.children.push({type:2,content:e,loc:zj(t,n)})}function Ij(e,t,n=!1){Vj(e.loc,n?kj(t,60):function(e,t){let n=e;for(;mj.charCodeAt(n)!==t&&n<mj.length-1;)n++;return n}(t,62)+1),Tj.inSFCRoot&&(e.children.length?e.innerLoc.end=a({},e.children[e.children.length-1].loc.end):e.innerLoc.end=a({},e.innerLoc.start),e.innerLoc.source=Cj(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:i,children:o}=e;if(wj||("slot"===r?e.tagType=2:Nj(e)?e.tagType=3:function({tag:e,props:t}){if(dj.isCustomElement(e))return!1;if("component"===e||function(e){return e>64&&e<91}(e.charCodeAt(0))||kV(e)||dj.isBuiltInComponent&&dj.isBuiltInComponent(e)||dj.isNativeTag&&!dj.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const e=t[n];if(6===e.type){if("is"===e.name&&e.value){if(e.value.content.startsWith("vue:"))return!0;if(_V("COMPILER_IS_ON_ELEMENT",dj,e.loc))return!0}}else if("bind"===e.name&&YV(e.arg,"is")&&_V("COMPILER_IS_ON_ELEMENT",dj,e.loc))return!0}return!1}(e)&&(e.tagType=1)),Tj.inRCDATA||(e.children=Lj(o)),0===i&&dj.isIgnoreNewlineTag(r)){const e=o[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}0===i&&dj.isPreTag(r)&&xj--,Sj===e&&(wj=Tj.inVPre=!1,Sj=null),Tj.inXML&&0===(Ej[0]?Ej[0].ns:dj.ns)&&(Tj.inXML=!1);{const t=e.props;if(!Tj.inSFCRoot&&yV("COMPILER_NATIVE_TEMPLATE",dj)&&"template"===e.tag&&!Nj(e)){const t=Ej[0]||pj,n=t.children.indexOf(e);t.children.splice(n,1,...e.children)}const n=t.find(e=>6===e.type&&"inline-template"===e.name);n&&_V("COMPILER_INLINE_TEMPLATE",dj,n.loc)&&e.children.length&&(n.value={type:2,content:Cj(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:n.loc})}}function kj(e,t){let n=e;for(;mj.charCodeAt(n)!==t&&n>=0;)n--;return n}const Pj=new Set(["if","else","else-if","for","slot"]);function Nj({tag:e,props:t}){if("template"===e)for(let n=0;n<t.length;n++)if(7===t[n].type&&Pj.has(t[n].name))return!0;return!1}const Dj=/\r\n/g;function Lj(e){const t="preserve"!==dj.whitespace;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];if(2===i.type)if(xj)i.content=i.content.replace(Dj,"\n");else if(cj(i.content)){const o=e[r-1]&&e[r-1].type,s=e[r+1]&&e[r+1].type;!o||!s||t&&(3===o&&(3===s||1===s)||1===o&&(3===s||1===s&&Fj(i.content)))?(n=!0,e[r]=null):i.content=" "}else t&&(i.content=Uj(i.content))}return n?e.filter(Boolean):e}function Fj(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(10===n||13===n)return!0}return!1}function Uj(e){let t="",n=!1;for(let r=0;r<e.length;r++)fV(e.charCodeAt(r))?n||(t+=" ",n=!0):(t+=e[r],n=!1);return t}function Bj(e){(Ej[0]||pj).children.push(e)}function zj(e,t){return{start:Tj.getPos(e),end:null==t?t:Tj.getPos(t),source:null==t?t:Cj(e,t)}}function Vj(e,t){e.end=Tj.getPos(t),e.source=Cj(e.start.offset,t)}function jj(e){const t={type:6,name:e.rawName,nameLoc:zj(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function Hj(e,t=!1,n,r=0,i=0){return Qz(e,t,n,r)}function Wj(e,t,n){dj.onError(wV(e,zj(t,t)))}function Gj(e,t){if(Tj.reset(),gj=null,vj=null,yj="",_j=-1,bj=-1,Ej.length=0,mj=e,dj=a({},fj),t){let e;for(e in t)null!=t[e]&&(dj[e]=t[e])}Tj.mode="html"===dj.parseMode?1:"sfc"===dj.parseMode?2:0,Tj.inXML=1===dj.ns||2===dj.ns;const n=t&&t.delimiters;n&&(Tj.delimiterOpen=pV(n[0]),Tj.delimiterClose=pV(n[1]));const r=pj=Xz([],e);return Tj.parse(mj),r.loc=zj(0,e.length),r.children=Lj(r.children),pj=null,r}function qj(e,t){Xj(e,void 0,t,!!$j(e))}function $j(e){const t=e.children.filter(e=>3!==e.type);return 1!==t.length||1!==t[0].type||tj(t[0])?null:t[0]}function Xj(e,t,n,r=!1,i=!1){const{children:o}=e,s=[];for(let u=0;u<o.length;u++){const t=o[u];if(1===t.type&&0===t.tagType){const e=r?0:Yj(t,n);if(e>0){if(e>=2){t.codegenNode.patchFlag=-1,s.push(t);continue}}else{const e=t.codegenNode;if(13===e.type){const r=e.patchFlag;if((void 0===r||512===r||1===r)&&Jj(t,n)>=2){const r=Qj(t);r&&(e.props=n.hoist(r))}e.dynamicProps&&(e.dynamicProps=n.hoist(e.dynamicProps))}}}else if(12===t.type){if((r?0:Yj(t,n))>=2){14===t.codegenNode.type&&t.codegenNode.arguments.length>0&&t.codegenNode.arguments.push("-1"),s.push(t);continue}}if(1===t.type){const r=1===t.tagType;r&&n.scopes.vSlot++,Xj(t,e,n,!1,i),r&&n.scopes.vSlot--}else if(11===t.type)Xj(t,e,n,1===t.children.length,!0);else if(9===t.type)for(let r=0;r<t.branches.length;r++)Xj(t.branches[r],e,n,1===t.branches[r].children.length,i)}let a=!1;if(s.length===o.length&&1===e.type)if(0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&h(e.codegenNode.children))e.codegenNode.children=l(Kz(e.codegenNode.children)),a=!0;else if(1===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&e.codegenNode.children&&!h(e.codegenNode.children)&&15===e.codegenNode.children.type){const t=c(e.codegenNode,"default");t&&(t.returns=l(Kz(t.returns)),a=!0)}else if(3===e.tagType&&t&&1===t.type&&1===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&t.codegenNode.children&&!h(t.codegenNode.children)&&15===t.codegenNode.children.type){const n=$V(e,"slot",!0),r=n&&n.arg&&c(t.codegenNode,n.arg);r&&(r.returns=l(Kz(r.returns)),a=!0)}if(!a)for(const u of s)u.codegenNode=n.cache(u.codegenNode);function l(e){const t=n.cache(e);return t.needArraySpread=!0,t}function c(e,t){if(e.children&&!h(e.children)&&15===e.children.type){const n=e.children.properties.find(e=>e.key===t||e.key.content===t);return n&&n.value}}s.length&&n.transformHoist&&n.transformHoist(o,n,e)}function Yj(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const r=n.get(e);if(void 0!==r)return r;const i=e.codegenNode;if(13!==i.type)return 0;if(i.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag&&"math"!==e.tag)return 0;if(void 0===i.patchFlag){let r=3;const o=Jj(e,t);if(0===o)return n.set(e,0),0;o<r&&(r=o);for(let i=0;i<e.children.length;i++){const o=Yj(e.children[i],t);if(0===o)return n.set(e,0),0;o<r&&(r=o)}if(r>1)for(let i=0;i<e.props.length;i++){const o=e.props[i];if(7===o.type&&"bind"===o.name&&o.exp){const i=Yj(o.exp,t);if(0===i)return n.set(e,0),0;i<r&&(r=i)}}if(i.isBlock){for(let t=0;t<e.props.length;t++){if(7===e.props[t].type)return n.set(e,0),0}t.removeHelper(hz),t.removeHelper(aV(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(sV(t.inSSR,i.isComponent))}return n.set(e,r),r}return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return Yj(e.content,t);case 4:return e.constType;case 8:let o=3;for(let n=0;n<e.children.length;n++){const r=e.children[n];if(v(r)||y(r))continue;const i=Yj(r,t);if(0===i)return 0;i<o&&(o=i)}return o;case 20:return 2}}const Kj=new Set([Oz,Rz,Iz,kz]);function Zj(e,t){if(14===e.type&&!v(e.callee)&&Kj.has(e.callee)){const n=e.arguments[0];if(4===n.type)return Yj(n,t);if(14===n.type)return Zj(n,t)}return 0}function Jj(e,t){let n=3;const r=Qj(e);if(r&&15===r.type){const{properties:e}=r;for(let r=0;r<e.length;r++){const{key:i,value:o}=e[r],s=Yj(i,t);if(0===s)return s;let a;if(s<n&&(n=s),a=4===o.type?Yj(o,t):14===o.type?Zj(o,t):0,0===a)return a;a<n&&(n=a)}}return n}function Qj(e){const t=e.codegenNode;if(13===t.type)return t.props}function eH(e,{filename:n="",prefixIdentifiers:i=!1,hoistStatic:o=!1,hmr:s=!1,cacheHandlers:a=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:u=null,isBuiltInComponent:h=r,isCustomElement:f=r,expressionPlugins:d=[],scopeId:p=null,slotted:m=!0,ssr:g=!1,inSSR:y=!1,ssrCssVars:_="",bindingMetadata:b=t,inline:x=!1,isTS:w=!1,onError:S=bV,onWarn:E=xV,compatConfig:T}){const A=n.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),M={filename:n,selfName:A&&P(R(A[1])),prefixIdentifiers:i,hoistStatic:o,hmr:s,cacheHandlers:a,nodeTransforms:l,directiveTransforms:c,transformHoist:u,isBuiltInComponent:h,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:m,ssr:g,inSSR:y,ssrCssVars:_,bindingMetadata:b,inline:x,isTS:w,onError:S,onWarn:E,compatConfig:T,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=M.helpers.get(e)||0;return M.helpers.set(e,t+1),e},removeHelper(e){const t=M.helpers.get(e);if(t){const n=t-1;n?M.helpers.set(e,n):M.helpers.delete(e)}},helperString:e=>`_${Gz[M.helper(e)]}`,replaceNode(e){M.parent.children[M.childIndex]=M.currentNode=e},removeNode(e){const t=M.parent.children,n=e?t.indexOf(e):M.currentNode?M.childIndex:-1;e&&e!==M.currentNode?M.childIndex>n&&(M.childIndex--,M.onNodeRemoved()):(M.currentNode=null,M.onNodeRemoved()),M.parent.children.splice(n,1)},onNodeRemoved:r,addIdentifiers(e){},removeIdentifiers(e){},hoist(e){v(e)&&(e=Qz(e)),M.hoists.push(e);const t=Qz(`_hoisted_${M.hoists.length}`,!1,e.loc,2);return t.hoisted=e,t},cache(e,t=!1,n=!1){const r=iV(M.cached.length,e,t,n);return M.cached.push(r),r}};return M.filters=new Set,M}function tH(e,t){const n=eH(e,t);nH(e,n),t.hoistStatic&&qj(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:r}=e;if(1===r.length){const n=$j(e);if(n&&n.codegenNode){const r=n.codegenNode;13===r.type&&lV(r,t),e.codegenNode=r}else e.codegenNode=r[0]}else if(r.length>1){let r=64;e.codegenNode=Yz(t,n(sz),void 0,e.children,r,void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function nH(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let o=0;o<n.length;o++){const i=n[o](e,t);if(i&&(h(i)?r.push(...i):r.push(i)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(gz);break;case 5:t.ssr||t.helper(Mz);break;case 9:for(let n=0;n<e.branches.length;n++)nH(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];v(i)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=r,nH(i,t))}}(e,t)}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function rH(e,t){const n=v(e)?t=>t===e:t=>e.test(t);return(e,r)=>{if(1===e.type){const{props:i}=e;if(3===e.tagType&&i.some(QV))return;const o=[];for(let s=0;s<i.length;s++){const a=i[s];if(7===a.type&&n(a.name)){i.splice(s,1),s--;const n=t(e,a,r);n&&o.push(n)}}return o}}}const iH="/*@__PURE__*/",oH=e=>`${Gz[e]}: _${Gz[e]}`;function sH(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:f=!1}){const d={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:f,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>`_${Gz[e]}`,push(e,t=-2,n){d.code+=e},indent(){p(++d.indentLevel)},deindent(e=!1){e?--d.indentLevel:p(--d.indentLevel)},newline(){p(d.indentLevel)}};function p(e){d.push("\n"+"  ".repeat(e),0)}return d}(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:s,deindent:a,newline:l,scopeId:c,ssr:u}=n,h=Array.from(e.helpers),f=h.length>0,d=!o&&"module"!==r;!function(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,u=Array.from(e.helpers);if(u.length>0&&(i(`const _Vue = ${c}\n`,-1),e.hoists.length)){i(`const { ${[pz,mz,gz,vz,yz].filter(e=>u.includes(e)).map(oH).join(", ")} } = _Vue\n`,-1)}(function(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r}=t;r();for(let i=0;i<e.length;i++){const o=e[i];o&&(n(`const _hoisted_${i+1} = `),uH(o,t),r())}t.pure=!1})(e.hoists,t),o(),i("return ")}(e,n);if(i(`function ${u?"ssrRender":"render"}(${(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ")}) {`),s(),d&&(i("with (_ctx) {"),s(),f&&(i(`const { ${h.map(oH).join(", ")} } = _Vue\n`,-1),l())),e.components.length&&(aH(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(aH(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),aH(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let t=0;t<e.temps;t++)i(`${t>0?", ":""}_temp${t}`)}return(e.components.length||e.directives.length||e.temps)&&(i("\n",0),l()),u||i("return "),e.codegenNode?uH(e.codegenNode,n):i("null"),d&&(a(),i("}")),a(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function aH(e,t,{helper:n,push:r,newline:i,isTS:o}){const s=n("filter"===t?wz:"component"===t?_z:xz);for(let a=0;a<e.length;a++){let n=e[a];const l=n.endsWith("__self");l&&(n=n.slice(0,-6)),r(`const ${sj(n,t)} = ${s}(${JSON.stringify(n)}${l?", true":""})${o?"!":""}`),a<e.length-1&&i()}}function lH(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),cH(e,t,n),n&&t.deindent(),t.push("]")}function cH(e,t,n=!1,r=!0){const{push:i,newline:o}=t;for(let s=0;s<e.length;s++){const a=e[s];v(a)?i(a,-3):h(a)?lH(a,t):uH(a,t),s<e.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function uH(e,t){if(v(e))t.push(e,-3);else if(y(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:uH(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),-3,e)}(e,t);break;case 4:hH(e,t);break;case 5:!function(e,t){const{push:n,helper:r,pure:i}=t;i&&n(iH);n(`${r(Mz)}(`),uH(e.content,t),n(")")}(e,t);break;case 8:fH(e,t);break;case 3:!function(e,t){const{push:n,helper:r,pure:i}=t;i&&n(iH);n(`${r(gz)}(${JSON.stringify(e.content)})`,-3,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:r,pure:i}=t,{tag:o,props:s,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:f,isComponent:d}=e;let p;l&&(p=String(l));u&&n(r(Sz)+"(");h&&n(`(${r(hz)}(${f?"true":""}), `);i&&n(iH);const m=h?aV(t.inSSR,d):sV(t.inSSR,d);n(r(m)+"(",-2,e),cH(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map(e=>e||"null")}([o,s,a,p,c]),t),n(")"),h&&n(")");u&&(n(", "),uH(u,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:r,pure:i}=t,o=v(e.callee)?e.callee:r(e.callee);i&&n(iH);n(o+"(",-2,e),cH(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:r,deindent:i,newline:o}=t,{properties:s}=e;if(!s.length)return void n("{}",-2,e);const a=s.length>1||!1;n(a?"{":"{ "),a&&r();for(let l=0;l<s.length;l++){const{key:e,value:r}=s[l];dH(e,t),n(": "),uH(r,t),l<s.length-1&&(n(","),o())}a&&i(),n(a?"}":" }")}(e,t);break;case 17:!function(e,t){lH(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:r,deindent:i}=t,{params:o,returns:s,body:a,newline:l,isSlot:c}=e;c&&n(`_${Gz[zz]}(`);n("(",-2,e),h(o)?cH(o,t):o&&uH(o,t);n(") => "),(l||a)&&(n("{"),r());s?(l&&n("return "),h(s)?lH(s,t):uH(s,t)):a&&uH(a,t);(l||a)&&(i(),n("}"));c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}(e,t);break;case 19:!function(e,t){const{test:n,consequent:r,alternate:i,newline:o}=e,{push:s,indent:a,deindent:l,newline:c}=t;if(4===n.type){const e=!NV(n.content);e&&s("("),hH(n,t),e&&s(")")}else s("("),uH(n,t),s(")");o&&a(),t.indentLevel++,o||s(" "),s("? "),uH(r,t),t.indentLevel--,o&&c(),o||s(" "),s(": ");const u=19===i.type;u||t.indentLevel++;uH(i,t),u||t.indentLevel--;o&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:r,indent:i,deindent:o,newline:s}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&n("[...(");n(`_cache[${e.index}] || (`),a&&(i(),n(`${r(Fz)}(-1`),e.inVOnce&&n(", true"),n("),"),s(),n("("));n(`_cache[${e.index}] = `),uH(e.value,t),a&&(n(`).cacheIndex = ${e.index},`),s(),n(`${r(Fz)}(1),`),s(),n(`_cache[${e.index}]`),o());n(")"),l&&n(")]")}(e,t);break;case 21:cH(e.body,t,!0,!1)}}function hH(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,-3,e)}function fH(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];v(r)?t.push(r,-3):uH(r,t)}}function dH(e,t){const{push:n}=t;if(8===e.type)n("["),fH(e,t),n("]");else if(e.isStatic){n(NV(e.content)?e.content:JSON.stringify(e.content),-2,e)}else n(`[${e.content}]`,-3,e)}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");function pH(e,t,n=!1,r=!1,i=Object.create(t.identifiers)){return e}const mH=rH(/^(?:if|else|else-if)$/,(e,t,n)=>gH(e,t,n,(e,t,r)=>{const i=n.parent.children;let o=i.indexOf(e),s=0;for(;o-- >=0;){const e=i[o];e&&9===e.type&&(s+=e.branches.length)}return()=>{if(r)e.codegenNode=yH(t,s,n);else{const r=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);r.alternate=yH(t,s+e.branches.length-1,n)}}}));function gH(e,t,n,r){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const r=t.exp?t.exp.loc:e.loc;n.onError(wV(28,t.loc)),t.exp=Qz("true",!1,r)}if("if"===t.name){const o=vH(e,t),s={type:9,loc:(i=e.loc,zj(i.start.offset,i.end.offset)),branches:[o]};if(n.replaceNode(s),r)return r(s,o,!0)}else{const i=n.parent.children;let o=i.indexOf(e);for(;o-- >=-1;){const s=i[o];if(!s||!hj(s)){if(s&&9===s.type){"else-if"!==t.name&&"else"!==t.name||void 0!==s.branches[s.branches.length-1].condition||n.onError(wV(30,e.loc)),n.removeNode();const i=vH(e,t);s.branches.push(i);const o=r&&r(s,i,!1);nH(i,n),o&&o(),n.currentNode=null}else n.onError(wV(30,e.loc));break}n.removeNode(s)}}var i}function vH(e,t){const n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!$V(e,"for")?e.children:[e],userKey:XV(e,"key"),isTemplateIf:n}}function yH(e,t,n){return e.condition?rV(e.condition,_H(e,t,n),tV(n.helper(gz),['""',"true"])):_H(e,t,n)}function _H(e,t,n){const{helper:r}=n,i=Jz("key",Qz(`${t}`,!1,$z,2)),{children:o}=e,s=o[0];if(1!==o.length||1!==s.type){if(1===o.length&&11===s.type){const e=s.codegenNode;return ij(e,i,n),e}{let t=64;return Yz(n,r(sz),Zz([i]),o,t,void 0,void 0,!0,!1,!1,e.loc)}}{const e=s.codegenNode,t=aj(e);return 13===t.type&&lV(t,n),ij(t,i,n),e}}const bH=rH("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return xH(e,t,n,t=>{const o=tV(r(Ez),[t.source]),s=ej(e),a=$V(e,"memo"),l=XV(e,"key",!1,!0);l&&l.type;let c=l&&(6===l.type?l.value?Qz(l.value.content,!0):void 0:l.exp);const u=l&&c?Jz("key",c):null,h=4===t.source.type&&t.source.constType>0,f=h?64:l?128:256;return t.codegenNode=Yz(n,r(sz),void 0,o,f,void 0,void 0,!0,!h,!1,e.loc),()=>{let l;const{children:f}=t,d=1!==f.length||1!==f[0].type,p=tj(e)?e:s&&1===e.children.length&&tj(e.children[0])?e.children[0]:null;if(p?(l=p.codegenNode,s&&u&&ij(l,u,n)):d?l=Yz(n,r(sz),u?Zz([u]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(l=f[0].codegenNode,s&&u&&ij(l,u,n),l.isBlock!==!h&&(l.isBlock?(i(hz),i(aV(n.inSSR,l.isComponent))):i(sV(n.inSSR,l.isComponent))),l.isBlock=!h,l.isBlock?(r(hz),r(aV(n.inSSR,l.isComponent))):r(sV(n.inSSR,l.isComponent))),a){const e=nV(SH(t.parseResult,[Qz("_cached")]));e.body=oV([eV(["const _memo = (",a.exp,")"]),eV(["if (_cached",...c?[" && _cached.key === ",c]:[],` && ${n.helperString(Wz)}(_cached, _memo)) return _cached`]),eV(["const _item = ",l]),Qz("_item.memo = _memo"),Qz("return _item")]),o.arguments.push(e,Qz("_cache"),Qz(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(nV(SH(t.parseResult),l,!0))}})});function xH(e,t,n,r){if(!t.exp)return void n.onError(wV(31,t.loc));const i=t.forParseResult;if(!i)return void n.onError(wV(32,t.loc));wH(i);const{addIdentifiers:o,removeIdentifiers:s,scopes:a}=n,{source:l,value:c,key:u,index:h}=i,f={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:h,parseResult:i,children:ej(e)?e.children:[e]};n.replaceNode(f),a.vFor++;const d=r&&r(f);return()=>{a.vFor--,d&&d()}}function wH(e,t){e.finalized||(e.finalized=!0)}function SH({value:e,key:t,index:n},r=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((e,t)=>e||Qz("_".repeat(t+1),!1))}([e,t,n,...r])}const EH=Qz("undefined",!1),TH=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=$V(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},AH=(e,t,n,r)=>nV(e,n,!1,!0,n.length?n[0].loc:r);function MH(e,t,n=AH){t.helper(zz);const{children:r,loc:i}=e,o=[],s=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=$V(e,"slot",!0);if(l){const{arg:e,exp:t}=l;e&&!IV(e)&&(a=!0),o.push(Jz(e||Qz("default",!0),n(t,void 0,r,i)))}let c=!1,u=!1;const h=[],f=new Set;let d=0;for(let g=0;g<r.length;g++){const e=r[g];let i;if(!ej(e)||!(i=$V(e,"slot",!0))){3!==e.type&&h.push(e);continue}if(l){t.onError(wV(37,i.loc));break}c=!0;const{children:p,loc:m}=e,{arg:v=Qz("default",!0),exp:y,loc:_}=i;let b;IV(v)?b=v?v.content:"default":a=!0;const x=$V(e,"for"),w=n(y,x,p,m);let S,E;if(S=$V(e,"if"))a=!0,s.push(rV(S.exp,CH(v,w,d++),EH));else if(E=$V(e,/^else(?:-if)?$/,!0)){let e,n=g;for(;n--&&(e=r[n],hj(e)););if(e&&ej(e)&&$V(e,/^(?:else-)?if$/)){let e=s[s.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=E.exp?rV(E.exp,CH(v,w,d++),EH):CH(v,w,d++)}else t.onError(wV(30,E.loc))}else if(x){a=!0;const e=x.forParseResult;e?(wH(e),s.push(tV(t.helper(Ez),[e.source,nV(SH(e),CH(v,w),!0)]))):t.onError(wV(32,x.loc))}else{if(b){if(f.has(b)){t.onError(wV(38,_));continue}f.add(b),"default"===b&&(u=!0)}o.push(Jz(v,w))}}if(!l){const e=(e,r)=>{const o=n(e,void 0,r,i);return t.compatConfig&&(o.isNonScopedSlot=!0),Jz("default",o)};c?h.length&&!h.every(uj)&&(u?t.onError(wV(39,h[0].loc)):o.push(e(void 0,h))):o.push(e(void 0,r))}const p=a?2:OH(e.children)?3:1;let m=Zz(o.concat(Jz("_",Qz(p+"",!1))),i);return s.length&&(m=tV(t.helper(Az),[m,Kz(s)])),{slots:m,hasDynamicSlots:a}}function CH(e,t,n){const r=[Jz("name",e),Jz("fn",t)];return null!=n&&r.push(Jz("key",Qz(String(n),!0))),Zz(r)}function OH(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||OH(n.children))return!0;break;case 9:if(OH(n.branches))return!0;break;case 10:case 11:if(OH(n.children))return!0}}return!1}const RH=new WeakMap,IH=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:r}=e,i=1===e.tagType;let o=i?kH(e,t):`"${n}"`;const s=_(o)&&o.callee===bz;let a,l,c,u,h,f=0,d=s||o===az||o===lz||!i&&("svg"===n||"foreignObject"===n||"math"===n);if(r.length>0){const n=PH(e,t,void 0,i,s);a=n.props,f=n.patchFlag,u=n.dynamicPropNames;const r=n.directives;h=r&&r.length?Kz(r.map(e=>LH(e,t))):void 0,n.shouldUseBlock&&(d=!0)}if(e.children.length>0){o===cz&&(d=!0,f|=1024);if(i&&o!==az&&o!==cz){const{slots:n,hasDynamicSlots:r}=MH(e,t);l=n,r&&(f|=1024)}else if(1===e.children.length&&o!==az){const n=e.children[0],r=n.type,i=5===r||8===r;i&&0===Yj(n,t)&&(f|=1),l=i||2===r?n:e.children}else l=e.children}u&&u.length&&(c=function(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}(u)),e.codegenNode=Yz(t,o,a,l,0===f?void 0:f,c,h,!!d,!1,i,e.loc)};function kH(e,t,n=!1){let{tag:r}=e;const i=FH(r),o=XV(e,"is",!1,!0);if(o)if(i||yV("COMPILER_IS_ON_ELEMENT",t)){let e;if(6===o.type?e=o.value&&Qz(o.value.content,!0):(e=o.exp,e||(e=Qz("is",!1,o.arg.loc))),e)return tV(t.helper(bz),[e])}else 6===o.type&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const s=kV(r)||t.isBuiltInComponent(r);return s?(n||t.helper(s),s):(t.helper(_z),t.components.add(r),sj(r,"component"))}function PH(e,t,n=e.props,r,i,s=!1){const{tag:a,loc:l,children:c}=e;let u=[];const h=[],f=[],d=c.length>0;let p=!1,m=0,g=!1,v=!1,_=!1,b=!1,x=!1,w=!1;const S=[],E=e=>{u.length&&(h.push(Zz(NH(u),l)),u=[]),e&&h.push(e)},T=()=>{t.scopes.vFor>0&&u.push(Jz(Qz("ref_for",!0),Qz("true")))},C=({key:e,value:n})=>{if(IV(e)){const s=e.content,a=o(s);if(!a||r&&!i||"onclick"===s.toLowerCase()||"onUpdate:modelValue"===s||A(s)||(b=!0),a&&A(s)&&(w=!0),a&&14===n.type&&(n=n.arguments[0]),20===n.type||(4===n.type||8===n.type)&&Yj(n,t)>0)return;"ref"===s?g=!0:"class"===s?v=!0:"style"===s?_=!0:"key"===s||S.includes(s)||S.push(s),!r||"class"!==s&&"style"!==s||S.includes(s)||S.push(s)}else x=!0};for(let o=0;o<n.length;o++){const i=n[o];if(6===i.type){const{loc:e,name:n,nameLoc:r,value:o}=i;let s=!0;if("ref"===n&&(g=!0,T()),"is"===n&&(FH(a)||o&&o.content.startsWith("vue:")||yV("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(Jz(Qz(n,!0,r),Qz(o?o.content:"",s,o?o.loc:e)))}else{const{name:n,arg:o,exp:c,loc:g,modifiers:v}=i,_="bind"===n,b="on"===n;if("slot"===n){r||t.onError(wV(40,g));continue}if("once"===n||"memo"===n)continue;if("is"===n||_&&YV(o,"is")&&(FH(a)||yV("COMPILER_IS_ON_ELEMENT",t)))continue;if(b&&s)continue;if((_&&YV(o,"key")||b&&d&&YV(o,"vue:before-update"))&&(p=!0),_&&YV(o,"ref")&&T(),!o&&(_||b)){if(x=!0,c)if(_){if(E(),yV("COMPILER_V_BIND_OBJECT_ORDER",t)){h.unshift(c);continue}T(),E(),h.push(c)}else E({type:14,loc:g,callee:t.helper(Pz),arguments:r?[c]:[c,"true"]});else t.onError(wV(_?34:35,g));continue}_&&v.some(e=>"prop"===e.content)&&(m|=32);const w=t.directiveTransforms[n];if(w){const{props:n,needRuntime:r}=w(i,e,t);!s&&n.forEach(C),b&&o&&!IV(o)?E(Zz(n,l)):u.push(...n),r&&(f.push(i),y(r)&&RH.set(i,r))}else M(n)||(f.push(i),d&&(p=!0))}}let O;if(h.length?(E(),O=h.length>1?tV(t.helper(Cz),h,l):h[0]):u.length&&(O=Zz(NH(u),l)),x?m|=16:(v&&!r&&(m|=2),_&&!r&&(m|=4),S.length&&(m|=8),b&&(m|=32)),p||0!==m&&32!==m||!(g||w||f.length>0)||(m|=512),!t.inSSR&&O)switch(O.type){case 15:let e=-1,n=-1,r=!1;for(let t=0;t<O.properties.length;t++){const i=O.properties[t].key;IV(i)?"class"===i.content?e=t:"style"===i.content&&(n=t):i.isHandlerKey||(r=!0)}const i=O.properties[e],o=O.properties[n];r?O=tV(t.helper(Iz),[O]):(i&&!IV(i.value)&&(i.value=tV(t.helper(Oz),[i.value])),o&&(_||4===o.value.type&&"["===o.value.content.trim()[0]||17===o.value.type)&&(o.value=tV(t.helper(Rz),[o.value])));break;case 14:break;default:O=tV(t.helper(Iz),[tV(t.helper(kz),[O])])}return{props:O,directives:f,patchFlag:m,dynamicPropNames:S,shouldUseBlock:p}}function NH(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(8===i.key.type||!i.key.isStatic){n.push(i);continue}const s=i.key.content,a=t.get(s);a?("style"===s||"class"===s||o(s))&&DH(a,i):(t.set(s,i),n.push(i))}return n}function DH(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=Kz([e.value,t.value],e.loc)}function LH(e,t){const n=[],r=RH.get(e);r?n.push(t.helperString(r)):(t.helper(xz),t.directives.add(e.name),n.push(sj(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=Qz("true",!1,i);n.push(Zz(e.modifiers.map(e=>Jz(e,t)),i))}return Kz(n,e.loc)}function FH(e){return"component"===e||"Component"===e}const UH=(e,t)=>{if(tj(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:o}=BH(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;o&&(s[2]=o,a=3),n.length&&(s[3]=nV([],n,!1,!1,r),a=4),t.scopeId&&!t.slotted&&(a=5),s.splice(a),e.codegenNode=tV(t.helper(Tz),s,r)}};function BH(e,t){let n,r='"default"';const i=[];for(let o=0;o<e.props.length;o++){const t=e.props[o];if(6===t.type)t.value&&("name"===t.name?r=JSON.stringify(t.value.content):(t.name=R(t.name),i.push(t)));else if("bind"===t.name&&YV(t.arg,"name")){if(t.exp)r=t.exp;else if(t.arg&&4===t.arg.type){const e=R(t.arg.content);r=t.exp=Qz(e,!1,t.arg.loc)}}else"bind"===t.name&&t.arg&&IV(t.arg)&&(t.arg.content=R(t.arg.content)),i.push(t)}if(i.length>0){const{props:r,directives:o}=PH(e,t,i,!1,!1);n=r,o.length&&t.onError(wV(36,o[0].loc))}return{slotName:r,slotProps:n}}const zH=(e,t,n,r)=>{const{loc:i,modifiers:o,arg:s}=e;let a;if(e.exp||o.length||n.onError(wV(35,i)),4===s.type)if(s.isStatic){let e=s.content;e.startsWith("vue:")&&(e=`vnode-${e.slice(4)}`);a=Qz(0!==t.tagType||e.startsWith("vnode")||!/[A-Z]/.test(e)?N(R(e)):`on:${e}`,!0,s.loc)}else a=eV([`${n.helperString(Lz)}(`,s,")"]);else a=s,a.children.unshift(`${n.helperString(Lz)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const e=VV(l),t=!(e||GV(l)),n=l.content.includes(";");(t||c&&e)&&(l=eV([`${t?"$event":"(...args)"} => ${n?"{":"("}`,l,n?"}":")"]))}let u={props:[Jz(a,l||Qz("() => {}",!1,i))]};return r&&(u=r(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(e=>e.key.isHandlerKey=!0),u},VH=(e,t,n)=>{const{modifiers:r,loc:i}=e,o=e.arg;let{exp:s}=e;return s&&4===s.type&&!s.content.trim()&&(s=void 0),4!==o.type?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=o.content?`${o.content} || ""`:'""'),r.some(e=>"camel"===e.content)&&(4===o.type?o.isStatic?o.content=R(o.content):o.content=`${n.helperString(Nz)}(${o.content})`:(o.children.unshift(`${n.helperString(Nz)}(`),o.children.push(")"))),n.inSSR||(r.some(e=>"prop"===e.content)&&jH(o,"."),r.some(e=>"attr"===e.content)&&jH(o,"^")),{props:[Jz(o,s)]}},jH=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},HH=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let r,i=!1;for(let e=0;e<n.length;e++){const t=n[e];if(ZV(t)){i=!0;for(let i=e+1;i<n.length;i++){const o=n[i];if(!ZV(o)){r=void 0;break}r||(r=n[e]=eV([t],t.loc)),r.children.push(" + ",o),n.splice(i,1),i--}}}if(i&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find(e=>7===e.type&&!t.directiveTransforms[e.name])||"template"===e.tag)))for(let e=0;e<n.length;e++){const r=n[e];if(ZV(r)||8===r.type){const i=[];2===r.type&&" "===r.content||i.push(r),t.ssr||0!==Yj(r,t)||i.push("1"),n[e]={type:12,content:r,loc:r.loc,codegenNode:tV(t.helper(vz),i)}}}}},WH=new WeakSet,GH=(e,t)=>{if(1===e.type&&$V(e,"once",!0)){if(WH.has(e)||t.inVOnce||t.inSSR)return;return WH.add(e),t.inVOnce=!0,t.helper(Fz),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0,!0))}}},qH=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(wV(41,e.loc)),$H();const o=r.loc.source.trim(),s=4===r.type?r.content:o,a=n.bindingMetadata[o];if("props"===a||"props-aliased"===a)return n.onError(wV(44,r.loc)),$H();if("literal-const"===a||"setup-const"===a)return n.onError(wV(45,r.loc)),$H();if(!s.trim()||!VV(r))return n.onError(wV(42,r.loc)),$H();const l=i||Qz("modelValue",!0),c=i?IV(i)?`onUpdate:${R(i.content)}`:eV(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;u=eV([`${n.isTS?"($event: any)":"$event"} => ((`,r,") = $event)"]);const h=[Jz(l,e.exp),Jz(c,u)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map(e=>e.content).map(e=>(NV(e)?e:JSON.stringify(e))+": true").join(", "),n=i?IV(i)?`${i.content}Modifiers`:eV([i,' + "Modifiers"']):"modelModifiers";h.push(Jz(n,Qz(`{ ${t} }`,!1,e.loc,2)))}return $H(h)};function $H(e=[]){return{props:e}}const XH=/[\w).+\-_$\]]/,YH=(e,t)=>{yV("COMPILER_FILTERS",t)&&(5===e.type?KH(e.content,t):1===e.type&&e.props.forEach(e=>{7===e.type&&"for"!==e.name&&e.exp&&KH(e.exp,t)}))};function KH(e,t){if(4===e.type)ZH(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];"object"==typeof r&&(4===r.type?ZH(r,t):8===r.type?KH(e,t):5===r.type&&KH(r.content,t))}}function ZH(e,t){const n=e.content;let r,i,o,s,a=!1,l=!1,c=!1,u=!1,h=0,f=0,d=0,p=0,m=[];for(o=0;o<n.length;o++)if(i=r,r=n.charCodeAt(o),a)39===r&&92!==i&&(a=!1);else if(l)34===r&&92!==i&&(l=!1);else if(c)96===r&&92!==i&&(c=!1);else if(u)47===r&&92!==i&&(u=!1);else if(124!==r||124===n.charCodeAt(o+1)||124===n.charCodeAt(o-1)||h||f||d){switch(r){case 34:l=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:h++;break;case 125:h--}if(47===r){let e,t=o-1;for(;t>=0&&(e=n.charAt(t)," "===e);t--);e&&XH.test(e)||(u=!0)}}else void 0===s?(p=o+1,s=n.slice(0,o).trim()):g();function g(){m.push(n.slice(p,o).trim()),p=o+1}if(void 0===s?s=n.slice(0,o).trim():0!==p&&g(),m.length){for(o=0;o<m.length;o++)s=JH(s,m[o],t);e.content=s,e.ast=void 0}}function JH(e,t,n){n.helper(wz);const r=t.indexOf("(");if(r<0)return n.filters.add(t),`${sj(t,"filter")}(${e})`;{const i=t.slice(0,r),o=t.slice(r+1);return n.filters.add(i),`${sj(i,"filter")}(${e}${")"!==o?","+o:o}`}}const QH=new WeakSet,eW=(e,t)=>{if(1===e.type){const n=$V(e,"memo");if(!n||QH.has(e)||t.inSSR)return;return QH.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&13===r.type&&(1!==e.tagType&&lV(r,t),e.codegenNode=tV(t.helper(Hz),[n.exp,nV(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))}}},tW=(e,t)=>{if(1===e.type)for(const n of e.props)if(7===n.type&&"bind"===n.name&&(!n.exp||4===n.exp.type&&!n.exp.content.trim())&&n.arg){const e=n.arg;if(4===e.type&&e.isStatic){const t=R(e.content);(DV.test(t[0])||"-"===t[0])&&(n.exp=Qz(t,!1,e.loc))}else t.onError(wV(53,e.loc)),n.exp=Qz("",!0,e.loc)}};function nW(e){return[[tW,GH,mH,eW,bH,YH,UH,IH,TH,HH],{on:zH,bind:VH,model:qH}]}function rW(e,t={}){const n=t.onError||bV,r="module"===t.mode;!0===t.prefixIdentifiers?n(wV(48)):r&&n(wV(49));t.cacheHandlers&&n(wV(50)),t.scopeId&&!r&&n(wV(51));const i=a({},t,{prefixIdentifiers:!1}),o=v(e)?Gj(e,i):e,[s,l]=nW();return tH(o,a({},i,{nodeTransforms:[...s,...t.nodeTransforms||[]],directiveTransforms:a({},l,t.directiveTransforms||{})})),sH(o,i)}const iW=()=>({props:[]}),oW=Symbol(""),sW=Symbol(""),aW=Symbol(""),lW=Symbol(""),cW=Symbol(""),uW=Symbol(""),hW=Symbol(""),fW=Symbol(""),dW=Symbol(""),pW=Symbol("");let mW;qz({[oW]:"vModelRadio",[sW]:"vModelCheckbox",[aW]:"vModelText",[lW]:"vModelSelect",[cW]:"vModelDynamic",[uW]:"withModifiers",[hW]:"withKeys",[fW]:"vShow",[dW]:"Transition",[pW]:"TransitionGroup"});const gW={parseMode:"html",isVoidTag:oe,isNativeTag:e=>ne(e)||re(e)||ie(e),isPreTag:e=>"pre"===e,isIgnoreNewlineTag:e=>"pre"===e||"textarea"===e,decodeEntities:function(e,t=!1){return mW||(mW=document.createElement("div")),t?(mW.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,mW.children[0].getAttribute("foo")):(mW.innerHTML=e,mW.textContent)},isBuiltInComponent:e=>"Transition"===e||"transition"===e?dW:"TransitionGroup"===e||"transition-group"===e?pW:void 0,getNamespace(e,t,n){let r=t?t.ns:n;if(t&&2===r)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some(e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(r=0);else t&&1===r&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(r=0));if(0===r){if("svg"===e)return 1;if("math"===e)return 2}return r}},vW=e=>{1===e.type&&e.props.forEach((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:Qz("style",!0,t.loc),exp:yW(t.value.content,t.loc),modifiers:[],loc:t.loc})})},yW=(e,t)=>{const n=Q(e);return Qz(JSON.stringify(n),!1,t,3)};function _W(e,t){return wV(e,t)}const bW={54:"v-html is missing expression.",55:"v-html will override element children.",56:"v-text is missing expression.",57:"v-text will override element children.",58:"v-model can only be used on <input>, <textarea> and <select> elements.",59:"v-model argument is not supported on plain elements.",60:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",61:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",62:"v-show is missing expression.",63:"<Transition> expects exactly one child element or component.",64:"Tags with side effect (<script> and <style>) are ignored in client component templates."},xW=e("passive,once,capture"),wW=e("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),SW=e("left,right"),EW=e("onkeyup,onkeydown,onkeypress"),TW=(e,t)=>IV(e)&&"onclick"===e.content.toLowerCase()?Qz(t,!0):4!==e.type?eV(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,AW=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||t.removeNode()},MW=[vW],CW={cloak:iW,html:(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(_W(54,i)),t.children.length&&(n.onError(_W(55,i)),t.children.length=0),{props:[Jz(Qz("innerHTML",!0,i),r||Qz("",!0))]}},text:(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(_W(56,i)),t.children.length&&(n.onError(_W(57,i)),t.children.length=0),{props:[Jz(Qz("textContent",!0),r?Yj(r,n)>0?r:tV(n.helperString(Mz),[r],i):Qz("",!0))]}},model:(e,t,n)=>{const r=qH(e,t,n);if(!r.props.length||1===t.tagType)return r;e.arg&&n.onError(_W(59,e.arg.loc));const{tag:i}=t,o=n.isCustomElement(i);if("input"===i||"textarea"===i||"select"===i||o){let s=aW,a=!1;if("input"===i||o){const r=XV(t,"type");if(r){if(7===r.type)s=cW;else if(r.value)switch(r.value.content){case"radio":s=oW;break;case"checkbox":s=sW;break;case"file":a=!0,n.onError(_W(60,e.loc))}}else KV(t)&&(s=cW)}else"select"===i&&(s=lW);a||(r.needRuntime=n.helper(s))}else n.onError(_W(58,e.loc));return r.props=r.props.filter(e=>!(4===e.key.type&&"modelValue"===e.key.content)),r},on:(e,t,n)=>zH(e,t,n,t=>{const{modifiers:r}=e;if(!r.length)return t;let{key:i,value:o}=t.props[0];const{keyModifiers:s,nonKeyModifiers:a,eventOptionModifiers:l}=((e,t,n)=>{const r=[],i=[],o=[];for(let s=0;s<t.length;s++){const a=t[s].content;"native"===a&&_V("COMPILER_V_ON_NATIVE",n)||xW(a)?o.push(a):SW(a)?IV(e)?EW(e.content.toLowerCase())?r.push(a):i.push(a):(r.push(a),i.push(a)):wW(a)?i.push(a):r.push(a)}return{keyModifiers:r,nonKeyModifiers:i,eventOptionModifiers:o}})(i,r,n,e.loc);if(a.includes("right")&&(i=TW(i,"onContextmenu")),a.includes("middle")&&(i=TW(i,"onMouseup")),a.length&&(o=tV(n.helper(uW),[o,JSON.stringify(a)])),!s.length||IV(i)&&!EW(i.content.toLowerCase())||(o=tV(n.helper(hW),[o,JSON.stringify(s)])),l.length){const e=l.map(P).join("");i=IV(i)?Qz(`${i.content}${e}`,!0):eV(["(",i,`) + "${e}"`])}return{props:[Jz(i,o)]}}),show:(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(_W(62,i)),{props:[],needRuntime:n.helper(fW)}}};const OW=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:uz,BindingTypes:{DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},CAMELIZE:Nz,CAPITALIZE:Dz,CREATE_BLOCK:fz,CREATE_COMMENT:gz,CREATE_ELEMENT_BLOCK:dz,CREATE_ELEMENT_VNODE:mz,CREATE_SLOTS:Az,CREATE_STATIC:yz,CREATE_TEXT:vz,CREATE_VNODE:pz,CompilerDeprecationTypes:{COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},ConstantTypes:{NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},DOMDirectiveTransforms:CW,DOMErrorCodes:{X_V_HTML_NO_EXPRESSION:54,54:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:55,55:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:56,56:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:57,57:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:58,58:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:59,59:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:60,60:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:61,61:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:62,62:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:63,63:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:64,64:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:65,65:"__EXTEND_POINT__"},DOMErrorMessages:bW,DOMNodeTransforms:MW,ElementTypes:{ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},ErrorCodes:{ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_V_MODEL_ON_CONST:45,45:"X_V_MODEL_ON_CONST",X_INVALID_EXPRESSION:46,46:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:47,47:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:48,48:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:49,49:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:50,50:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:51,51:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:52,52:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:53,53:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:54,54:"__EXTEND_POINT__"},FRAGMENT:sz,GUARD_REACTIVE_PROPS:kz,IS_MEMO_SAME:Wz,IS_REF:jz,KEEP_ALIVE:cz,MERGE_PROPS:Cz,NORMALIZE_CLASS:Oz,NORMALIZE_PROPS:Iz,NORMALIZE_STYLE:Rz,Namespaces:{HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},NodeTypes:{ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},OPEN_BLOCK:hz,POP_SCOPE_ID:Bz,PUSH_SCOPE_ID:Uz,RENDER_LIST:Ez,RENDER_SLOT:Tz,RESOLVE_COMPONENT:_z,RESOLVE_DIRECTIVE:xz,RESOLVE_DYNAMIC_COMPONENT:bz,RESOLVE_FILTER:wz,SET_BLOCK_TRACKING:Fz,SUSPENSE:lz,TELEPORT:az,TO_DISPLAY_STRING:Mz,TO_HANDLERS:Pz,TO_HANDLER_KEY:Lz,TRANSITION:dW,TRANSITION_GROUP:pW,TS_NODE_TYPES:RV,UNREF:Vz,V_MODEL_CHECKBOX:sW,V_MODEL_DYNAMIC:cW,V_MODEL_RADIO:oW,V_MODEL_SELECT:lW,V_MODEL_TEXT:aW,V_ON_WITH_KEYS:hW,V_ON_WITH_MODIFIERS:uW,V_SHOW:fW,WITH_CTX:zz,WITH_DIRECTIVES:Sz,WITH_MEMO:Hz,advancePositionWithClone:function(e,t,n=t.length){return qV({offset:e.offset,line:e.line,column:e.column},t,n)},advancePositionWithMutation:qV,assert:function(e,t){if(!e)throw new Error(t||"unexpected compiler condition")},baseCompile:rW,baseParse:Gj,buildDirectiveArgs:LH,buildProps:PH,buildSlots:MH,checkCompatEnabled:_V,compile:function(e,t={}){return rW(e,a({},gW,t,{nodeTransforms:[AW,...MW,...t.nodeTransforms||[]],directiveTransforms:a({},CW,t.directiveTransforms||{}),transformHoist:null}))},convertToBlock:lV,createArrayExpression:Kz,createAssignmentExpression:function(e,t){return{type:24,left:e,right:t,loc:$z}},createBlockStatement:oV,createCacheExpression:iV,createCallExpression:tV,createCompilerError:wV,createCompoundExpression:eV,createConditionalExpression:rV,createDOMCompilerError:_W,createForLoopParams:SH,createFunctionExpression:nV,createIfStatement:function(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:$z}},createInterpolation:function(e,t){return{type:5,loc:t,content:v(e)?Qz(e,!1,t):e}},createObjectExpression:Zz,createObjectProperty:Jz,createReturnStatement:function(e){return{type:26,returns:e,loc:$z}},createRoot:Xz,createSequenceExpression:function(e){return{type:25,expressions:e,loc:$z}},createSimpleExpression:Qz,createStructuralDirectiveTransform:rH,createTemplateLiteral:function(e){return{type:22,elements:e,loc:$z}},createTransformContext:eH,createVNodeCall:Yz,errorMessages:SV,extractIdentifiers:CV,findDir:$V,findProp:XV,forAliasRE:lj,generate:sH,generateCodeFrame:X,getBaseTransformPreset:nW,getConstantType:Yj,getMemoedVNodeCall:aj,getVNodeBlockHelper:aV,getVNodeHelper:sV,hasDynamicKeyVBind:KV,hasScopeRef:function e(t,n){if(!t||0===Object.keys(n).length)return!1;switch(t.type){case 1:for(let r=0;r<t.props.length;r++){const i=t.props[r];if(7===i.type&&(e(i.arg,n)||e(i.exp,n)))return!0}return t.children.some(t=>e(t,n));case 11:return!!e(t.source,n)||t.children.some(t=>e(t,n));case 9:return t.branches.some(t=>e(t,n));case 10:return!!e(t.condition,n)||t.children.some(t=>e(t,n));case 4:return!t.isStatic&&NV(t.content)&&!!n[t.content];case 8:return t.children.some(t=>_(t)&&e(t,n));case 5:case 12:return e(t.content,n);default:return!1}},helperNameMap:Gz,injectProp:ij,isAllWhitespace:cj,isCommentOrWhitespace:hj,isCoreComponent:kV,isFnExpression:GV,isFnExpressionBrowser:HV,isFnExpressionNode:WV,isFunctionType:e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),isInDestructureAssignment:function(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){const n=t[e];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1},isInNewExpression:function(e){let t=e.length;for(;t--;){const n=e[t];if("NewExpression"===n.type)return!0;if("MemberExpression"!==n.type)break}return!1},isMemberExpression:VV,isMemberExpressionBrowser:BV,isMemberExpressionNode:zV,isReferencedIdentifier:function(e,t,n){return!1},isSimpleIdentifier:NV,isSlotOutlet:tj,isStaticArgOf:YV,isStaticExp:IV,isStaticProperty:OV,isStaticPropertyKey:(e,t)=>OV(t)&&t.key===e,isTemplateNode:ej,isText:ZV,isVPre:JV,isVSlot:QV,isWhitespaceText:uj,locStub:$z,noopDirectiveTransform:iW,parse:function(e,t={}){return Gj(e,a({},gW,t))},parserOptions:gW,processExpression:pH,processFor:xH,processIf:gH,processSlotOutlet:BH,registerRuntimeHelpers:qz,resolveComponentType:kH,stringifyExpression:function e(t){return v(t)?t:4===t.type?t.content:t.children.map(e).join("")},toValidAssetId:sj,trackSlotScopes:TH,trackVForSlotScopes:(e,t)=>{let n;if(ej(e)&&e.props.some(QV)&&(n=$V(e,"for"))){const e=n.forParseResult;if(e){wH(e);const{value:n,key:r,index:i}=e,{addIdentifiers:o,removeIdentifiers:s}=t;return n&&o(n),r&&o(r),i&&o(i),()=>{n&&s(n),r&&s(r),i&&s(i)}}}},transform:tH,transformBind:VH,transformElement:IH,transformExpression:(e,t)=>{if(5===e.type)e.content=pH(e.content,t);else if(1===e.type){const n=$V(e,"memo");for(let r=0;r<e.props.length;r++){const i=e.props[r];if(7===i.type&&"for"!==i.name){const e=i.exp,r=i.arg;!e||4!==e.type||"on"===i.name&&r||n&&r&&4===r.type&&"key"===r.content||(i.exp=pH(e,t,"slot"===i.name)),r&&4===r.type&&!r.isStatic&&(i.arg=pH(r,t))}}}},transformModel:qH,transformOn:zH,transformStyle:vW,transformVBindShorthand:tW,traverseNode:nH,unwrapTSNode:function e(t){return RV.includes(t.type)?e(t.expression):t},validFirstIdentCharRE:DV,walkBlockDeclarations:EV,walkFunctionParams:function(e,t){for(const n of e.params)for(const e of CV(n))t(e)},walkIdentifiers:function(e,t,n=!1,r=[],i=Object.create(null)){},warnDeprecation:function(e,t,n,...r){if("suppress-warning"===vV(e,t))return;const{message:i,link:o}=gV[e],s=`(deprecation ${e}) ${"function"==typeof i?i(...r):i}${o?`\n  Details: ${o}`:""}`,a=new SyntaxError(s);a.code=e,n&&(a.loc=n),t.onWarn(a)}},Symbol.toStringTag,{value:"Module"})),RW=_R(OW),IW=_R(Gl),kW=_R(Te);var PW,NW;function DW(){return NW||(NW=1,iz.exports=(PW||(PW=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=RW,n=IW,r=kW;function i(e){var t=Object.create(null);if(e)for(var n in e)t[n]=e[n];return t.default=e,Object.freeze(t)}var o=i(n);const s=Object.create(null);function a(e,n){if(!r.isString(e)){if(!e.nodeType)return r.NOOP;e=e.innerHTML}const i=r.genCacheKey(e,n),a=s[i];if(a)return a;if("#"===e[0]){const t=document.querySelector(e);e=t?t.innerHTML:""}const l=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},n);l.isCustomElement||"undefined"==typeof customElements||(l.isCustomElement=e=>!!customElements.get(e));const{code:c}=t.compile(e,l),u=new Function("Vue",c)(o);return u._rc=!0,s[i]=u}n.registerRuntimeCompiler(a),e.compile=a,Object.keys(n).forEach(function(t){"default"===t||Object.prototype.hasOwnProperty.call(e,t)||(e[t]=n[t])})}(oz)),oz)),iz.exports}var LW;var FW,UW=LW?rz.exports:(LW=1,FW=e=>(()=>{var t={113:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},594:t=>{t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};r.r(i),r.d(i,{ToastComponent:()=>p,ToastPlugin:()=>g,ToastPositions:()=>c,default:()=>v,useToast:()=>m});var o=r(594);const s=["innerHTML"];function a(e){void 0!==e.remove?e.remove():e.parentNode?.removeChild(e)}class l{constructor(e,t){this.startedAt=Date.now(),this.callback=e,this.delay=t,this.timer=setTimeout(e,t)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const c=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"}),u=function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(e){e(n)}),(r=e.get("*"))&&r.slice().map(function(e){e(t,n)})}}}(),h=u,f=(0,o.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:c.BOTTOM_RIGHT,validator:e=>Object.values(c).includes(e)},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data:()=>({isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}),beforeMount(){this.setupContainer()},mounted(){this.showNotice(),h.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const e=document.body;e.appendChild(this.parentTop),e.appendChild(this.parentBottom)},shouldQueue(){return!!this.queue&&(this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0)},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const e=this.$refs.root;(0,o.render)(null,e),a(e)},150)},showNotice(){if(this.shouldQueue())return void(this.queueTimer=setTimeout(this.showNotice,250));const e=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),a(e),this.isActive=!0,this.duration&&(this.timer=new l(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(e){this.pauseOnHover&&this.timer&&(e?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case c.TOP:case c.TOP_RIGHT:case c.TOP_LEFT:return this.parentTop;case c.BOTTOM:case c.BOTTOM_RIGHT:case c.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case c.TOP:case c.TOP_RIGHT:case c.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case c.BOTTOM:case c.BOTTOM_RIGHT:case c.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){h.off("toast-clear",this.dismiss)}}),d=(0,r(113).default)(f,[["render",function(e,t,n,r,i,a){return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave},{default:(0,o.withCtx)(()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",{ref:"root",role:"alert",class:(0,o.normalizeClass)(["v-toast__item",[`v-toast__item--${e.type}`,`v-toast__item--${e.position}`]]),onMouseover:t[0]||(t[0]=t=>e.toggleTimer(!0)),onMouseleave:t[1]||(t[1]=t=>e.toggleTimer(!1)),onClick:t[2]||(t[2]=function(){return e.whenClicked&&e.whenClicked(...arguments)})},[t[3]||(t[3]=(0,o.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,o.createElementVNode)("p",{class:"v-toast__text",innerHTML:e.message},null,8,s)],34),[[o.vShow,e.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}]]),p=d,m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{open(t){let n=null;"string"==typeof t&&(n=t);const r={message:n},i=Object.assign({},r,e,t),s=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=(0,o.h)(e,t,r),s=document.createElement("div");return s.classList.add("v-toast--pending"),n.appendChild(s),(0,o.render)(i,s),i.component}(p,i,document.body);return{dismiss:s.ctx.dismiss}},clear(){h.emit("toast-clear")},success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"success"},t))},error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"error"},t))},info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"info"},t))},warning(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"warning"},t))},default(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"default"},t))}}},g={install:function(e){let t=m(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});e.config.globalProperties.$toast=t,e.provide("$toast",t)}},v=g;return i})(),rz.exports=FW(DW())),BW={};!function e(t,n,r,i){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),s="function"==typeof Path2D&&"function"==typeof DOMMatrix;function a(){}function l(e){var r=n.exports.Promise,i=void 0!==r?r:t.Promise;return"function"==typeof i?new i(e):(e(a,a),null)}var c,u,h,f,d,p,m=function(e,t){return{transform:function(n){if(e)return n;if(t.has(n))return t.get(n);var r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),t.set(n,r),r},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var r=e.transferToImageBitmap();n.createPattern(r,"no-repeat")}catch(vme){return!1}return!0}(),new Map),g=(h=Math.floor(1e3/60),f={},d=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(c=function(e){var t=Math.random();return f[t]=requestAnimationFrame(function n(r){d===r||d+h-1<r?(d=r,delete f[t],e()):f[t]=requestAnimationFrame(n)}),t},u=function(e){f[e]&&cancelAnimationFrame(f[e])}):(c=function(e){return setTimeout(e,h)},u=function(e){return clearTimeout(e)}),{frame:c,cancel:u}),v=function(){var t,n,i={};return function(){if(t)return t;if(!r&&o){var s=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([s])))}catch(vme){return"undefined"!=typeof console&&console.warn,null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(r,o,s){if(n)return t(r,null),n;var a=Math.random().toString(36).slice(2);return n=l(function(o){function l(t){t.data.callback===a&&(delete i[a],e.removeEventListener("message",l),n=null,m.clear(),s(),o())}e.addEventListener("message",l),t(r,a),i[a]=l.bind(null,{data:{callback:a}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),i)i[t](),delete i[t]}}(t)}return t}}(),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(e,t,n){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:y[t],n)}function b(e){return e<0?0:Math.floor(e)}function x(e,t){return Math.floor(Math.random()*(t-e))+e}function w(e){return parseInt(e,16)}function S(e){return e.map(E)}function E(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:w(t.substring(0,2)),g:w(t.substring(2,4)),b:w(t.substring(4,6))}}function T(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function A(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function M(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function C(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),s&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,r,i,o,s){var a=new Path2D(e),l=new Path2D;l.addPath(a,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(s)*i,Math.sin(s)*i,-Math.sin(s)*o,Math.cos(s)*o,n,r])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(o-r),.1*Math.abs(a-i),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(o-r),u=.1*Math.abs(a-i),h=t.shape.bitmap.width*t.scalar,f=t.shape.bitmap.height*t.scalar,d=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*u,Math.cos(l)*u,t.x,t.y]);d.multiplySelf(new DOMMatrix(t.shape.matrix));var p=e.createPattern(m.transform(t.shape.bitmap),"no-repeat");p.setTransform(d),e.globalAlpha=1-n,e.fillStyle=p,e.fillRect(t.x-h/2,t.y-f/2,h,f),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,s,a,l){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,s,a,l),e.restore()}(e,t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(a-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var g=Math.PI/2*3,v=4*t.scalar,y=8*t.scalar,_=t.x,b=t.y,x=5,w=Math.PI/x;x--;)_=t.x+Math.cos(g)*y,b=t.y+Math.sin(g)*y,e.lineTo(_,b),g+=w,_=t.x+Math.cos(g)*v,b=t.y+Math.sin(g)*v,e.lineTo(_,b),g+=w;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function O(e,n){var s,a=!e,c=!!_(n||{},"resize"),u=!1,h=_(n,"disableForReducedMotion",Boolean),f=o&&!!_(n||{},"useWorker")?v():null,d=a?T:A,p=!(!e||!f)&&!!e.__confetti_initialized,y="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function w(t,n,o){for(var a=_(t,"particleCount",b),c=_(t,"angle",Number),u=_(t,"spread",Number),h=_(t,"startVelocity",Number),f=_(t,"decay",Number),p=_(t,"gravity",Number),v=_(t,"drift",Number),y=_(t,"colors",S),w=_(t,"ticks",Number),E=_(t,"shapes"),T=_(t,"scalar"),A=!!_(t,"flat"),O=function(e){var t=_(e,"origin",Object);return t.x=_(t,"x",Number),t.y=_(t,"y",Number),t}(t),R=a,I=[],k=e.width*O.x,P=e.height*O.y;R--;)I.push(M({x:k,y:P,angle:c,spread:u,startVelocity:h,color:y[R%y.length],shape:E[x(0,E.length)],ticks:w,decay:f,gravity:p,drift:v,scalar:T,flat:A}));return s?s.addFettis(I):(s=function(e,t,n,o,s){var a,c,u=t.slice(),h=e.getContext("2d"),f=l(function(t){function l(){a=c=null,h.clearRect(0,0,o.width,o.height),m.clear(),s(),t()}a=g.frame(function t(){!r||o.width===i.width&&o.height===i.height||(o.width=e.width=i.width,o.height=e.height=i.height),o.width||o.height||(n(e),o.width=e.width,o.height=e.height),h.clearRect(0,0,o.width,o.height),(u=u.filter(function(e){return C(h,e)})).length?a=g.frame(t):l()}),c=l});return{addFettis:function(e){return u=u.concat(e),f},canvas:e,promise:f,reset:function(){a&&g.cancel(a),c&&c()}}}(e,I,d,n,o),s.promise)}function E(n){var r=h||_(n,"disableForReducedMotion",Boolean),i=_(n,"zIndex",Number);if(r&&y)return l(function(e){e()});a&&s?e=s.canvas:a&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),c&&!p&&d(e);var o={width:e.width,height:e.height};function m(){if(f){var t={getBoundingClientRect:function(){if(!a)return e.getBoundingClientRect()}};return d(t),void f.postMessage({resize:{width:t.width,height:t.height}})}o.width=o.height=null}function g(){s=null,c&&(u=!1,t.removeEventListener("resize",m)),a&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,p=!1)}return f&&!p&&f.init(e),p=!0,f&&(e.__confetti_initialized=!0),c&&!u&&(u=!0,t.addEventListener("resize",m,!1)),f?f.fire(n,o,g):w(n,o,g)}return E.reset=function(){f&&f.reset(),s&&s.reset()},E}function R(){return p||(p=O(null,{useWorker:!0,resize:!0})),p}n.exports=function(){return R().apply(this,arguments)},n.exports.reset=function(){R().reset()},n.exports.create=O,n.exports.shapeFromPath=function(e){if(!s)throw new Error("path confetti are not supported in this browser");var t,n;"string"==typeof e?t=e:(t=e.path,n=e.matrix);var r=new Path2D(t),i=document.createElement("canvas").getContext("2d");if(!n){for(var o,a,l=1e3,c=l,u=l,h=0,f=0,d=0;d<l;d+=2)for(var p=0;p<l;p+=2)i.isPointInPath(r,d,p,"nonzero")&&(c=Math.min(c,d),u=Math.min(u,p),h=Math.max(h,d),f=Math.max(f,p));o=h-c,a=f-u;var m=Math.min(10/o,10/a);n=[m,0,0,m,-Math.round(o/2+c)*m,-Math.round(a/2+u)*m]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,r="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,i="fontFamily"in e?e.fontFamily:i,r="color"in e?e.color:r);var o=10*n,s=o+"px "+i,a=new OffscreenCanvas(o,o),l=a.getContext("2d");l.font=s;var c=l.measureText(t),u=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),h=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),f=c.actualBoundingBoxLeft+2,d=c.actualBoundingBoxAscent+2;u+=4,h+=4,(l=(a=new OffscreenCanvas(u,h)).getContext("2d")).font=s,l.fillStyle=r,l.fillText(t,f,d);var p=1/n;return{type:"bitmap",bitmap:a.transferToImageBitmap(),matrix:[p,0,0,p,-u*p/2,-h*p/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),BW,!1);const zW=BW.exports;BW.exports.create;var VW={version:"0.18.5"},jW=1252,HW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],WW=function(e){-1!=HW.indexOf(e)&&(jW=e)};var GW=function(e){WW(e)};function qW(){GW(1200),WW(1252)}var $W,XW=function(e){return String.fromCharCode(e)},YW=function(e){return String.fromCharCode(e)},KW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ZW(e){for(var t="",n=0,r=0,i=0,o=0,s=0,a=0,l=0,c=0;c<e.length;)o=(n=e.charCodeAt(c++))>>2,s=(3&n)<<4|(r=e.charCodeAt(c++))>>4,a=(15&r)<<2|(i=e.charCodeAt(c++))>>6,l=63&i,isNaN(r)?a=l=64:isNaN(i)&&(l=64),t+=KW.charAt(o)+KW.charAt(s)+KW.charAt(a)+KW.charAt(l);return t}function JW(e){var t="",n=0,r=0,i=0,o=0,s=0,a=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=KW.indexOf(e.charAt(l++))<<2|(o=KW.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&o)<<4|(s=KW.indexOf(e.charAt(l++)))>>2,64!==s&&(t+=String.fromCharCode(r)),i=(3&s)<<6|(a=KW.indexOf(e.charAt(l++))),64!==a&&(t+=String.fromCharCode(i));return t}var QW=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),eG=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(vme){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function tG(e){return QW?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function nG(e){return QW?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var rG=function(e){return QW?eG(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function iG(e){if("undefined"==typeof ArrayBuffer)return rG(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function oG(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var sG=QW?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:eG(e)}))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var aG=/\u0000/g,lG=/[\u0001-\u0006]/g;function cG(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function uG(e,t){var n=""+e;return n.length>=t?n:xq("0",t-n.length)+n}function hG(e,t){var n=""+e;return n.length>=t?n:xq(" ",t-n.length)+n}function fG(e,t){var n=""+e;return n.length>=t?n:n+xq(" ",t-n.length)}var dG=Math.pow(2,32);function pG(e,t){return e>dG||e<-dG?function(e,t){var n=""+Math.round(e);return n.length>=t?n:xq("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:xq("0",t-n.length)+n}(Math.round(e),t)}function mG(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var gG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],vG=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var yG={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},_G={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},bG={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function xG(e,t,n){for(var r=e<0?-1:1,i=e*r,o=0,s=1,a=0,l=1,c=0,u=0,h=Math.floor(i);c<t&&(a=(h=Math.floor(i))*s+o,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),o=s,s=a,l=c,c=u;if(u>t&&(c>t?(u=l,a=o):(u=c,a=s)),!n)return[0,r*a,u];var f=Math.floor(r*a/u);return[f,r*a-f*u,u]}function wG(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),o=0,s=[],a={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(a.u)<1e-6&&(a.u=0),t&&t.date1904&&(r+=1462),a.u>.9999&&(a.u=0,86400==++i&&(a.T=i=0,++r,++a.D)),60===r)s=n?[1317,10,29]:[1900,2,29],o=3;else if(0===r)s=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),r<60&&(o=(o+6)%7),n&&(o=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,s))}return a.y=s[0],a.m=s[1],a.d=s[2],a.S=i%60,i=Math.floor(i/60),a.M=i%60,i=Math.floor(i/60),a.H=i,a.q=o,a}var SG=new Date(1899,11,31,0,0,0),EG=SG.getTime(),TG=new Date(1900,2,1,0,0,0);function AG(e,t){var n=e.getTime();return t?n-=1262304e5:e>=TG&&(n+=864e5),(n-(EG+6e4*(e.getTimezoneOffset()-SG.getTimezoneOffset())))/864e5}function MG(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function CG(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=MG(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=MG(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),MG(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function OG(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):CG(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return KG(14,AG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function RG(e,t,n,r){var i,o="",s=0,a=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,c=t.length;break;case 3:return vG[n.m-1][1];case 5:return vG[n.m-1][0];default:return vG[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,c=t.length;break;case 3:return gG[n.q][0];default:return gG[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(a=r>=2?3===r?1e3:100:1===r?10:1,(s=Math.round(a*(n.S+n.u)))>=60*a&&(s=0),"s"===t?0===s?"0":""+s/a:(o=uG(s,2+r),"ss"===t?o.substr(0,2):"."+o.substr(2,t.length-1))):uG(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:i=l,c=1}return c>0?uG(i,c):""}function IG(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var kG=/%/g;function PG(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+PG(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),-1===(n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).indexOf("e")){var s=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+o):n+="E+"+(s-o);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var NG=/# (\?+)( ?)\/( ?)(\d+)/;var DG=/^#*0*\.([0#]+)/,LG=/\).*[0#]/,FG=/\(###\) ###\\?-####/;function UG(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function BG(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function zG(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function VG(e,t,n){if(40===e.charCodeAt(0)&&!t.match(LG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?VG("n",r,n):"("+VG("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return WG(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(kG,""),i=t.length-r.length;return WG(e,r,n*Math.pow(10,2*i))+xq("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return PG(t,n);if(36===t.charCodeAt(0))return"$"+VG(e,t.substr(" "==t.charAt(1)?2:1),n);var i,o,s,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+pG(l,t.length);if(t.match(/^[#?]+$/))return"0"===(i=pG(n,0))&&(i=""),i.length>t.length?i:UG(t.substr(0,t.length-i.length))+i;if(o=t.match(NG))return function(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),o=Math.floor(i/r),s=i-o*r,a=r;return n+(0===o?"":""+o)+" "+(0===s?xq(" ",e[1].length+1+e[4].length):hG(s,e[1].length)+e[2]+"/"+e[3]+uG(a,e[4].length))}(o,l,c);if(t.match(/^#+0+$/))return c+pG(l,t.length-t.indexOf("0"));if(o=t.match(DG))return i=BG(n,o[1].length).replace(/^([^\.]+)$/,"$1."+UG(o[1])).replace(/\.$/,"."+UG(o[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+xq("0",UG(o[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+BG(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+IG(pG(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+VG(e,t,-n):IG(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,o[1].length)))+"."+uG(zG(n,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return VG(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cG(VG(e,t.replace(/[\\-]/g,""),n)),s=0,cG(cG(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return s<i.length?i.charAt(s++):"0"===e?"0":""}));if(t.match(FG))return"("+(i=VG(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=xG(l,Math.pow(10,s)-1,!1),i=""+c," "==(u=WG("n",o[1],a[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=fG(a[2],s)).length<o[4].length&&(u=UG(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),c+((a=xG(l,Math.pow(10,s)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?hG(a[1],s)+o[2]+"/"+o[3]+fG(a[2],s):xq(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=pG(n,0),t.length<=i.length?i:UG(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,f=t.length-i.length-h;return UG(t.substr(0,h)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return s=zG(n,o[1].length),n<0?"-"+VG(e,t,-n):IG(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?uG(0,3-e.length):"")+e})+"."+uG(s,o[1].length);switch(t){case"###,##0.00":return VG(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var d=IG(pG(l,0));return"0"!==d?c+d:"";case"###,###.00":return VG(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return VG(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function jG(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+jG(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),!(n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+o):n+="E+"+(s-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function HG(e,t,n){if(40===e.charCodeAt(0)&&!t.match(LG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?HG("n",r,n):"("+HG("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return WG(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(kG,""),i=t.length-r.length;return WG(e,r,n*Math.pow(10,2*i))+xq("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return jG(t,n);if(36===t.charCodeAt(0))return"$"+HG(e,t.substr(" "==t.charAt(1)?2:1),n);var i,o,s,a,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+uG(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:UG(t.substr(0,t.length-i.length))+i;if(o=t.match(NG))return function(e,t,n){return n+(0===t?"":""+t)+xq(" ",e[1].length+2+e[4].length)}(o,l,c);if(t.match(/^#+0+$/))return c+uG(l,t.length-t.indexOf("0"));if(o=t.match(DG))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+UG(o[1])).replace(/\.$/,"."+UG(o[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+xq("0",UG(o[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+IG(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+HG(e,t,-n):IG(""+n)+"."+xq("0",o[1].length);if(o=t.match(/^#,#*,#0/))return HG(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cG(HG(e,t.replace(/[\\-]/g,""),n)),s=0,cG(cG(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return s<i.length?i.charAt(s++):"0"===e?"0":""}));if(t.match(FG))return"("+(i=HG(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(o[4].length,7),a=xG(l,Math.pow(10,s)-1,!1),i=""+c," "==(u=WG("n",o[1],a[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=fG(a[2],s)).length<o[4].length&&(u=UG(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(o[1].length,o[4].length),7),c+((a=xG(l,Math.pow(10,s)-1,!0))[0]||(a[1]?"":"0"))+" "+(a[1]?hG(a[1],s)+o[2]+"/"+o[3]+fG(a[2],s):xq(" ",2*s+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:UG(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var h=t.indexOf(".")-s,f=t.length-i.length-h;return UG(t.substr(0,h)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+HG(e,t,-n):IG(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?uG(0,3-e.length):"")+e})+"."+uG(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=IG(""+l);return"0"!==d?c+d:"";default:if(t.match(/\.[0#?]*$/))return HG(e,t.slice(0,t.lastIndexOf(".")),n)+UG(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function WG(e,t,n){return(0|n)===n?HG(e,t,n):VG(e,t,n)}var GG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function qG(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":mG(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(GG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var $G=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function XG(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function YG(e,t){var n=function(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var o=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,o];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var s=n[0].match($G),a=n[1].match($G);return XG(t,s)?[r,n[0]]:XG(t,a)?[r,n[1]]:[r,n[null!=s&&null!=a?2:1]]}return[r,o]}function KG(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:yG)[e])&&(r=n.table&&n.table[_G[e]]||yG[_G[e]]),null==r&&(r=bG[e]||"General")}if(mG(r,0))return OG(t,n);t instanceof Date&&(t=AG(t,n.date1904));var i=YG(r,t);if(mG(i[1]))return OG(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var i,o,s,a=[],l="",c=0,u="",h="t",f="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!mG(e,c))throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(s=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(s);a[a.length]={t:"t",v:l},++c;break;case"\\":var d=e.charAt(++c),p="("===d||")"===d?d:"t";a[a.length]={t:p,v:d},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&null==(i=wG(t,n,"2"===e.charAt(c+1))))return"";a[a.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=wG(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=f),a[a.length]={t:u,v:l},h=u;break;case"A":case"a":case"":var m={t:u,v:u};if(null==i&&(i=wG(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",f="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",c+=5,f="h"):"/"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"":""),m.t="T",c+=5,f="h"):(m.t="t",++c),null==i&&"T"===m.t)return"";a[a.length]=m,h=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(GG)){if(null==i&&null==(i=wG(t,n)))return"";a[a.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",qG(e)||(a[a.length]={t:"t",v:l}));break;case".":if(null!=i){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;a[a.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;a[a.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;a[a.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":a[a.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);a[a.length]={t:"D",v:l};break;case" ":a[a.length]={t:u,v:u},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=a.length-1,h="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=f,h="h",v<1&&(v=1);break;case"s":(g=a[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=a[c].t;break;case"m":"s"===h&&(a[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[c].v.match(/[Hh]/)&&(v=1),v<2&&a[c].v.match(/[Mm]/)&&(v=2),v<3&&a[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var _,b="";for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=RG(a[c].t.charCodeAt(0),a[c].v,i,y),a[c].t="t";break;case"n":case"?":for(_=c+1;null!=a[_]&&("?"===(u=a[_].t)||"D"===u||(" "===u||"t"===u)&&null!=a[_+1]&&("?"===a[_+1].t||"t"===a[_+1].t&&"/"===a[_+1].v)||"("===a[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===a[_].v||" "===a[_].v&&null!=a[_+1]&&"?"==a[_+1].t));)a[c].v+=a[_].v,a[_]={v:"",t:";"},++_;b+=a[c].v,c=_-1;break;case"G":a[c].t="t",a[c].v=OG(t,n)}var x,w,S="";if(b.length>0){40==b.charCodeAt(0)?(x=t<0&&45===b.charCodeAt(0)?-t:t,w=WG("n",b,x)):(w=WG("n",b,x=t<0&&r>1?-t:t),x<0&&a[0]&&"t"==a[0].t&&(w=w.substr(1),a[0].v="-"+a[0].v)),_=w.length-1;var E=a.length;for(c=0;c<a.length;++c)if(null!=a[c]&&"t"!=a[c].t&&a[c].v.indexOf(".")>-1){E=c;break}var T=a.length;if(E===a.length&&-1===w.indexOf("E")){for(c=a.length-1;c>=0;--c)null!=a[c]&&-1!=="n?".indexOf(a[c].t)&&(_>=a[c].v.length-1?(_-=a[c].v.length,a[c].v=w.substr(_+1,a[c].v.length)):_<0?a[c].v="":(a[c].v=w.substr(0,_+1),_=-1),a[c].t="t",T=c);_>=0&&T<a.length&&(a[T].v=w.substr(0,_+1)+a[T].v)}else if(E!==a.length&&-1===w.indexOf("E")){for(_=w.indexOf(".")-1,c=E;c>=0;--c)if(null!=a[c]&&-1!=="n?".indexOf(a[c].t)){for(o=a[c].v.indexOf(".")>-1&&c===E?a[c].v.indexOf(".")-1:a[c].v.length-1,S=a[c].v.substr(o+1);o>=0;--o)_>=0&&("0"===a[c].v.charAt(o)||"#"===a[c].v.charAt(o))&&(S=w.charAt(_--)+S);a[c].v=S,a[c].t="t",T=c}for(_>=0&&T<a.length&&(a[T].v=w.substr(0,_+1)+a[T].v),_=w.indexOf(".")+1,c=E;c<a.length;++c)if(null!=a[c]&&(-1!=="n?(".indexOf(a[c].t)||c===E)){for(o=a[c].v.indexOf(".")>-1&&c===E?a[c].v.indexOf(".")+1:0,S=a[c].v.substr(0,o);o<a[c].v.length;++o)_<w.length&&(S+=w.charAt(_++));a[c].v=S,a[c].t="t",T=c}}}for(c=0;c<a.length;++c)null!=a[c]&&"n?".indexOf(a[c].t)>-1&&(x=r>1&&t<0&&c>0&&"-"===a[c-1].v?-t:t,a[c].v=WG(a[c].t,a[c].v,x),a[c].t="t");var A="";for(c=0;c!==a.length;++c)null!=a[c]&&(A+=a[c].v);return A}(i[1],t,n,i[0])}function ZG(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=yG[n]){if(yG[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return yG[t]=e,t}function JG(e){for(var t=0;392!=t;++t)void 0!==e[t]&&ZG(e[t],t)}function QG(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',yG=e}var eq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var tq=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var o=[];for(r=1;16!=r;++r)o[r-1]="undefined"!=typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return o}(t),r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=0,o=e.length;i<o;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=-1^n,_=e.length-15,b=0;b<_;)y=v[e[b++]^255&y]^g[e[b++]^y>>8&255]^m[e[b++]^y>>16&255]^p[e[b++]^y>>>24]^d[e[b++]]^f[e[b++]]^h[e[b++]]^u[e[b++]]^c[e[b++]]^l[e[b++]]^a[e[b++]]^s[e[b++]]^o[e[b++]]^i[e[b++]]^r[e[b++]]^t[e[b++]];for(_+=15;b<_;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,n){for(var r=-1^n,i=0,o=e.length,s=0,a=0;i<o;)(s=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^s)]:s<2048?r=(r=r>>>8^t[255&(r^(192|s>>6&31))])>>>8^t[255&(r^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),a=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|s>>8&7))])>>>8^t[255&(r^(128|s>>2&63))])>>>8^t[255&(r^(128|a>>6&15|(3&s)<<4))])>>>8^t[255&(r^(128|63&a))]):r=(r=(r=r>>>8^t[255&(r^(224|s>>12&15))])>>>8^t[255&(r^(128|s>>6&63))])>>>8^t[255&(r^(128|63&s))];return~r},e}(),nq=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"==typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function o(e){$$(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),o=e.l+i,s={};if(21589===r)1&(n=e.read_shift(1))&&(s.mtime=e.read_shift(4)),i>5&&(2&n&&(s.atime=e.read_shift(4)),4&n&&(s.ctime=e.read_shift(4))),s.mtime&&(s.mt=new Date(1e3*s.mtime));e.l=o,t[r]=s}return t}function s(){return e||(e={})}function a(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=w(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(QW&&Buffer.isBuffer(e)?e.toString("binary"):w(e)).split("\r\n"),i=0,o="";for(i=0;i<r.length;++i)if(o=r[i],/^Content-Location:/i.test(o)&&(o=o.slice(o.indexOf("file")),n||(n=o.slice(0,o.lastIndexOf("/")+1)),o.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),o.slice(0,n.length)!=n););var s=(r[1]||"").match(/boundary="(.*?)"/);if(!s)throw new Error("MAD cannot find boundary");var a="--"+(s[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};f(u);var h,d=0;for(i=0;i<r.length;++i){var p=r[i];p!==a&&p!==a+"--"||(d++&&ce(u,r.slice(h,i),n),h=i)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,i,o,s,a,d=512,p=[],m=e.slice(0,512);$$(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:d=512;break;case 4:d=4096;break;case 0:if(0==g[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==d&&$$(m=e.slice(0,d),28);var _=e.slice(0,d);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var b=m.read_shift(4,"i");if(3===n&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);m.l+=4,o=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),s=m.read_shift(4,"i"),r=m.read_shift(4,"i"),a=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var x=-1,S=0;S<109&&!((x=m.read_shift(4,"i"))<0);++S)p[S]=x;var E=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}(e,d);c(a,i,E,d,p);var T=function(e,t,n,r){var i=e.length,o=[],s=[],a=[],l=[],c=r-1,u=0,h=0,f=0,d=0;for(u=0;u<i;++u)if(a=[],(f=u+t)>=i&&(f-=i),!s[f]){l=[];var p=[];for(h=f;h>=0;){p[h]=!0,s[h]=!0,a[a.length]=h,l.push(e[h]);var m=n[Math.floor(4*h/r)];if(r<4+(d=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[m])break;if(p[h=B$(e[m],d)])break}o[f]={nodes:a,data:m$([l])}}return o}(E,o,p,d);T[o].name="!Directory",r>0&&s!==v&&(T[s].name="!MiniFAT"),T[p[0]].name="!FAT",T.fat_addrs=p,T.ssz=d;var A=[],M=[],C=[];!function(e,t,n,r,i,o,s,a){for(var c,f=0,d=r.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);$$(y,64),g=y.read_shift(2),c=v$(y,0,g-d),r.push(c);var _={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(_.ct=h(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(_.mt=h(y,y.l-8)),_.start=y.read_shift(4,"i"),_.size=y.read_shift(4,"i"),_.size<0&&_.start<0&&(_.size=_.type=0,_.start=v,_.name=""),5===_.type?(f=_.start,i>0&&f!==v&&(t[f].name="!StreamData")):_.size>=4096?(_.storage="fat",void 0===t[_.start]&&(t[_.start]=u(n,_.start,t.fat_addrs,t.ssz)),t[_.start].name=_.name,_.content=t[_.start].data.slice(0,_.size)):(_.storage="minifat",_.size<0?_.size=0:f!==v&&_.start!==v&&t[f]&&(_.content=l(_,t[f].data,(t[a]||{}).data))),_.content&&$$(_.content,0),o[c]=_,s.push(_)}}(o,T,E,A,r,{},M,s),function(e,t,n){for(var r=0,i=0,o=0,s=0,a=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;a<u.length;++a)i=e[r=u[a]].L,o=e[r].R,s=e[r].C,c[r]===r&&(-1!==i&&c[i]!==i&&(c[r]=c[i]),-1!==o&&c[o]!==o&&(c[r]=c[o])),-1!==s&&(c[s]=r),-1!==i&&r!=c[r]&&(c[i]=c[r],u.lastIndexOf(i)<a&&u.push(i)),-1!==o&&r!=c[r]&&(c[o]=c[r],u.lastIndexOf(o)<a&&u.push(o));for(r=1;r<l;++r)c[r]===r&&(-1!==o&&c[o]!==o?c[r]=c[o]:-1!==i&&c[i]!==i&&(c[r]=c[i]));for(r=1;r<l;++r)if(0!==e[r].type){if((a=r)!=c[a])do{a=c[a],t[r]=t[a]+"/"+t[r]}while(0!==a&&-1!==c[a]&&a!=c[a]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(M,C,A),A.shift();var O={FileIndex:M,FullPaths:C};return t&&t.raw&&(O.raw={header:_,sectors:E}),O}function l(e,t,n){for(var r=e.start,i=e.size,o=[],s=r;n&&i>0&&s>=0;)o.push(t.slice(s*g,s*g+g)),i-=g,s=B$(n,4*s);return 0===o.length?Y$(0):sG(o).slice(0,e.size)}function c(e,t,n,r,i){var o=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var s=n[e],a=(r>>>2)-1;if(!s)return;for(var l=0;l<a&&(o=B$(s,4*l))!==v;++l)i.push(o);c(B$(s,r-4),t-1,n,r,i)}}function u(e,t,n,r,i){var o=[],s=[];i||(i=[]);var a=r-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,o[o.length]=l,s.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&a))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=B$(e[u],c)}return{nodes:o,data:m$([s])}}function h(e,t){return new Date(1e3*(U$(e,t+4)/1e7*Math.pow(2,32)+U$(e,t)/1e7-11644473600))}function f(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="Sh33tJ5";if(nq.find(e,"/"+t))return;var n=Y$(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),d(e)}(e)}function d(e,t){f(e);for(var i=!1,o=!1,s=e.FullPaths.length-1;s>=0;--s){var a=e.FileIndex[s];switch(a.type){case 0:o?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:o=!0,isNaN(a.R*a.L*a.C)&&(i=!0),a.R>-1&&a.L>-1&&a.R==a.L&&(i=!0);break;default:i=!0}}if(i||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(s=0;s<e.FullPaths.length;++s)u[e.FullPaths[s]]=!0,0!==e.FileIndex[s].type&&h.push([e.FullPaths[s],e.FileIndex[s]]);for(s=0;s<h.length;++s){var d=n(h[s][0]);(o=u[d])||(h.push([d,{name:r(d).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),u[d]=!0)}for(h.sort(function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,o=0,s=Math.min(n.length,r.length);i<s;++i){if(o=n[i].length-r[i].length)return o;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],s=0;s<h.length;++s)e.FullPaths[s]=h[s][0],e.FileIndex[s]=h[s][1];for(s=0;s<h.length;++s){var p=e.FileIndex[s],m=e.FullPaths[s];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||b,0===s)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=s+1;c<h.length&&n(e.FullPaths[c])!=m;++c);for(p.C=c>=h.length?-1:c,c=s+1;c<h.length&&n(e.FullPaths[c])!=n(m);++c);p.R=c>=h.length?-1:c,p.type=1}else n(e.FullPaths[s+1]||"")==n(m)&&(p.R=s+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],o=e.FullPaths[0],s=o,a=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(s=e.FullPaths[l].slice(o.length),(a=e.FileIndex[l]).size&&a.content&&"Sh33tJ5"!=s){s=s.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=a.content,u=QW&&Buffer.isBuffer(c)?c.toString("binary"):w(c),h=0,f=Math.min(1024,u.length),d=0,p=0;p<=f;++p)(d=u.charCodeAt(p))>=32&&d<128&&++h;var m=h>=4*f/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+s),i.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),i.push("Content-Type: "+se(a,s)),i.push(""),i.push(m?le(u):ae(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(e,n);if(d(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],o=[],s=Y$(1),a=n.compression?8:0,l=0,c=0,u=0,h=0,f=0,d=e.FullPaths[0],p=d,m=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(d.length),(m=e.FileIndex[c]).size&&m.content&&"Sh33tJ5"!=p){var y=h,_=Y$(p.length);for(u=0;u<p.length;++u)_.write_shift(1,127&p.charCodeAt(u));_=_.slice(0,_.l),g[f]=tq.buf(m.content,0);var b=m.content;8==a&&(b=S(b)),(s=Y$(30)).write_shift(4,67324752),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,a),m.mt?i(s,m.mt):s.write_shift(4,0),s.write_shift(-4,g[f]),s.write_shift(4,b.length),s.write_shift(4,m.content.length),s.write_shift(2,_.length),s.write_shift(2,0),h+=s.length,r.push(s),h+=_.length,r.push(_),h+=b.length,r.push(b),(s=Y$(46)).write_shift(4,33639248),s.write_shift(2,0),s.write_shift(2,20),s.write_shift(2,l),s.write_shift(2,a),s.write_shift(4,0),s.write_shift(-4,g[f]),s.write_shift(4,b.length),s.write_shift(4,m.content.length),s.write_shift(2,_.length),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(4,0),s.write_shift(4,y),v+=s.l,o.push(s),v+=_.length,o.push(_),++f}return s=Y$(22),s.write_shift(4,101010256),s.write_shift(2,0),s.write_shift(2,0),s.write_shift(2,f),s.write_shift(2,f),s.write_shift(4,v),s.write_shift(4,h),s.write_shift(2,0),sG([sG(r),sG(o),s])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var o=i.content.length;o>0&&(o<4096?t+=o+63>>6:n+=o+511>>9)}}for(var s=e.FullPaths.length+3>>2,a=t+127>>7,l=(t+7>>3)+n+s+a,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,a,s,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),o=Y$(r[7]<<9),s=0,a=0;for(s=0;s<8;++s)o.write_shift(1,_[s]);for(s=0;s<8;++s)o.write_shift(2,0);for(o.write_shift(2,62),o.write_shift(2,3),o.write_shift(2,65534),o.write_shift(2,9),o.write_shift(2,6),s=0;s<3;++s)o.write_shift(2,0);for(o.write_shift(4,0),o.write_shift(4,r[2]),o.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),o.write_shift(4,0),o.write_shift(4,4096),o.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),o.write_shift(4,r[3]),o.write_shift(-4,r[1]?r[0]-1:v),o.write_shift(4,r[1]),s=0;s<109;++s)o.write_shift(-4,s<r[2]?r[1]+s:-1);if(r[1])for(a=0;a<r[1];++a){for(;s<236+127*a;++s)o.write_shift(-4,s<r[2]?r[1]+s:-1);o.write_shift(-4,a===r[1]-1?v:a+1)}var l=function(e){for(a+=e;s<a-1;++s)o.write_shift(-4,s+1);e&&(++s,o.write_shift(-4,v))};for(a=s=0,a+=r[1];s<a;++s)o.write_shift(-4,x.DIFSECT);for(a+=r[2];s<a;++s)o.write_shift(-4,x.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,h=e.FileIndex[0];c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=a,l(u+511>>9)));for(l(r[6]+7>>3);511&o.l;)o.write_shift(-4,x.ENDOFCHAIN);for(a=s=0,c=0;c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=a,l(u+63>>6)));for(;511&o.l;)o.write_shift(-4,x.ENDOFCHAIN);for(s=0;s<r[4]<<2;++s){var f=e.FullPaths[s];if(f&&0!==f.length){h=e.FileIndex[s],0===s&&(h.start=h.size?h.start-1:v);var p=0===s&&n.root||h.name;if(u=2*(p.length+1),o.write_shift(64,p,"utf16le"),o.write_shift(2,u),o.write_shift(1,h.type),o.write_shift(1,h.color),o.write_shift(-4,h.L),o.write_shift(-4,h.R),o.write_shift(-4,h.C),h.clsid)o.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)o.write_shift(4,0);o.write_shift(4,h.state||0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,h.start),o.write_shift(4,h.size),o.write_shift(4,0)}else{for(c=0;c<17;++c)o.write_shift(4,0);for(c=0;c<3;++c)o.write_shift(4,-1);for(c=0;c<12;++c)o.write_shift(4,0)}}for(s=1;s<e.FileIndex.length;++s)if((h=e.FileIndex[s]).size>=4096)if(o.l=h.start+1<<9,QW&&Buffer.isBuffer(h.content))h.content.copy(o,o.l,0,h.size),o.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)o.write_shift(1,h.content[c]);for(;511&c;++c)o.write_shift(1,0)}for(s=1;s<e.FileIndex.length;++s)if((h=e.FileIndex[s]).size>0&&h.size<4096)if(QW&&Buffer.isBuffer(h.content))h.content.copy(o,o.l,0,h.size),o.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)o.write_shift(1,h.content[c]);for(;63&c;++c)o.write_shift(1,0)}if(QW)o.l=o.length;else for(;o.l<o.length;)o.write_shift(1,0);return o}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",_=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",x={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function w(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S(e){return m?m.deflateRawSync(e):X(e)}var E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function M(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var C="undefined"!=typeof Uint8Array,O=C?new Uint8Array(256):[],R=0;R<256;++R)O[R]=M(R);function I(e,t){var n=O[255&e];return t<=8?n>>>8-t:(n=n<<8|O[e>>8&255],t<=16?n>>>16-t:(n=n<<8|O[e>>16&255])>>>24-t)}function k(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function N(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function L(e,t,n){var r=7&t,i=t>>>3,o=(1<<n)-1,s=e[i]>>>r;return n<8-r?s&o:(s|=e[i+1]<<8-r,n<16-r?s&o:(s|=e[i+2]<<16-r,n<24-r?s&o:(s|=e[i+3]<<24-r)&o))}function F(e,t,n){var r=7&t,i=t>>>3;return r<=5?e[i]|=(7&n)<<r:(e[i]|=n<<r&255,e[i+1]=(7&n)>>8-r),t+3}function U(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function z(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function V(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(QW){var o=nG(r);if(e.copy)e.copy(o);else for(;i<e.length;++i)o[i]=e[i];return o}if(C){var s=new Uint8Array(r);if(s.set)s.set(e);else for(;i<n;++i)s[i]=e[i];return s}return e.length=r,e}function j(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function H(e,t,n){var r=1,i=0,o=0,s=0,a=0,l=e.length,c=C?new Uint16Array(32):j(32);for(o=0;o<32;++o)c[o]=0;for(o=l;o<n;++o)e[o]=0;l=e.length;var u=C?new Uint16Array(l):j(l);for(o=0;o<l;++o)c[i=e[o]]++,r<i&&(r=i),u[o]=0;for(c[0]=0,o=1;o<=r;++o)c[o+16]=a=a+c[o-1]<<1;for(o=0;o<l;++o)0!=(a=e[o])&&(u[o]=c[a+16]++);var h=0;for(o=0;o<l;++o)if(0!=(h=e[o]))for(a=I(u[o],r)>>r-h,s=(1<<r+4-h)-1;s>=0;--s)t[a|s<<h]=15&h|o<<4;return r}var W=C?new Uint16Array(512):j(512),G=C?new Uint16Array(32):j(32);if(!C){for(var q=0;q<512;++q)W[q]=0;for(q=0;q<32;++q)G[q]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);H(e,G,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);H(n,W,288)}();var $=function(){for(var e=C?new Uint8Array(32768):[],t=0,n=0;t<A.length-1;++t)for(;n<A[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=C?new Uint8Array(259):[];for(t=0,n=0;t<T.length-1;++t)for(;n<T[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var i=0,o=0,s=C?new Uint16Array(32768):[];o<t.length;){var a=Math.min(65535,t.length-o);if(a<10){for(7&(i=F(n,i,+!(o+a!=t.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,a),n.write_shift(2,65535&~a);a-- >0;)n[n.l++]=t[o++];i=8*n.l}else{i=F(n,i,+!(o+a!=t.length)+2);for(var l=0;a-- >0;){var c=t[o],u=-1,h=0;if((u=s[l=32767&(l<<5^c)])&&((u|=-32768&o)>o&&(u-=32768),u<o))for(;t[u+h]==t[o+h]&&h<250;)++h;if(h>2){(c=r[h])<=22?i=B(n,i,O[c+1]>>1)-1:(B(n,i,3),B(n,i+=5,O[c-23]>>5),i+=3);var f=c<8?0:c-4>>2;f>0&&(z(n,i,h-T[c]),i+=f),c=e[o-u],i=B(n,i,O[c]>>3),i-=3;var d=c<4?0:c-2>>1;d>0&&(z(n,i,o-u-A[c]),i+=d);for(var p=0;p<h;++p)s[l]=32767&o,l=32767&(l<<5^t[o]),++o;a-=h-1}else c<=143?c+=48:i=U(n,i,1),i=B(n,i,O[c]),s[l]=32767&o,++o}i=B(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(t,n)}}();function X(e){var t=Y$(50+Math.floor(1.1*e.length)),n=$(e,t);return t.slice(0,n)}var Y=C?new Uint16Array(32768):j(32768),K=C?new Uint16Array(32768):j(32768),Z=C?new Uint16Array(128):j(128),J=1,Q=1;function ee(e,t){var n=N(e,t)+257,r=N(e,t+=5)+1,i=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var o=0,s=C?new Uint8Array(19):j(19),a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=C?new Uint8Array(8):j(8),u=C?new Uint8Array(8):j(8),h=s.length,f=0;f<i;++f)s[E[f]]=o=P(e,t),l<o&&(l=o),c[o]++,t+=3;var d=0;for(c[0]=0,f=1;f<=l;++f)u[f]=d=d+c[f-1]<<1;for(f=0;f<h;++f)0!=(d=s[f])&&(a[f]=u[d]++);var p=0;for(f=0;f<h;++f)if(0!=(p=s[f])){d=O[a[f]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)Z[d|m<<p]=7&p|f<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(d=Z[D(e,t)]),d>>>=3){case 16:for(o=3+k(e,t),t+=2,d=g[g.length-1];o-- >0;)g.push(d);break;case 17:for(o=3+P(e,t),t+=3;o-- >0;)g.push(0);break;case 18:for(o=11+D(e,t),t+=7;o-- >0;)g.push(0);break;default:g.push(d),l<d&&(l=d)}var v=g.slice(0,n),y=g.slice(n);for(f=n;f<286;++f)v[f]=0;for(f=r;f<30;++f)y[f]=0;return J=H(v,Y,286),Q=H(y,K,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[tG(t),2];for(var n=0,r=0,i=nG(t||1<<18),o=0,s=i.length>>>0,a=0,l=0;!(1&r);)if(r=P(e,n),n+=3,r>>>1!=0)for(r>>1==1?(a=9,l=5):(n=ee(e,n),a=J,l=Q);;){!t&&s<o+32767&&(s=(i=V(i,o+32767)).length);var c=L(e,n,a),u=r>>>1==1?W[c]:Y[c];if(n+=15&u,(u>>>=4)>>>8&255){if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var f=o+T[u];h>0&&(f+=L(e,n,h),n+=h),c=L(e,n,l),n+=15&(u=r>>>1==1?G[c]:K[c]);var d=(u>>>=4)<4?0:u-2>>1,p=A[u];for(d>0&&(p+=L(e,n,d),n+=d),!t&&s<f&&(s=(i=V(i,f+100)).length);o<f;)i[o]=i[o-p],++o}else i[o++]=u}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,m>0)for(!t&&s<o+m&&(s=(i=V(i,o+m)).length);m-- >0;)i[o++]=e[n>>>3],n+=8}return t?[i,n+7>>>3]:[i.slice(0,o),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t)}function re(e,t){var n=e;$$(n,0);var r={FileIndex:[],FullPaths:[]};f(r,{root:t.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var s=n.read_shift(2);n.l+=6;var a=n.read_shift(4);for(n.l=a,i=0;i<s;++i){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),d=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=o(n.slice(n.l+u,n.l+u+h));n.l+=u+h+d;var g=n.l;n.l=p+4,ie(n,l,c,r,m),n.l=g}return r}function ie(e,t,n,r,i){e.l+=2;var s=e.read_shift(2),a=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n,o=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(o-1),r.setDate(i);var s=31&t,a=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(a),r.setSeconds(s<<1),r}(e);if(8257&s)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),f=e.read_shift(2),d="",p=0;p<h;++p)d+=String.fromCharCode(e[e.l++]);if(f){var g=o(e.slice(e.l,e.l+f));(g[21589]||{}).mt&&(l=g[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}e.l+=f;var v=e.slice(e.l,e.l+c);switch(a){case 8:v=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+a)}var y=!1;8&s&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&ne(y,"Bad compressed size: "+t+" != "+c),u!=n&&ne(y,"Bad uncompressed size: "+n+" != "+u),ue(r,d,v,{unsafe:!0,mt:l})}var oe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function se(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&oe[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&oe[r[1]]?oe[r[1]]:"application/octet-stream"}function ae(e){for(var t=ZW(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var o=r[i];if(0!=o.length)for(var s=0;s<o.length;){var a=76,l=o.slice(s,s+a);"="==l.charAt(a-1)?a--:"="==l.charAt(a-2)?a-=2:"="==l.charAt(a-3)&&(a-=3),l=o.slice(s,s+a),(s+=a)<o.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,i="",o="",s="",a=0;a<10;++a){var l=t[a];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":s=c[2].trim();break;case"content-transfer-encoding":o=c[2].trim()}}switch(++a,o.toLowerCase()){case"base64":r=rG(JW(t.slice(a).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return rG(t.join("\r\n"))}(t.slice(a));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+o)}var u=ue(e,i.slice(n.length),r,{unsafe:!0});s&&(u.ctype=s)}function ue(e,t,n,i){var o=i&&i.unsafe;o||f(e);var s=!o&&nq.find(e,t);if(!s){var a=e.FullPaths[0];t.slice(0,a.length)==a?a=t:("/"!=a.slice(-1)&&(a+="/"),a=(a+t).replace("//","/")),s={name:r(t),type:2},e.FileIndex.push(s),e.FullPaths.push(a),o||nq.utils.cfb_gc(e)}return s.content=n,s.size=n?n.length:0,i&&(i.CLSID&&(s.clsid=i.CLSID),i.mt&&(s.mt=i.mt),i.ct&&(s.ct=i.ct)),s}return t.find=function(e,t){var n=e.FullPaths.map(function(e){return e.toUpperCase()}),r=n.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var o=t.toUpperCase(),s=!0===i?n.indexOf(o):r.indexOf(o);if(-1!==s)return e.FileIndex[s];var a=!o.match(lG);for(o=o.replace(aG,""),a&&(o=o.replace(lG,"!")),s=0;s<n.length;++s){if((a?n[s].replace(lG,"!"):n[s]).replace(aG,"")==o)return e.FileIndex[s];if((a?r[s].replace(lG,"!"):r[s]).replace(aG,"")==o)return e.FileIndex[s]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||QW&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return s(),a(e.readFileSync(t),n)}(t,n);case"base64":return a(rG(JW(t)),n);case"binary":return a(rG(t),n)}return a(t,n)},t.parse=a,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return s(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:w(r);case"base64":return ZW("string"==typeof r?r:w(r));case"buffer":if(QW)return Buffer.isBuffer(r)?r:eG(r);case"array":return"string"==typeof r?rG(r):r}return r},t.writeFile=function(t,n,r){s();var i=p(t,r);e.writeFileSync(n,i)},t.utils={cfb_new:function(e){var t={};return f(t,e),t},cfb_add:ue,cfb_del:function(e,t){f(e);var n=nq.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){f(e);var i=nq.find(e,t);if(i)for(var o=0;o<e.FileIndex.length;++o)if(e.FileIndex[o]==i)return e.FileIndex[o].name=r(n),e.FullPaths[o]=n,!0;return!1},cfb_gc:function(e){d(e,!0)},ReadShift:V$,CheckField:q$,prep_blob:$$,bconcat:sG,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(vme){}},_deflateRaw:X,_inflateRaw:te,consts:x},t}();function rq(e){return"string"==typeof e?iG(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function iq(e,t,n){if("undefined"!=typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=iG(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?zq(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!=typeof Blob){var i=new Blob([rq(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!=typeof saveAs)return saveAs(i,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var s=document.createElement("a");if(null!=s.download)return s.download=e,s.href=o,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var a=File(e);return a.open("w"),a.encoding="binary",Array.isArray(t)&&(t=oG(t)),a.write(t),a.close(),t}catch(vme){if(!vme.message||!vme.message.match(/onstruct/))throw vme}throw new Error("cannot save file "+e)}function oq(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function sq(e,t){for(var n=[],r=oq(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function aq(e){for(var t=[],n=oq(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function lq(e){for(var t=[],n=oq(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var cq=new Date(1899,11,30,0,0,0);function uq(e,t){return(e.getTime()-(cq.getTime()+6e4*(e.getTimezoneOffset()-cq.getTimezoneOffset())))/864e5}var hq=new Date,fq=cq.getTime()+6e4*(hq.getTimezoneOffset()-cq.getTimezoneOffset()),dq=hq.getTimezoneOffset();function pq(e){var t=new Date;return t.setTime(24*e*60*60*1e3+fq),t.getTimezoneOffset()!==dq&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-dq)),t}var mq=new Date("2017-02-19T19:06:09.000Z"),gq=isNaN(mq.getFullYear())?new Date("2/19/17"):mq,vq=2017==gq.getFullYear();function yq(e,t){var n=new Date(e);if(vq)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==gq.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)),o}function _q(e,t){if(QW&&Buffer.isBuffer(e))return e.toString("binary");if("undefined"!=typeof TextDecoder)try{var n={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(e){return n[e]||e})}catch(vme){}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function bq(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=bq(e[n]));return t}function xq(e,t){for(var n="";n.length<t;)n+=e;return n}function wq(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),isNaN(t=Number(r))?t:t/n):t/n}var Sq=["january","february","march","april","may","june","july","august","september","october","november","december"];function Eq(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),o=t.getDate();if(isNaN(o))return n;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Sq.indexOf(s))return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||o>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function Tq(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=QW?eG(n):function(e){for(var t=[],n=0,r=e.length+250,i=tG(e.length+255),o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|63&s;else if(s>=55296&&s<57344){s=64+(1023&s);var a=1023&e.charCodeAt(++o);i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|a>>6&15|(3&s)<<4,i[n++]=128|63&a}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|63&s;n>r&&(t.push(i.slice(0,n)),n=0,i=tG(65535),r=65530)}return t.push(i.slice(0,n)),sG(t)}(n),nq.utils.cfb_add(e,t,r);nq.utils.cfb_add(e,t,n)}else e.file(t,n)}function Aq(){return nq.utils.cfb_new()}var Mq='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Cq=aq({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),Oq=/[&<>'"]/g,Rq=/[\u0000-\u0008\u000b-\u001f]/g;function Iq(e){return(e+"").replace(Oq,function(e){return Cq[e]}).replace(Rq,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function kq(e){return Iq(e).replace(/ /g,"_x0020_")}var Pq=/[\u0000-\u001f]/g;function Nq(e){return(e+"").replace(Oq,function(e){return Cq[e]}).replace(/\n/g,"<br/>").replace(Pq,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function Dq(e){for(var t="",n=0,r=0,i=0,o=0,s=0,a=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(s=(31&r)<<6,s|=63&i,t+=String.fromCharCode(s)):(o=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o):(a=((7&r)<<18|(63&i)<<12|(63&o)<<6|63&(s=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(a>>>10&1023)),t+=String.fromCharCode(56320+(1023&a)))));return t}function Lq(e){var t,n,r,i=tG(2*e.length),o=1,s=0,a=0;for(n=0;n<e.length;n+=o)o=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),o=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),o=3):(o=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),a=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==a&&(i[s++]=255&a,i[s++]=a>>>8,a=0),i[s++]=t%256,i[s++]=t>>>8;return i.slice(0,s).toString("ucs2")}function Fq(e){return eG(e,"binary").toString("utf8")}var Uq="foo bar baz",Bq=QW&&(Fq(Uq)==Dq(Uq)&&Fq||Lq(Uq)==Dq(Uq)&&Lq)||Dq,zq=QW?function(e){return eG(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},Vq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),jq=/(^\s|\s$|\n)/;function Hq(e,t){return"<"+e+(t.match(jq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Wq(e){return oq(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Gq(e,t,n){return"<"+e+(null!=n?Wq(n):"")+(null!=t?(t.match(jq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function qq(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(vme){if(t)throw vme}return""}var $q="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Xq="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Yq="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Kq="http://schemas.openxmlformats.org/package/2006/content-types",Zq="http://schemas.openxmlformats.org/package/2006/relationships",Jq="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Qq="http://purl.org/dc/elements/1.1/",e$="http://purl.org/dc/terms/",t$="http://purl.org/dc/dcmitype/",n$="http://schemas.openxmlformats.org/officeDocument/2006/relationships",r$="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",i$="http://www.w3.org/2001/XMLSchema-instance",o$="http://www.w3.org/2001/XMLSchema",s$=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],a$="urn:schemas-microsoft-com:office:office",l$="urn:schemas-microsoft-com:office:excel",c$="urn:schemas-microsoft-com:office:spreadsheet",u$="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",h$="http://macVmlSchemaUri",f$="urn:schemas-microsoft-com:vml",d$="http://www.w3.org/TR/REC-html40";var p$=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,i=e[0][n].length;r<i;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},m$=QW?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:eG(e)})):p$(e)}:p$,g$=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(L$(e,i)));return r.join("").replace(aG,"")},v$=QW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(aG,""):g$(e,t,n)}:g$,y$=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},_$=QW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):y$(e,t,n)}:y$,b$=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(D$(e,i)));return r.join("")},x$=QW?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):b$(e,t,n)}:b$,w$=function(e,t){var n=U$(e,t);return n>0?x$(e,t+4,t+4+n-1):""},S$=w$,E$=function(e,t){var n=U$(e,t);return n>0?x$(e,t+4,t+4+n-1):""},T$=E$,A$=function(e,t){var n=2*U$(e,t);return n>0?x$(e,t+4,t+4+n-1):""},M$=A$,C$=function(e,t){var n=U$(e,t);return n>0?v$(e,t+4,t+4+n):""},O$=C$,R$=function(e,t){var n=U$(e,t);return n>0?x$(e,t+4,t+4+n):""},I$=R$,k$=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],o=5;o>=0;--o)i=256*i+e[t+o];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},P$=k$,N$=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};QW&&(S$=function(e,t){if(!Buffer.isBuffer(e))return w$(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},T$=function(e,t){if(!Buffer.isBuffer(e))return E$(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},M$=function(e,t){if(!Buffer.isBuffer(e))return A$(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},O$=function(e,t){if(!Buffer.isBuffer(e))return C$(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},I$=function(e,t){if(!Buffer.isBuffer(e))return R$(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},P$=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):k$(e,t)},N$=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array});var D$=function(e,t){return e[t]},L$=function(e,t){return 256*e[t+1]+e[t]},F$=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},U$=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},B$=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},z$=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function V$(e,t){var n,r,i,o,s,a,l="",c=[];switch(t){case"dbcs":if(a=this.l,QW&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(s=0;s<e;++s)l+=String.fromCharCode(L$(this,a)),a+=2;e*=2;break;case"utf8":l=x$(this,this.l,this.l+e);break;case"utf16le":e*=2,l=v$(this,this.l,this.l+e);break;case"wstr":return V$.call(this,e,"dbcs");case"lpstr-ansi":l=S$(this,this.l),e=4+U$(this,this.l);break;case"lpstr-cp":l=T$(this,this.l),e=4+U$(this,this.l);break;case"lpwstr":l=M$(this,this.l),e=4+2*U$(this,this.l);break;case"lpp4":e=4+U$(this,this.l),l=O$(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+U$(this,this.l),l=I$(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(i=D$(this,this.l+e++));)c.push(XW(i));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(i=L$(this,this.l+e));)c.push(XW(i)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",a=this.l,s=0;s<e;++s){if(this.lens&&-1!==this.lens.indexOf(a))return i=D$(this,a),this.l=a+1,o=V$.call(this,e-s,i?"dbcs-cont":"sbcs-cont"),c.join("")+o;c.push(XW(L$(this,a))),a+=2}l=c.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(l="",a=this.l,s=0;s!=e;++s){if(this.lens&&-1!==this.lens.indexOf(a))return i=D$(this,a),this.l=a+1,o=V$.call(this,e-s,i?"dbcs-cont":"sbcs-cont"),c.join("")+o;c.push(XW(D$(this,a))),a+=1}l=c.join("");break;default:switch(e){case 1:return n=D$(this,this.l),this.l++,n;case 2:return n=("i"===t?F$:L$)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(r=U$(this,this.l),this.l+=4,r):(n=(e>0?B$:z$)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return r=8==e?P$(this,this.l):P$([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=_$(this,this.l,e)}}return this.l+=e,l}var j$=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},H$=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},W$=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function G$(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)W$(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=255&s,this[this.l++]=s>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,j$(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,o=0,s=r?-t:t;isFinite(s)?0==s?i=o=0:(i=Math.floor(Math.log(s)/Math.LN2),o=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(t)?26985:0);for(var a=0;a<=5;++a,o/=256)e[n+a]=255&o;e[n+6]=(15&i)<<4|15&o,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,H$(this,t,this.l)}}return this.l+=r,this}function q$(e,t){var n=_$(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function $$(e,t){e.l=t,e.read_shift=V$,e.chk=q$,e.write_shift=G$}function X$(e,t){e.l+=t}function Y$(e){var t=tG(e);return $$(t,0),t}function K$(){var e=[],t=QW?256:2048,n=function(e){var t=Y$(e);return $$(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},o=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:o,push:function(e){i(),null==(r=e).l&&(r.l=r.length),o(t)},end:function(){return i(),sG(e)},_bufs:e}}function Z$(e,t,n,r){var i,o=+t;if(!isNaN(o)){r||(r=nJ[o].p||(n||[]).length||0),i=1+(o>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var s=e.next(i);o<=127?s.write_shift(1,o):(s.write_shift(1,128+(127&o)),s.write_shift(1,o>>7));for(var a=0;4!=a;++a){if(!(r>=128)){s.write_shift(1,r);break}s.write_shift(1,128+(127&r)),r>>=7}r>0&&N$(n)&&e.push(n)}}function J$(e,t,n){var r=bq(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Q$(e,t,n){var r=bq(e);return r.s=J$(r.s,t.s,n),r.e=J$(r.e,t.s,n),r}function eX(e,t){if(e.cRel&&e.c<0)for(e=bq(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=bq(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=aX(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function tX(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?eX(e.s,t.biff)+":"+eX(e.e,t.biff):(e.s.rRel?"":"$")+rX(e.s.r)+":"+(e.e.rRel?"":"$")+rX(e.e.r):(e.s.cRel?"":"$")+oX(e.s.c)+":"+(e.e.cRel?"":"$")+oX(e.e.c)}function nX(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function rX(e){return""+(e+1)}function iX(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function oX(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sX(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function aX(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function lX(e){var t=e.indexOf(":");return-1==t?{s:sX(e),e:sX(e)}:{s:sX(e.slice(0,t)),e:sX(e.slice(t+1))}}function cX(e,t){return void 0===t||"number"==typeof t?cX(e.s,e.e):("string"!=typeof e&&(e=aX(e)),"string"!=typeof t&&(t=aX(t)),e==t?e:e+":"+t)}function uX(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,o=e.length;for(n=0;r<o&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<o&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===o||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=o&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=o&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function hX(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=KG(e.z,n?uq(t):t)}catch(vme){}try{return e.w=KG((e.XF||{}).numFmtId||(n?14:0),n?uq(t):t)}catch(vme){return""+t}}function fX(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?$X[e.v]||e.v:hX(e,null==t?e.v:t))}function dX(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function pX(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,o=e||(i?[]:{}),s=0,a=0;if(o&&null!=r.origin){if("number"==typeof r.origin)s=r.origin;else{var l="string"==typeof r.origin?sX(r.origin):r.origin;s=l.r,a=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var u=uX(o["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==s&&(c.e.r=s=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if(void 0!==t[h][f]){var d={v:t[h][f]},p=s+h,m=a+f;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[h][f]||"object"!=typeof t[h][f]||Array.isArray(t[h][f])||t[h][f]instanceof Date)if(Array.isArray(d.v)&&(d.f=t[h][f][1],d.v=d.v[0]),null===d.v)if(d.f)d.t="n";else if(r.nullError)d.t="e",d.v=0;else{if(!r.sheetStubs)continue;d.t="z"}else"number"==typeof d.v?d.t="n":"boolean"==typeof d.v?d.t="b":d.v instanceof Date?(d.z=r.dateNF||yG[14],r.cellDates?(d.t="d",d.w=KG(d.z,uq(d.v))):(d.t="n",d.v=uq(d.v),d.w=KG(d.z,d.v))):d.t="s";else d=t[h][f];if(i)o[p]||(o[p]=[]),o[p][m]&&o[p][m].z&&(d.z=o[p][m].z),o[p][m]=d;else{var g=aX({c:m,r:p});o[g]&&o[g].z&&(d.z=o[g].z),o[g]=d}}}return c.s.c<1e7&&(o["!ref"]=cX(c)),o}function mX(e,t){return pX(null,e,t)}function gX(e,t){return t||(t=Y$(4)),t.write_shift(4,e),t}function vX(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function yX(e,t){var n=!1;return null==t&&(n=!0,t=Y$(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function _X(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function bX(e,t){var n=e.l,r=e.read_shift(1),i=vX(e),o=[],s={t:i,h:i};if(1&r){for(var a=e.read_shift(4),l=0;l!=a;++l)o.push(_X(e));s.r=o}else s.r=[{ich:0,ifnt:0}];return e.l=n+t,s}var xX=bX;function wX(e,t){var n=!1;return null==t&&(n=!0,t=Y$(23+4*e.t.length)),t.write_shift(1,1),yX(e.t,t),t.write_shift(4,1),function(e,t){t||(t=Y$(4)),t.write_shift(2,0),t.write_shift(2,0)}(0,t),n?t.slice(0,t.l):t}function SX(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function EX(e,t){return null==t&&(t=Y$(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function TX(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function AX(e,t){return null==t&&(t=Y$(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var MX=vX,CX=yX;function OX(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function RX(e,t){var n=!1;return null==t&&(n=!0,t=Y$(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var IX=vX,kX=OX,PX=RX;function NX(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?P$([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):B$(t,0)>>2;return n?i/100:i}function DX(e,t){null==t&&(t=Y$(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-536870912&&e<1<<29?r=1:i==(0|i)&&i>=-536870912&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function LX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var FX=LX,UX=function(e,t){return t||(t=Y$(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function BX(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function zX(e,t){return(t||Y$(8)).write_shift(8,e,"f")}function VX(e,t){if(t||(t=Y$(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var jX=80,HX={1:{n:"CodePage",t:2},2:{n:"Category",t:jX},3:{n:"PresentationFormat",t:jX},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:jX},15:{n:"Company",t:jX},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:jX},27:{n:"ContentStatus",t:jX},28:{n:"Language",t:jX},29:{n:"Version",t:jX},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},WX={1:{n:"CodePage",t:2},2:{n:"Title",t:jX},3:{n:"Subject",t:jX},4:{n:"Author",t:jX},5:{n:"Keywords",t:jX},6:{n:"Comments",t:jX},7:{n:"Template",t:jX},8:{n:"LastAuthor",t:jX},9:{n:"RevNumber",t:jX},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:jX},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function GX(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var qX=bq(GX([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),$X={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},XX={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},YX={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function KX(e,t){var n,r=function(e){for(var t=[],n=oq(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(XX),i=[];i[i.length]=Mq,i[i.length]=Gq("Types",null,{xmlns:Kq,"xmlns:xsd":o$,"xmlns:xsi":i$}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return Gq("Default",null,{Extension:e[0],ContentType:e[1]})}));var o=function(r){e[r]&&e[r].length>0&&(n=e[r][0],i[i.length]=Gq("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:YX[r][t.bookType]||YX[r].xlsx}))},s=function(n){(e[n]||[]).forEach(function(e){i[i.length]=Gq("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:YX[n][t.bookType]||YX[n].xlsx})})},a=function(t){(e[t]||[]).forEach(function(e){i[i.length]=Gq("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})})};return o("workbooks"),s("sheets"),s("charts"),a("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(a),a("vba"),a("comments"),a("threadedcomments"),a("drawings"),s("metadata"),a("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var ZX={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function JX(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function QX(e){var t=[Mq,Gq("Relationships",null,{xmlns:Zq})];return oq(e["!id"]).forEach(function(n){t[t.length]=Gq("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function eY(e,t,n,r,i,o){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[ZX.HLINK,ZX.XPATH,ZX.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function tY(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function nY(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function rY(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+VW.version+"</meta:generator></office:meta></office:document-meta>"}var iY=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function oY(e,t,n,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=Iq(t),r[r.length]=n?Gq(e,t,n):Hq(e,t))}function sY(e,t){var n=t||{},r=[Mq,Gq("cp:coreProperties",null,{"xmlns:cp":$q,"xmlns:dc":Qq,"xmlns:dcterms":e$,"xmlns:dcmitype":t$,"xmlns:xsi":i$})],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&oY("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:qq(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&oY("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:qq(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var o=0;o!=iY.length;++o){var s=iY[o],a=n.Props&&null!=n.Props[s[1]]?n.Props[s[1]]:e?e[s[1]]:null;!0===a?a="1":!1===a?a="0":"number"==typeof a&&(a=String(a)),null!=a&&oY(s[0],a,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var aY=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],lY=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function cY(e){var t=[],n=Gq;return e||(e={}),e.Application="SheetJS",t[t.length]=Mq,t[t.length]=Gq("Properties",null,{xmlns:Yq,"xmlns:vt":r$}),aY.forEach(function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=Iq(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+Iq(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function uY(e){var t=[Mq,Gq("Properties",null,{xmlns:Xq,"xmlns:vt":r$})];if(!e)return t.join("");var n=1;return oq(e).forEach(function(r){++n,t[t.length]=Gq("property",function(e){switch(typeof e){case"string":var t=Gq("vt:lpwstr",Iq(e));return t.replace(/&quot;/g,"_x0022_");case"number":return Gq((0|e)==e?"vt:i4":"vt:r8",Iq(String(e)));case"boolean":return Gq("vt:bool",e?"true":"false")}if(e instanceof Date)return Gq("vt:filetime",qq(e));throw new Error("Unable to serialize "+e)}(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:Iq(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var hY={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function fY(e,t){var n=Y$(4),r=Y$(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=Y$(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var i=(n*=1e7)/Math.pow(2,32)|0;i>0&&(n%=Math.pow(2,32),r+=i);var o=Y$(8);return o.write_shift(4,n),o.write_shift(4,r),o}(t);break;case 31:case 80:for((r=Y$(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return sG([n,r])}var dY=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function pY(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function mY(e,t,n){var r=Y$(8),i=[],o=[],s=8,a=0,l=Y$(8),c=Y$(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),o.push(l),i.push(c),s+=8+l.length,!t){(c=Y$(8)).write_shift(4,0),i.unshift(c);var u=[Y$(4)];for(u[0].write_shift(4,e.length),a=0;a<e.length;++a){var h=e[a][0];for((l=Y$(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,a+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=sG(u),o.unshift(l),s+=8+l.length}for(a=0;a<e.length;++a)if((!t||t[e[a][0]])&&!(dY.indexOf(e[a][0])>-1||lY.indexOf(e[a][0])>-1)&&null!=e[a][1]){var f=e[a][1],d=0;if(t){var p=n[d=+t[e[a][0]]];if("version"==p.p&&"string"==typeof f){var m=f.split(".");f=(+m[0]<<16)+(+m[1]||0)}l=fY(p.t,f)}else{var g=pY(f);-1==g&&(g=31,f=String(f)),l=fY(g,f)}o.push(l),(c=Y$(8)).write_shift(4,t?d:2+a),i.push(c),s+=8+l.length}var v=8*(o.length+1);for(a=0;a<o.length;++a)i[a].write_shift(4,v),v+=o[a].length;return r.write_shift(4,s),r.write_shift(4,o.length),sG([r].concat(i).concat(o))}function gY(e,t,n,r,i,o){var s=Y$(i?68:48),a=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,nq.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=mY(e,n,r);if(a.push(l),i){var c=mY(i,null,null);s.write_shift(16,o,"hex"),s.write_shift(4,68+l.length),a.push(c)}return sG(a)}function vY(e,t){return t||(t=Y$(2)),t.write_shift(2,+!!e),t}function yY(e){return e.read_shift(2,"u")}function _Y(e,t){return t||(t=Y$(2)),t.write_shift(2,e),t}function bY(e,t,n){return n||(n=Y$(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function xY(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";(n&&n.biff,n&&8!=n.biff)?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");return n.biff>=2&&n.biff<=5&&(i="cpstr"),r?e.read_shift(r,i):""}function wY(e){var t=e.t||"",n=Y$(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Y$(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),sG([n,r])}function SY(e,t,n){return n||(n=Y$(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function EY(e,t){t||(t=Y$(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function TY(e){var t=Y$(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),o=i>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3}t.write_shift(4,2),t.write_shift(4,o);var s=[8,6815827,6619237,4849780,83];for(n=0;n<s.length;++n)t.write_shift(4,s[n]);if(28==o)EY(r=r.slice(1),t);else if(2&o){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));var a=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(a.length+1)),n=0;n<a.length;++n)t.write_shift(2,a.charCodeAt(n));t.write_shift(2,0),8&o&&EY(i>-1?r.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<s.length;++n)t.write_shift(1,parseInt(s[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function AY(e,t,n,r){return r||(r=Y$(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function MY(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function CY(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function OY(e,t){return t||(t=Y$(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function RY(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var o=Y$(i);return o.write_shift(2,r),o.write_shift(2,t),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function IY(e,t){var n=!t||t.biff>=8?2:1,r=Y$(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function kY(e,t,n,r){var i=n&&5==n.biff;r||(r=Y$(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return null==o.l&&(o.l=o.length),o}function PY(e,t,n,r){var i=n&&5==n.biff;r||(r=Y$(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var o=0;return e.numFmtId>0&&i&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function NY(e){var t=Y$(24),n=sX(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return sG([t,TY(e[1])])}function DY(e){var t=e[1].Tooltip,n=Y$(10+2*(t.length+1));n.write_shift(2,2048);var r=sX(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}var LY=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=aq({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=mX(function(t,n){var r=[],i=tG(1);switch(n.type){case"base64":i=rG(JW(t));break;case"binary":i=rG(t);break;case"buffer":case"array":i=t}$$(i,0);var o=i.read_shift(1),s=!!(136&o),a=!1,l=!1;switch(o){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:a=!0,s=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+o.toString(16))}var c=0,u=521;2==o&&(c=i.read_shift(2)),i.l+=3,2!=o&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=o&&(u=i.read_shift(2));var h=i.read_shift(2),f=n.codepage||1252;2!=o&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(f=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);for(var d=[],p={},m=Math.min(i.length,2==o?521:u-10-(a?264:0)),g=l?32:11;i.l<m&&13!=i[i.l];)switch((p={}).name=$W.utils.decode(f,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,p.type=String.fromCharCode(i.read_shift(1)),2==o||l||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==o&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&d.push(p),2!=o&&(i.l+=l?13:14),p.type){case"B":(!a||8!=p.len)&&n.WTF;break;case"G":case"P":n.WTF;break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=d.length;++y)r[0][y]=d[y].name;for(;c-- >0;)if(42!==i[i.l])for(++i.l,r[++v]=[],y=0,y=0;y!=d.length;++y){var _=i.slice(i.l,i.l+d[y].len);i.l+=d[y].len,$$(_,0);var b=$W.utils.decode(f,_);switch(d[y].type){case"C":b.trim().length&&(r[v][y]=b.replace(/\s+$/,""));break;case"D":8===b.length?r[v][y]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):r[v][y]=b;break;case"F":r[v][y]=parseFloat(b.trim());break;case"+":case"I":r[v][y]=l?2147483648^_.read_shift(-4,"i"):_.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!s)throw new Error("DBF Unexpected MEMO for type "+o.toString(16));r[v][y]="##MEMO##"+(l?parseInt(b.trim(),10):_.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(r[v][y]=+b||0);break;case"@":r[v][y]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(_.read_shift(4)-2440588)+_.read_shift(4));break;case"Y":r[v][y]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-_.read_shift(-8,"f");break;case"B":if(a&&8==d[y].len){r[v][y]=_.read_shift(8,"f");break}case"G":case"P":_.l+=d[y].len;break;case"0":if("_NullFlags"===d[y].name)break;default:throw new Error("DBF Unsupported data type "+d[y].type)}}else i.l+=h;if(2!=o&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=d,r}(t,r),r);return i["!cols"]=r.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return dX(n(e,t),t)}catch(vme){if(t&&t.WTF)throw vme}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var i=n||{};if(+i.codepage>=0&&GW(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var o=K$(),s=$J(e,{header:1,raw:!0,cellDates:!0}),a=s[0],l=s.slice(1),c=e["!cols"]||[],u=0,h=0,f=0,d=1;for(u=0;u<a.length;++u)if(((c[u]||{}).DBF||{}).name)a[u]=c[u].DBF.name,++f;else if(null!=a[u]){if(++f,"number"==typeof a[u]&&(a[u]=a[u].toString(10)),"string"!=typeof a[u])throw new Error("DBF Invalid column name "+a[u]+" |"+typeof a[u]+"|");if(a.indexOf(a[u])!==u)for(h=0;h<1024;++h)if(-1==a.indexOf(a[u]+"_"+h)){a[u]+="_"+h;break}}var p=uX(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",_="",b=0,x=[];for(h=0;h<l.length;++h)null!=l[h][u]&&x.push(l[h][u]);if(0!=x.length&&null!=a[u]){for(h=0;h<x.length;++h){switch(typeof x[h]){case"number":_="B";break;case"string":default:_="C";break;case"boolean":_="L";break;case"object":_=x[h]instanceof Date?"D":"C"}b=Math.max(b,String(x[h]).length),y=y&&y!=_?"C":_}b>250&&(b=250),"C"==(_=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>b&&(b=c[u].DBF.len),"B"==y&&"N"==_&&(y="N",v[u]=c[u].DBF.dec,b=c[u].DBF.len),g[u]="C"==y||"N"==_?b:r[y]||0,d+=g[u],m[u]=y}else m[u]="?"}var w=o.next(32);for(w.write_shift(4,318902576),w.write_shift(4,l.length),w.write_shift(2,296+32*f),w.write_shift(2,d),u=0;u<4;++u)w.write_shift(4,0);for(w.write_shift(4,(+t[jW]||3)<<8),u=0,h=0;u<a.length;++u)if(null!=a[u]){var S=o.next(32),E=(a[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,E,"sbcs"),S.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),S.write_shift(4,h),S.write_shift(1,g[u]||r[m[u]]||0),S.write_shift(1,v[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),h+=g[u]||r[m[u]]||0}var T=o.next(264);for(T.write_shift(4,13),u=0;u<65;++u)T.write_shift(4,0);for(u=0;u<l.length;++u){var A=o.next(d);for(A.write_shift(1,0),h=0;h<a.length;++h)if(null!=a[h])switch(m[h]){case"L":A.write_shift(1,null==l[u][h]?63:l[u][h]?84:70);break;case"B":A.write_shift(8,l[u][h]||0,"f");break;case"N":var M="0";for("number"==typeof l[u][h]&&(M=l[u][h].toFixed(v[h]||0)),f=0;f<g[h]-M.length;++f)A.write_shift(1,32);A.write_shift(1,M,"sbcs");break;case"D":l[u][h]?(A.write_shift(4,("0000"+l[u][h].getFullYear()).slice(-4),"sbcs"),A.write_shift(2,("00"+(l[u][h].getMonth()+1)).slice(-2),"sbcs"),A.write_shift(2,("00"+l[u][h].getDate()).slice(-2),"sbcs")):A.write_shift(8,"00000000","sbcs");break;case"C":var C=String(null!=l[u][h]?l[u][h]:"").slice(0,g[h]);for(A.write_shift(1,C,"sbcs"),f=0;f<g[h]-C.length;++f)A.write_shift(1,32)}}return o.next(1).write_shift(1,26),o.end()}}}(),FY=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+oq(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?YW(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:YW(r)};function i(e,i){var o,s=e.split(/[\n\r]+/),a=-1,l=-1,c=0,u=0,h=[],f=[],d=null,p={},m=[],g=[],v=[],y=0;for(+i.codepage>=0&&GW(+i.codepage);c!==s.length;++c){y=0;var _,b=s[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),x=b.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),w=x[0];if(b.length>0)switch(w){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==x[1].charAt(0)&&f.push(b.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,E=!1,T=!1,A=!1,M=-1,C=-1;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(x[u].slice(1))-1,E=!0;break;case"Y":for(a=parseInt(x[u].slice(1))-1,E||(l=0),o=h.length;o<=a;++o)h[o]=[];break;case"K":'"'===(_=x[u].slice(1)).charAt(0)?_=_.slice(1,_.length-1):"TRUE"===_?_=!0:"FALSE"===_?_=!1:isNaN(wq(_))?isNaN(Eq(_).getDate())||(_=yq(_)):(_=wq(_),null!==d&&qG(d)&&(_=pq(_))),S=!0;break;case"E":A=!0;var O=MK(x[u].slice(1),{r:a,c:l});h[a][l]=[h[a][l],O];break;case"S":T=!0,h[a][l]=[h[a][l],"S5S"];break;case"R":M=parseInt(x[u].slice(1))-1;break;case"C":C=parseInt(x[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}if(S&&(h[a][l]&&2==h[a][l].length?h[a][l][0]=_:h[a][l]=_,d=null),T){if(A)throw new Error("SYLK shared formula cannot have own formula");var R=M>-1&&h[M][C];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");h[a][l][1]=RK(R[1],{r:a-M,c:l-C})}break;case"F":var I=0;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"X":l=parseInt(x[u].slice(1))-1,++I;break;case"Y":for(a=parseInt(x[u].slice(1))-1,o=h.length;o<=a;++o)h[o]=[];break;case"M":y=parseInt(x[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":d=f[parseInt(x[u].slice(1))];break;case"W":for(v=x[u].slice(1).split(" "),o=parseInt(v[0],10);o<=parseInt(v[1],10);++o)y=parseInt(v[2],10),g[o-1]=0===y?{hidden:!0}:{wch:y},QY(g[o-1]);break;case"C":g[l=parseInt(x[u].slice(1))-1]||(g[l]={});break;case"R":m[a=parseInt(x[u].slice(1))-1]||(m[a]={}),y>0?(m[a].hpt=y,m[a].hpx=nK(y)):0===y&&(m[a].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}I<1&&(d=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,p]}function o(e,t){var n=function(e,t){switch(t.type){case"base64":return i(JW(e),t);case"binary":return i(e,t);case"buffer":return i(QW&&Buffer.isBuffer(e)?e.toString("binary"):oG(e),t);case"array":return i(_q(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],o=n[1],s=mX(r,t);return oq(o).forEach(function(e){s[e]=o[e]}),s}function s(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+OK(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return dX(o(e,t),t)},to_sheet:o,from_sheet:function(e,t){var n,r,i=["ID;PWXL;N;E"],o=[],a=uX(e["!ref"]),l=Array.isArray(e),c="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=i,e["!cols"].forEach(function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=KY(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=ZY(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)})),e["!rows"]&&function(e,t){t.forEach(function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*tK(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))})}(i,e["!rows"]),i.push("B;Y"+(a.e.r-a.s.r+1)+";X"+(a.e.c-a.s.c+1)+";D"+[a.s.c,a.s.r,a.e.c,a.e.r].join(" "));for(var u=a.s.r;u<=a.e.r;++u)for(var h=a.s.c;h<=a.e.c;++h){var f=aX({r:u,c:h});(n=l?(e[u]||[])[h]:e[f])&&(null!=n.v||n.f&&!n.F)&&o.push(s(n,0,u,h))}return i.join(c)+c+o.join(c)+c+"E"+c}}}(),UY=function(){function e(e,t){for(var n=e.split("\n"),r=-1,i=-1,o=0,s=[];o!==n.length;++o)if("BOT"!==n[o].trim()){if(!(r<0)){for(var a=n[o].trim().split(","),l=a[0],c=a[1],u=n[++o]||"";1&(u.match(/["]/g)||[]).length&&o<n.length-1;)u+="\n"+n[++o];switch(u=u.trim(),+l){case-1:if("BOT"===u){s[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?s[r][i]=!0:"FALSE"===u?s[r][i]=!1:isNaN(wq(c))?isNaN(Eq(c).getDate())?s[r][i]=c:s[r][i]=yq(c):s[r][i]=wq(c),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),s[r][i++]=""!==u?u:null}if("EOD"===u)break}}else s[++r]=[],i=0;return t&&t.sheetRows&&(s=s.slice(0,t.sheetRows)),s}function t(t,n){return mX(function(t,n){switch(n.type){case"base64":return e(JW(t),n);case"binary":return e(t,n);case"buffer":return e(QW&&Buffer.isBuffer(t)?t.toString("binary"):oG(t),n);case"array":return e(_q(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],o=uX(n["!ref"]),s=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,o.e.r-o.s.r+1,""),e(i,"TUPLES",0,o.e.c-o.s.c+1,""),e(i,"DATA",0,0,"");for(var a=o.s.r;a<=o.e.r;++a){t(i,-1,0,"BOT");for(var l=o.s.c;l<=o.e.c;++l){var c=aX({r:a,c:l});if(r=s?(n[a]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=KG(r.z||yG[14],uq(yq(r.v)))),t(i,0,r.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}();return{to_workbook:function(e,n){return dX(t(e,n),n)},to_sheet:t,from_sheet:n}}(),BY=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return mX(function(t,n){for(var r=t.split("\n"),i=-1,o=-1,s=0,a=[];s!==r.length;++s){var l=r[s].trim().split(":");if("cell"===l[0]){var c=sX(l[1]);if(a.length<=c.r)for(i=a.length;i<=c.r;++i)a[i]||(a[i]=[]);switch(i=c.r,o=c.c,l[2]){case"t":a[i][o]=e(l[3]);break;case"v":a[i][o]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":"nl"===l[3]?a[i][o]=!!+l[4]:a[i][o]=+l[4],"vtf"==l[2]&&(a[i][o]=[a[i][o],u])}}}return n&&n.sheetRows&&(a=a.slice(0,n.sheetRows)),a}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),s="--SocialCalcSpreadsheetControlSave--";function a(e){if(!e||!e["!ref"])return"";for(var n,r=[],i=[],o="",s=lX(e["!ref"]),a=Array.isArray(e),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c)if(o=aX({r:l,c:c}),(n=a?(e[l]||[])[c]:e[o])&&null!=n.v&&"z"!==n.t){switch(i=["cell",o,"t"],n.t){case"s":case"str":i.push(t(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=t(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=uq(yq(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||KG(n.z||yG[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(s.e.c-s.s.c+1)+":r:"+(s.e.r-s.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return dX(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,i,o,i,a(e),s].join("\n")}}}(),zY=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(wq(e))?isNaN(Eq(e).getDate())?t[n][r]=e:t[n][r]=yq(e):t[n][r]=wq(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},i=!1,o=0,s=0;o<e.length;++o)34==(s=e.charCodeAt(o))?i=!i:!i&&s in t&&(r[s]=(r[s]||0)+1);for(o in s=[],r)Object.prototype.hasOwnProperty.call(r,o)&&s.push([r[o],o]);if(!s.length)for(o in r=n)Object.prototype.hasOwnProperty.call(r,o)&&s.push([r[o],o]);return s.sort(function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]}),t[s.pop()[1]]||44}function i(e,t){var n=t||{},i="",o=n.dense?[]:{},s={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=r(e.slice(0,1024)):i=n&&n.FS?n.FS:r(e.slice(0,1024));var a=0,l=0,c=0,u=0,h=0,f=i.charCodeAt(0),d=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g,v,y=null!=n.dateNF?(g=n.dateNF,v=(v="number"==typeof g?yG[g]:g).replace(eq,"(\\d+)"),new RegExp("^"+v+"$")):null;function _(){var t=e.slice(u,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=wq(t)))if(!isNaN(Eq(t).getDate())||y&&t.match(y)){r.z=n.dateNF||yG[14];var i=0;y&&t.match(y)&&(t=function(e,t,n){var r=-1,i=-1,o=-1,s=-1,a=-1,l=-1;(t.match(eq)||[]).forEach(function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":o=c;break;case"h":s=c;break;case"s":l=c;break;case"m":s>=0?a=c:i=c}}),l>=0&&-1==a&&i>=0&&(a=i,i=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==s&&-1==a&&-1==l?c:-1==r&&-1==i&&-1==o?u:c+"T"+u}(0,n.dateNF,t.match(y)||[]),i=1),n.cellDates?(r.t="d",r.v=yq(t,i)):(r.t="n",r.v=uq(yq(t,i))),!1!==n.cellText&&(r.w=KG(r.z,r.v instanceof Date?uq(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(o[a]||(o[a]=[]),o[a][l]=r):o[aX({c:l,r:a})]=r),u=h+1,m=e.charCodeAt(u),s.e.c<l&&(s.e.c=l),s.e.r<a&&(s.e.r=a),p==f)++l;else if(l=0,++a,n.sheetRows&&n.sheetRows<=a)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===m&&(d=!d);break;case f:case 10:case 13:if(!d&&_())break e}return h-u>0&&_(),o["!ref"]=cX(s),o}function o(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,n):mX(function(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;for(var o=t.split(/[\r\n]/),s=o.length-1;s>=0&&0===o[s].length;)--s;for(var a=10,l=0,c=0;c<=s;++c)-1==(l=o[c].indexOf(" "))?l=o[c].length:l++,a=Math.max(a,l);for(c=0;c<=s;++c){i[c]=[];var u=0;for(e(o[c].slice(0,a).trim(),i,c,u,r),u=1;u<=(o[c].length-a)/10+1;++u)e(o[c].slice(a+10*(u-1),a+10*u).trim(),i,c,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(t,n),n):i(t,n)}function s(e,t){var n="",r="string"==t.type?[0,0,0,0]:function(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=JW(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}(e,t);switch(t.type){case"base64":n=JW(e);break;case"binary":case"string":n=e;break;case"buffer":65001==t.codepage?n=e.toString("utf8"):(t.codepage,n=QW&&Buffer.isBuffer(e)?e.toString("binary"):oG(e));break;case"array":n=_q(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=Bq(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=Bq(n):t.type,"socialcalc:version:"==n.slice(0,19)?BY.to_sheet("string"==t.type?n:Bq(n),t):o(n,t)}return{to_workbook:function(e,t){return dX(s(e,t),t)},to_sheet:s,from_sheet:function(e){for(var t,n=[],r=uX(e["!ref"]),i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var s=[],a=r.s.c;a<=r.e.c;++a){var l=aX({r:o,c:a});if((t=i?(e[o]||[])[a]:e[l])&&null!=t.v){for(var c=(t.w||(fX(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";s.push(c+(0===a?" ":""))}else s.push("          ")}n.push(s.join(""))}return n.join("\n")}}}(),VY=function(){function e(e,t,n){if(e){$$(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var i=e.read_shift(2),o=r[i]||r[65535],s=e.read_shift(2),a=e.l+s,l=o.f&&o.f(e,s,n);if(e.l=a,t(l,o,i))return}}}function t(t,n){if(!t)return t;var r=n||{},i=r.dense?[]:{},o="Sheet1",s="",a=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},f=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:h=e;break;case 204:e&&(s=e);break;case 222:s=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&!(112&~e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||yG[14],r.cellDates&&(e[1].t="d",e[1].v=pq(e[1].v))),r.qpro&&e[3]>a&&(i["!ref"]=cX(h),l[o]=i,c.push(o),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},a=e[3],o=s||"Sheet"+(a+1),s="");var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[aX(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[aX(e[0])]=e[1]}},r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,function(e,t,n){switch(n){case 204:o=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>a&&(i["!ref"]=cX(h),l[o]=i,c.push(o),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},a=e[3],o="Sheet"+(a+1)),f>0&&e[0].r>=f)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[aX(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==a&&(o=e[1])}},r)}if(i["!ref"]=cX(h),l[s||o]=i,c.push(s||o),!u.length)return{SheetNames:c,Sheets:l};for(var d={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),d[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),d[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:d}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var i=e.l+t,o=n(e,0,r);if(o[1].t="s",20768==r.vers){e.l++;var s=e.read_shift(1);return o[1].v=e.read_shift(s,"utf8"),o}return r.qpro&&e.l++,o[1].v=e.read_shift(i-e.l,"cstr"),o}function i(e,t,n){var r=Y$(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var o=n.charCodeAt(i);r.write_shift(1,o>=128?95:o)}return r.write_shift(1,0),r}function o(e,t,n){var r=Y$(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function s(e,t,n){var r=Y$(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function a(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?oX(t):rX(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,n,r){var i=Y$(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var o=0;o<r.length;++o){var s=r.charCodeAt(o);i.write_shift(1,s>=128?95:s)}return i.write_shift(1,0),i}function f(e,t){var n=u(e),r=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(2);if(65535==o)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var s=32768&o;return o=(32767&o)-16446,n[1].v=(1-2*s)*(i*Math.pow(2,o+32)+r*Math.pow(2,o)),n}function d(e,t,n,r){var i=Y$(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var o,s=0,a=0,l=0;return r<0&&(s=1,r=-r),a=0|Math.log2(r),2147483648&(l=(r/=Math.pow(2,a-31))>>>0)||(++a,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,o=(r*=Math.pow(2,32))>>>0,i.write_shift(4,o),i.write_shift(4,l),a+=16383+(s?32768:0),i.write_shift(2,a),i}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=Y$(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var v={0:{n:"BOF",f:yY},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var i=e.l+t,o=n(e,0,r);if(o[1].v=e.read_shift(8,"f"),r.qpro)e.l=i;else{var s=e.read_shift(2);!function(e,t){$$(e,0);var n=[],r=0,i="",o="",s="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:n.push(e.read_shift(8,"f"));break;case 1:o=a(t[0].c,e.read_shift(2),!0),i=a(t[0].r,e.read_shift(2),!1),n.push(o+i);break;case 2:var f=a(t[0].c,e.read_shift(2),!0),d=a(t[0].r,e.read_shift(2),!1);o=a(t[0].c,e.read_shift(2),!0),i=a(t[0].r,e.read_shift(2),!1),n.push(f+d+":"+o+i);break;case 3:if(e.l<e.length)return;break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),s=n.pop(),n.push(["AND","OR"][h-20]+"("+s+","+u+")");break;default:if(h<32&&c[h])u=n.pop(),s=n.pop(),n.push(s+c[h]+u);else{if(!l[h])return;if(69==(r=l[h][1])&&(r=e[e.l++]),r>n.length)return;var m=n.slice(-r);n.length-=r,n.push(l[h][0]+"("+m.join(",")+")")}}}1==n.length&&(t[1].f=""+n[0])}(e.slice(e.l,e.l+s),o),e.l+=s}return o}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:f},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=f(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&GW(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r,a,l=K$(),c=uX(e["!ref"]),u=Array.isArray(e),h=[];rJ(l,0,(r=1030,(a=Y$(2)).write_shift(2,r),a)),rJ(l,6,function(e){var t=Y$(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(c));for(var f=Math.min(c.e.r,8191),d=c.s.r;d<=f;++d)for(var p=rX(d),m=c.s.c;m<=c.e.c;++m){d===c.s.r&&(h[m]=oX(m));var g=h[m]+p,v=u?(e[d]||[])[m]:e[g];if(v&&"z"!=v.t)if("n"==v.t)(0|v.v)==v.v&&v.v>=-32768&&v.v<=32767?rJ(l,13,o(d,m,v.v)):rJ(l,14,s(d,m,v.v));else rJ(l,15,i(d,m,fX(v).slice(0,239)))}return rJ(l,1),l.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&GW(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=K$();rJ(r,0,function(e){var t=Y$(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,o=0;o<e.SheetNames.length;++o){var s=e.SheetNames[o],a=e.Sheets[s];if(a&&a["!ref"]){++i;var l=lX(a["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,o=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&rJ(r,27,g(e.SheetNames[i],o++));var s=0;for(i=0;i<e.SheetNames.length;++i){var a=e.Sheets[e.SheetNames[i]];if(a&&a["!ref"]){for(var l=uX(a["!ref"]),c=Array.isArray(a),u=[],f=Math.min(l.e.r,8191),p=l.s.r;p<=f;++p)for(var m=rX(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=oX(v));var y=u[v]+m,_=c?(a[p]||[])[v]:a[y];if(_&&"z"!=_.t)if("n"==_.t)rJ(r,23,d(p,v,s,_.v));else rJ(r,22,h(p,v,s,fX(_).slice(0,239)))}++s}}return rJ(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(rG(JW(e)),n);case"binary":return t(rG(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}(),jY=/^\s|\s$|[\t\n\r]/;function HY(e,t){if(!t.bookSST)return"";var n=[Mq];n[n.length]=Gq("sst",null,{xmlns:s$[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(jY)&&(o+=' xml:space="preserve"'),o+=">"+Iq(i.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var WY=function(e,t){var n=!1;return null==t&&(n=!0,t=Y$(15+4*e.t.length)),t.write_shift(1,0),yX(e.t,t),n?t.slice(0,t.l):t};function GY(e){var t=K$();Z$(t,159,function(e,t){return t||(t=Y$(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)Z$(t,19,WY(e[n]));return Z$(t,160),t.end()}function qY(e){var t,n,r=0,i=function(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}(e),o=i.length+1;for((t=tG(o))[0]=i.length,n=1;n!=o;++n)t[n]=i[n-1];for(n=o-1;n>=0;--n)r=((16384&r?1:0)|r<<1&32767)^t[n];return 52811^r}var $Y=function(){function e(e,n){switch(n.type){case"base64":return t(JW(e),n);case"binary":return t(e,n);case"buffer":return t(QW&&Buffer.isBuffer(e)?e.toString("binary"):oG(e),n);case"array":return t(_q(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach(function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,o=/\\\w+\b/g,s=0,a=-1;r=o.exec(e);){if("\\cell"===r[0]){var l=e.slice(s,o.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++a,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][a]=c:n[aX({r:t,c:a})]=c}}s=o.lastIndex}a>i.e.c&&(i.e.c=a)}),n["!ref"]=cX(i),n}return{to_workbook:function(t,n){return dX(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=uX(e["!ref"]),i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){n.push("\\trowd\\trautofit1");for(var s=r.s.c;s<=r.e.c;++s)n.push("\\cellx"+(s+1));for(n.push("\\pard\\intbl"),s=r.s.c;s<=r.e.c;++s){var a=aX({r:o,c:s});(t=i?(e[o]||[])[s]:e[a])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(fX(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function XY(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var YY=6;function KY(e){return Math.floor((e+Math.round(128/YY)/256)*YY)}function ZY(e){return Math.floor((e-5)/YY*100+.5)/100}function JY(e){return Math.round((e*YY+5)/YY*256)/256}function QY(e){e.width?(e.wpx=KY(e.width),e.wch=ZY(e.wpx),e.MDW=YY):e.wpx?(e.wch=ZY(e.wpx),e.width=JY(e.wch),e.MDW=YY):"number"==typeof e.wch&&(e.width=JY(e.wch),e.wpx=KY(e.width),e.MDW=YY),e.customWidth&&delete e.customWidth}var eK=96;function tK(e){return 96*e/eK}function nK(e){return e*eK/96}function rK(e,t){var n,r=[Mq,Gq("styleSheet",null,{xmlns:s$[0],"xmlns:vt":r$})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=Gq("numFmt",null,{numFmtId:r,formatCode:Iq(e[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Gq("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=Gq("cellXfs",null),e.forEach(function(e){t[t.length]=Gq("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Gq("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function iK(e,t,n){n||(n=Y$(6+4*t.length)),n.write_shift(2,e),yX(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function oK(e,t){t||(t=Y$(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=Y$(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),VX(e.color,t);return t.write_shift(1,2),yX(e.name,t),t.length>t.l?t.slice(0,t.l):t}var sK,aK=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],lK=X$;function cK(e,t){t||(t=Y$(84)),sK||(sK=aq(aK));var n=sK[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(VX({auto:1},t),VX({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function uK(e,t,n){n||(n=Y$(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function hK(e,t){return t||(t=Y$(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var fK=X$;function dK(e){var t;Z$(e,613,gX(1)),Z$(e,46,(t||(t=Y$(51)),t.write_shift(1,0),hK(0,t),hK(0,t),hK(0,t),hK(0,t),hK(0,t),t.length>t.l?t.slice(0,t.l):t)),Z$(e,614)}function pK(e){var t,n;Z$(e,619,gX(1)),Z$(e,48,(t={xfId:0,name:"Normal"},n||(n=Y$(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,0),n.write_shift(1,0),RX(t.name||"",n),n.length>n.l?n.slice(0,n.l):n)),Z$(e,620)}function mK(e){Z$(e,508,function(e,t,n){var r=Y$(2052);return r.write_shift(4,e),RX(t,r),RX(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Z$(e,509)}function gK(e,t){var n=K$();return Z$(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n}),0!=n&&(Z$(e,615,gX(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&Z$(e,44,iK(r,t[r]))}),Z$(e,616))}}(n,e.SSF),function(e){Z$(e,611,gX(1)),Z$(e,43,oK({sz:12,color:{theme:1},name:"Calibri",family:2})),Z$(e,612)}(n),function(e){Z$(e,603,gX(2)),Z$(e,45,cK({patternType:"none"})),Z$(e,45,cK({patternType:"gray125"})),Z$(e,604)}(n),dK(n),function(e){Z$(e,626,gX(1)),Z$(e,47,uK({numFmtId:0},65535)),Z$(e,627)}(n),function(e,t){Z$(e,617,gX(t.length)),t.forEach(function(t){Z$(e,47,uK(t,0))}),Z$(e,618)}(n,t.cellXfs),pK(n),function(e){Z$(e,505,gX(0)),Z$(e,506)}(n),mK(n),Z$(n,279),n.end()}function vK(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[Mq];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function yK(){var e,t,n=K$();return Z$(n,332),Z$(n,334,gX(1)),Z$(n,335,((t=Y$(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),yX(e.name,t),t.slice(0,t.l))),Z$(n,336),Z$(n,339,function(e,t){var n=Y$(8+2*t.length);return n.write_shift(4,e),yX(t,n),n.slice(0,n.l)}(1,"XLDAPR")),Z$(n,52),Z$(n,35,gX(514)),Z$(n,4096,gX(0)),Z$(n,4097,_Y(1)),Z$(n,36),Z$(n,53),Z$(n,340),Z$(n,337,function(e){var t=Y$(8);return t.write_shift(4,e),t.write_shift(4,1),t}(1)),Z$(n,51,function(e){var t=Y$(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),Z$(n,338),Z$(n,333),n.end()}function _K(){var e=[Mq];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var bK=1024;function xK(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[Gq("xml",null,{"xmlns:v":f$,"xmlns:o":a$,"xmlns:x":l$,"xmlns:mv":h$}).replace(/\/>/,">"),Gq("o:shapelayout",Gq("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Gq("v:shapetype",[Gq("v:stroke",null,{joinstyle:"miter"}),Gq("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];bK<1e3*e;)bK+=1e3;return t.forEach(function(e){var t=sX(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?Gq("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=Gq("v:fill",r,n);++bK,i=i.concat(["<v:shape"+Wq({id:"_x0000_s"+bK,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,Gq("v:shadow",null,{on:"t",obscured:"t"}),Gq("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Hq("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),Hq("x:AutoFill","False"),Hq("x:Row",String(t.r)),Hq("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function wK(e){var t=[Mq,Gq("comments",null,{xmlns:s$[0]})],n=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var r=Iq(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var r=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(r=n.indexOf(Iq(e.a))),i.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),i.length<=1)t.push(Hq("t",Iq(i[0]||"")));else{for(var o="Comment:\n    "+i[0]+"\n",s=1;s<i.length;++s)o+="Reply:\n    "+i[s]+"\n";t.push(Hq("t",Iq(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function SK(e,t,n){var r=[Mq,Gq("ThreadedComments",null,{xmlns:Jq}).replace(/[\/]>/,">")];return e.forEach(function(e){var i="";(e[1]||[]).forEach(function(o,s){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var a={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==s?i=a.id:a.parentId=i,o.ID=a.id,o.a&&(a.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(Gq("threadedComment",Hq("text",o.t||""),a))}else delete o.ID})}),r.push("</ThreadedComments>"),r.join("")}var EK=vX;function TK(e){var t=K$(),n=[];return Z$(t,628),Z$(t,630),e.forEach(function(e){e[1].forEach(function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),Z$(t,632,function(e){return yX(e.slice(0,54))}(e.a)))})}),Z$(t,631),Z$(t,633),e.forEach(function(e){e[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var i={s:sX(e[0]),e:sX(e[0])};Z$(t,635,function(e,t){return null==t&&(t=Y$(36)),t.write_shift(4,e[1].iauthor),UX(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([i,r])),r.t&&r.t.length>0&&Z$(t,637,wX(r)),Z$(t,636),delete r.iauthor})}),Z$(t,634),Z$(t,629),t.end()}var AK=["xlsb","xlsm","xlam","biff8","xla"],MK=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var o=!1,s=!1;0==r.length?s=!0:"["==r.charAt(0)&&(s=!0,r=r.slice(1,-1)),0==i.length?o=!0:"["==i.charAt(0)&&(o=!0,i=i.slice(1,-1));var a=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return o?l+=t.c:--l,s?a+=t.r:--a,n+(o?"":"$")+oX(l)+(s?"":"$")+rX(a)}return function(r,i){return t=i,r.replace(e,n)}}(),CK=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,OK=function(){return function(e,t){return e.replace(CK,function(e,n,r,i,o,s){var a=iX(i)-(r?0:t.c),l=nX(s)-(o?0:t.r);return n+"R"+(0==l?"":o?l+1:"["+l+"]")+"C"+(0==a?"":r?a+1:"["+a+"]")})}}();function RK(e,t){return e.replace(CK,function(e,n,r,i,o,s){return n+("$"==r?r+i:oX(iX(i)+t.c))+("$"==o?o+s:rX(nX(s)+t.r))})}function IK(e){e.l+=1}function kK(e,t){var n=e.read_shift(2);return[16383&n,n>>14&1,n>>15&1]}function PK(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return NK(e);12==n.biff&&(r=4)}var i=e.read_shift(r),o=e.read_shift(r),s=kK(e),a=kK(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:o,c:a[0],cRel:a[1],rRel:a[2]}}}function NK(e){var t=kK(e),n=kK(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function DK(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=kK(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=kK(e);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function LK(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function FK(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function UK(e){return[e.read_shift(1),e.read_shift(1)]}function BK(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=function(e,t){return 1===e.read_shift(t)}(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=$X[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=BX(e);break;case 2:n[1]=function(e,t,n){if(n.biff>5)return function(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):function(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}(e,r,n)}(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function zK(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],o=0;o!=r;++o)i.push((12==n.biff?FX:CY)(e));return i}function VK(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var o=0,s=[];o!=r&&(s[o]=[]);++o)for(var a=0;a!=i;++a)s[o][a]=BK(e,n.biff);return s}function jK(e,t,n){return e.l+=2,[LK(e)]}function HK(e){return e.l+=6,[]}function WK(e){return e.l+=2,[yY(e),1&e.read_shift(2)]}var GK=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var qK={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:X$},3:{n:"PtgAdd",f:IK},4:{n:"PtgSub",f:IK},5:{n:"PtgMul",f:IK},6:{n:"PtgDiv",f:IK},7:{n:"PtgPower",f:IK},8:{n:"PtgConcat",f:IK},9:{n:"PtgLt",f:IK},10:{n:"PtgLe",f:IK},11:{n:"PtgEq",f:IK},12:{n:"PtgGe",f:IK},13:{n:"PtgGt",f:IK},14:{n:"PtgNe",f:IK},15:{n:"PtgIsect",f:IK},16:{n:"PtgUnion",f:IK},17:{n:"PtgRange",f:IK},18:{n:"PtgUplus",f:IK},19:{n:"PtgUminus",f:IK},20:{n:"PtgPercent",f:IK},21:{n:"PtgParen",f:IK},22:{n:"PtgMissArg",f:IK},23:{n:"PtgStr",f:function(e,t,n){return e.l++,xY(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,$X[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,BX(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[cZ[i],lZ[i],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],i=e.read_shift(1),o=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===o[0]?lZ:aZ)[o[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,o=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,o]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,DK(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,PK(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:X$},40:{n:"PtgMemNoMem",f:X$},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),o=e.read_shift(2),s=(16384&o)>>14,a=(32768&o)>>15;if(o&=16383,1==a)for(;i>524287;)i-=1048576;if(1==s)for(;o>8191;)o-=16384;return{r:i,c:o,cRel:s,rRel:a}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=function(e,t,n){if(n.biff<8)return NK(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),o=kK(e),s=kK(e);return{s:{r:r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,DK(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,i,PK(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6}return e.l+=o,[r,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12}return e.l+=o,[r,i]}},255:{}},$K={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},XK={1:{n:"PtgElfLel",f:WK},2:{n:"PtgElfRw",f:jK},3:{n:"PtgElfCol",f:jK},6:{n:"PtgElfRwV",f:jK},7:{n:"PtgElfColV",f:jK},10:{n:"PtgElfRadical",f:jK},11:{n:"PtgElfRadicalS",f:HK},13:{n:"PtgElfColS",f:HK},15:{n:"PtgElfColSV",f:HK},16:{n:"PtgElfRadicalLel",f:WK},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),o=e.read_shift(2);return{ixti:t,coltype:3&n,rt:GK[n>>2&31],idx:r,c:i,C:o}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},YK={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],o=0;o<=r;++o)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:FK},33:{n:"PtgAttrBaxcel",f:FK},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),UK(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),UK(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function KK(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],o=0;o<r.length;++o){var s=r[o];if(s)if(2===s[0])i.push('"'+s[1].replace(/"/g,'""')+'"');else i.push(s[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var ZK={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function JK(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function QK(e,t,n){var r=JK(e,t,n);return"#REF"==r?r:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function eZ(e,t,n,r,i){var o,s,a,l,c=i&&i.biff||8,u={s:{c:0,r:0}},h=[],f=0,d=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var _=e[0][v];switch(_[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(o=h.pop(),s=h.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=xq(" ",e[0][m][1][1]);break;case 1:g=xq("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}s+=g,m=-1}h.push(s+ZK[_[0]]+o);break;case"PtgIsect":o=h.pop(),s=h.pop(),h.push(s+" "+o);break;case"PtgUnion":o=h.pop(),s=h.pop(),h.push(s+","+o);break;case"PtgRange":o=h.pop(),s=h.pop(),h.push(s+":"+o);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":a=J$(_[1][1],u,i),h.push(eX(a,c));break;case"PtgRefN":a=n?J$(_[1][1],n,i):_[1][1],h.push(eX(a,c));break;case"PtgRef3d":f=_[1][1],a=J$(_[1][2],u,i),p=QK(r,f,i),h.push(p+"!"+eX(a,c));break;case"PtgFunc":case"PtgFuncVar":var b=_[1][0],x=_[1][1];b||(b=0);var w=0==(b&=127)?[]:h.slice(-b);h.length-=b,"User"===x&&(x=w.shift()),h.push(x+"("+w.join(",")+")");break;case"PtgBool":h.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(_[1]);break;case"PtgNum":h.push(String(_[1]));break;case"PtgStr":h.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=Q$(_[1][1],n?{s:n}:u,i),h.push(tX(l,i));break;case"PtgArea":l=Q$(_[1][1],u,i),h.push(tX(l,i));break;case"PtgArea3d":f=_[1][1],l=_[1][2],p=QK(r,f,i),h.push(p+"!"+tX(l,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":d=_[1][2];var S=(r.names||[])[d-1]||(r[0]||[])[d],E=S?S.Name:"SH33TJSNAME"+String(d);E&&"_xlfn."==E.slice(0,6)&&!i.xlfn&&(E=E.slice(6)),h.push(E);break;case"PtgNameX":var T,A=_[1][1];if(d=_[1][2],!(i.biff<=5)){var M="";if(14849==((r[A]||[])[0]||[])[0]||(1025==((r[A]||[])[0]||[])[0]?r[A][d]&&r[A][d].itab>0&&(M=r.SheetNames[r[A][d].itab-1]+"!"):M=r.SheetNames[d-1]+"!"),r[A]&&r[A][d])M+=r[A][d].Name;else if(r[0]&&r[0][d])M+=r[0][d].Name;else{var C=(JK(r,A,i)||"").split(";;");C[d-1]?M=C[d-1]:M+="SH33TJSERRX"}h.push(M);break}A<0&&(A=-A),r[A]&&(T=r[A][d]),T||(T={Name:"SH33TJSERRY"}),h.push(T.Name);break;case"PtgParen":var O="(",R=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:O=xq(" ",e[0][m][1][1])+O;break;case 3:O=xq("\r",e[0][m][1][1])+O;break;case 4:R=xq(" ",e[0][m][1][1])+R;break;case 5:R=xq("\r",e[0][m][1][1])+R;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}h.push(O+h.pop()+R);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":a={c:_[1][1],r:_[1][0]};var I={c:n.c,r:n.r};if(r.sharedf[aX(a)]){var k=r.sharedf[aX(a)];h.push(eZ(k,u,I,r,i))}else{var P=!1;for(o=0;o!=r.arrayf.length;++o)if(s=r.arrayf[o],!(a.c<s[0].s.c||a.c>s[0].e.c||a.r<s[0].s.r||a.r>s[0].e.r)){h.push(eZ(s[1],u,I,r,i)),P=!0;break}P||h.push(_[1])}break;case"PtgArray":h.push("{"+KK(_[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(_))}if(3!=i.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var N=!0;switch((_=e[0][m])[1][0]){case 4:N=!1;case 0:g=xq(" ",_[1][1]);break;case 5:N=!1;case 1:g=xq("\r",_[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}h.push((N?g:"")+h.pop()+(N?"":g)),m=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function tZ(e,t,n,r,i){var o=AY(t,n,i),s=function(e){if(null==e){var t=Y$(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return zX("number"==typeof e?e:0)}(e.v),a=Y$(6);a.write_shift(2,33),a.write_shift(4,0);for(var l=Y$(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return sG([o,s,a,l])}function nZ(e,t,n){var r=e.read_shift(4),i=function(e,t,n){for(var r,i,o=e.l+t,s=[];o!=e.l;)t=o-e.l,i=e[e.l],r=qK[i]||qK[$K[i]],24!==i&&25!==i||(r=(24===i?XK:YK)[e[e.l+1]]),r&&r.f?s.push([r.n,r.f(e,t,n)]):X$(e,t);return s}(e,r,n),o=e.read_shift(4),s=o>0?function(e,t,n,r){if(r.biff<8)return X$(e,t);for(var i=e.l+t,o=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=VK(e,0,r),o.push(n[s][1]);break;case"PtgMemArea":n[s][2]=zK(e,n[s][1],r),o.push(n[s][2]);break;case"PtgExp":r&&12==r.biff&&(n[s][1][1]=e.read_shift(4),o.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return 0!==(t=i-e.l)&&o.push(X$(e,t)),o}(e,o,i,n):null;return[i,s]}var rZ=nZ,iZ=nZ,oZ=nZ,sZ=nZ,aZ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},lZ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},cZ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function uZ(e){return("of:="+e.replace(CK,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function hZ(e){return e.replace(/\./,"!")}var fZ="undefined"!=typeof Map;function dZ(e,t,n){var r=0,i=e.length;if(n){if(fZ?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var o=fZ?n.get(t):n[t];r<o.length;++r)if(e[o[r]].t===t)return e.Count++,o[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,n&&(fZ?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function pZ(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(YY=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=ZY(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=JY(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function mZ(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function gZ(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,o=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){ZG(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=o;++i)if(e[i].numFmtId===r)return i;return e[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function vZ(e,t,n){if(e&&e["!ref"]){var r=uX(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var yZ=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_Z=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function bZ(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var i="",o=e.t,s=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=$X[e.v];break;case"d":r&&r.cellDates?i=yq(e.v,-1).toISOString():((e=bq(e)).t="n",i=""+(e.v=uq(yq(e.v)))),void 0===e.z&&(e.z=yG[14]);break;default:i=e.v}var a=Hq("v",Iq(i)),l={r:t},c=gZ(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){a=Hq("v",""+dZ(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=o&&(e.t=o,e.v=s),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;a=Gq("f",Iq(e.f),u)+(null!=e.v?a:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),Gq("c",a,l)}function xZ(e,t,n,r){var i,o=[Mq,Gq("worksheet",null,{xmlns:s$[0],"xmlns:r":n$})],s=n.SheetNames[e],a="",l=n.Sheets[s];null==l&&(l={});var c=l["!ref"]||"A1",u=uX(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=cX(u)}r||(r={}),l["!comments"]=[];var h=[];!function(e,t,n,r,i){var o=!1,s={},a=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(vme){}o=!0,s.codeName=zq(Iq(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),a=(a||"")+Gq("outlinePr",null,c)}(o||a)&&(i[i.length]=Gq("sheetPr",a,s))}(l,n,e,t,o),o[o.length]=Gq("dimension",null,{ref:c}),o[o.length]=function(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Gq("sheetViews",Gq("sheetView",null,i),{})}(0,0,0,n),t.sheetFormat&&(o[o.length]=Gq("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(o[o.length]=function(e,t){for(var n,r=["<cols>"],i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=Gq("col",null,pZ(i,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),o[i=o.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(a=function(e,t){var n,r,i=[],o=[],s=uX(e["!ref"]),a="",l="",c=[],u=0,h=0,f=e["!rows"],d=Array.isArray(e),p={r:l},m=-1;for(h=s.s.c;h<=s.e.c;++h)c[h]=oX(h);for(u=s.s.r;u<=s.e.r;++u){for(o=[],l=rX(u),h=s.s.c;h<=s.e.c;++h){n=c[h]+l;var g=d?(e[u]||[])[h]:e[n];void 0!==g&&null!=(a=bZ(g,n,e,t))&&o.push(a)}(o.length>0||f&&f[u])&&(p={r:l},f&&f[u]&&((r=f[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=tK(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level)),i[i.length]=Gq("row",o.join(""),p))}if(f)for(;u<f.length;++u)f&&f[u]&&(p={r:u+1},(r=f[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=tK(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level),i[i.length]=Gq("row","",p));return i.join("")}(l,t),a.length>0&&(o[o.length]=a)),o.length>i+1&&(o[o.length]="</sheetData>",o[i]=o[i].replace("/>",">")),l["!protect"]&&(o[o.length]=function(e){var t={sheet:1};return yZ.forEach(function(n){null!=e[n]&&e[n]&&(t[n]="1")}),_Z.forEach(function(n){null==e[n]||e[n]||(t[n]="0")}),e.password&&(t.password=qY(e.password).toString(16).toUpperCase()),Gq("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(o[o.length]=function(e,t,n,r){var i="string"==typeof e.ref?e.ref:cX(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,s=lX(i);s.s.r==s.e.r&&(s.e.r=lX(t["!ref"]).e.r,i=cX(s));for(var a=0;a<o.length;++a){var l=o[a];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return a==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),Gq("autoFilter",null,{ref:i})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(o[o.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+cX(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var f,d,p=-1,m=-1;return l["!links"].length>0&&(o[o.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(f={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=eY(r,-1,Iq(e[1].Target).replace(/#.*$/,""),ZX.HLINK),f["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(f.location=Iq(e[1].Target.slice(p+1))),e[1].Tooltip&&(f.tooltip=Iq(e[1].Tooltip)),o[o.length]=Gq("hyperlink",null,f))}),o[o.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(o[o.length]=(mZ(d=l["!margins"]),Gq("pageMargins",null,d))),t&&!t.ignoreEC&&null!=t.ignoreEC||(o[o.length]=Hq("ignoredErrors",Gq("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(m=eY(r,-1,"../drawings/drawing"+(e+1)+".xml",ZX.DRAW),o[o.length]=Gq("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=h),l["!comments"].length>0&&(m=eY(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ZX.VML),o[o.length]=Gq("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),o.length>1&&(o[o.length]="</worksheet>",o[1]=o[1].replace("/>",">")),o.join("")}function wZ(e,t,n,r){var i=function(e,t,n){var r=Y$(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var o=320;i.hpx?o=20*tK(i.hpx):i.hpt&&(o=20*i.hpt),r.write_shift(2,o),r.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),r.write_shift(1,s),r.write_shift(1,0);var a=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,f=-1,d=u<<10;d<u+1<<10;++d)c.c=d,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[aX(c)])&&(h<0&&(h=d),f=d);h<0||(++a,r.write_shift(4,h),r.write_shift(4,f))}var p=r.l;return r.l=l,r.write_shift(4,a),r.l=p,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&Z$(e,0,i)}var SZ=FX,EZ=UX;var TZ=FX,AZ=UX;var MZ=["left","right","top","bottom","header","footer"];function CZ(e,t,n,r,i,o,s){if(void 0===t.v)return!1;var a="";switch(t.t){case"b":a=t.v?"1":"0";break;case"d":(t=bq(t)).z=t.z||yG[14],t.v=uq(yq(t.v)),t.t="n";break;case"n":case"e":a=""+t.v;break;default:a=t.v}var l={r:n,c:r};switch(l.s=gZ(i.cellXfs,t,i),t.l&&o["!links"].push([aX(l),t.l]),t.c&&o["!comments"].push([aX(l),t.c]),t.t){case"s":case"str":return i.bookSST?(a=dZ(i.Strings,t.v,i.revStrings),l.t="s",l.v=a,s?Z$(e,18,function(e,t,n){return null==n&&(n=Y$(8)),AX(t,n),n.write_shift(4,t.v),n}(0,l)):Z$(e,7,function(e,t,n){return null==n&&(n=Y$(12)),EX(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",s?Z$(e,17,function(e,t,n){return null==n&&(n=Y$(8+4*e.v.length)),AX(t,n),yX(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):Z$(e,6,function(e,t,n){return null==n&&(n=Y$(12+4*e.v.length)),EX(t,n),yX(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?s?Z$(e,13,function(e,t,n){return null==n&&(n=Y$(8)),AX(t,n),DX(e.v,n),n}(t,l)):Z$(e,2,function(e,t,n){return null==n&&(n=Y$(12)),EX(t,n),DX(e.v,n),n}(t,l)):s?Z$(e,16,function(e,t,n){return null==n&&(n=Y$(12)),AX(t,n),zX(e.v,n),n}(t,l)):Z$(e,5,function(e,t,n){return null==n&&(n=Y$(16)),EX(t,n),zX(e.v,n),n}(t,l)),!0;case"b":return l.t="b",s?Z$(e,15,function(e,t,n){return null==n&&(n=Y$(5)),AX(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):Z$(e,4,function(e,t,n){return null==n&&(n=Y$(9)),EX(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",s?Z$(e,14,function(e,t,n){return null==n&&(n=Y$(8)),AX(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):Z$(e,3,function(e,t,n){return null==n&&(n=Y$(9)),EX(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return s?Z$(e,12,function(e,t,n){return null==n&&(n=Y$(4)),AX(t,n)}(0,l)):Z$(e,1,function(e,t,n){return null==n&&(n=Y$(8)),EX(t,n)}(0,l)),!0}function OZ(e,t){var n,r;t&&t["!merges"]&&(Z$(e,177,(n=t["!merges"].length,null==r&&(r=Y$(4)),r.write_shift(4,n),r)),t["!merges"].forEach(function(t){Z$(e,176,AZ(t))}),Z$(e,178))}function RZ(e,t){t&&t["!cols"]&&(Z$(e,390),t["!cols"].forEach(function(t,n){t&&Z$(e,60,function(e,t,n){null==n&&(n=Y$(18));var r=pZ(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}(n,t))}),Z$(e,391))}function IZ(e,t){var n,r;t&&t["!ref"]&&(Z$(e,648),Z$(e,649,(n=uX(t["!ref"]),(r=Y$(24)).write_shift(4,4),r.write_shift(4,1),UX(n,r),r)),Z$(e,650))}function kZ(e,t,n){t["!links"].forEach(function(t){if(t[1].Target){var r=eY(n,-1,t[1].Target.replace(/#.*$/,""),ZX.HLINK);Z$(e,494,function(e,t){var n=Y$(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));UX({s:sX(e[0]),e:sX(e[0])},n),PX("rId"+t,n);var r=e[1].Target.indexOf("#");return yX((-1==r?"":e[1].Target.slice(r+1))||"",n),yX(e[1].Tooltip||"",n),yX("",n),n.slice(0,n.l)}(t,r))}}),delete t["!links"]}function PZ(e,t,n){Z$(e,133),Z$(e,137,function(e,t,n){null==n&&(n=Y$(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Z$(e,138),Z$(e,134)}function NZ(e,t){var n,r;t["!protect"]&&Z$(e,535,(n=t["!protect"],null==r&&(r=Y$(66)),r.write_shift(2,n.password?qY(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)}),r))}function DZ(e,t,n,r){var i=K$(),o=n.SheetNames[e],s=n.Sheets[o]||{},a=o;try{n&&n.Workbook&&(a=n.Workbook.Sheets[e].CodeName||a)}catch(vme){}var l,c,u=uX(s["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Z$(i,129),(n.vbaraw||s["!outline"])&&Z$(i,147,function(e,t,n){null==n&&(n=Y$(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return VX({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),CX(e,n),n.slice(0,n.l)}(a,s["!outline"])),Z$(i,148,EZ(u)),PZ(i,0,n.Workbook),RZ(i,s),function(e,t,n,r){var i,o=uX(t["!ref"]||"A1"),s="",a=[];Z$(e,145);var l=Array.isArray(t),c=o.e.r;t["!rows"]&&(c=Math.max(o.e.r,t["!rows"].length-1));for(var u=o.s.r;u<=c;++u){s=rX(u),wZ(e,t,o,u);var h=!1;if(u<=o.e.r)for(var f=o.s.c;f<=o.e.c;++f){u===o.s.r&&(a[f]=oX(f)),i=a[f]+s;var d=l?(t[u]||[])[f]:t[i];h=!!d&&CZ(e,d,u,f,r,t,h)}}Z$(e,146)}(i,s,0,t),NZ(i,s),function(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],o="string"==typeof i.ref?i.ref:cX(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var s=n.Workbook.Names,a=lX(o);a.s.r==a.e.r&&(a.e.r=lX(t["!ref"]).e.r,o=cX(a));for(var l=0;l<s.length;++l){var c=s[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+o;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),Z$(e,161,UX(uX(o))),Z$(e,162)}}(i,s,n,e),OZ(i,s),kZ(i,s,r),s["!margins"]&&Z$(i,476,(l=s["!margins"],null==c&&(c=Y$(48)),mZ(l),MZ.forEach(function(e){zX(l[e],c)}),c)),t&&!t.ignoreEC&&null!=t.ignoreEC||IZ(i,s),function(e,t,n,r){if(t["!comments"].length>0){var i=eY(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",ZX.VML);Z$(e,551,PX("rId"+i)),t["!legacy"]=i}}(i,s,e,r),Z$(i,130),i.end()}var LZ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var FZ="][*?/\\".split("");function UZ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");return FZ.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),!0}function BZ(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,n,r,i=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,n=i,r=!!e.vbaraw,t.forEach(function(e,i){UZ(e);for(var o=0;o<i;++o)if(e==t[o])throw new Error("Duplicate Sheet Name: "+e);if(r){var s=n&&n[i]&&n[i].CodeName||e;if(95==s.charCodeAt(0)&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}});for(var o=0;o<e.SheetNames.length;++o)vZ(e.Sheets[e.SheetNames[o]],e.SheetNames[o],o)}function zZ(e){var t=[Mq];t[t.length]=Gq("workbook",null,{xmlns:s$[0],"xmlns:r":n$});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(LZ.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Gq("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=e.SheetNames.length&&i[o]&&i[o].Hidden;++o);o==e.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var s={name:Iq(e.SheetNames[o].slice(0,31))};if(s.sheetId=""+(o+1),s["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden"}t[t.length]=Gq("sheet",null,s)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=Gq("definedName",Iq(e.Ref),n))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function VZ(e,t){return t||(t=Y$(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),PX(e.strRelID,t),yX(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function jZ(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,i=t.Workbook.Sheets,o=0,s=-1,a=-1;o<i.length;++o)!i[o]||!i[o].Hidden&&-1==s?s=o:1==i[o].Hidden&&-1==a&&(a=o);if(!(a>s))Z$(e,135),Z$(e,158,(n=s,r||(r=Y$(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),Z$(e,136)}}function HZ(e,t){var n=K$();return Z$(n,131),Z$(n,128,function(e,t){t||(t=Y$(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return yX("SheetJS",t),yX(VW.version,t),yX(VW.version,t),yX("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Z$(n,153,function(e,t){t||(t=Y$(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),CX(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),jZ(n,e),function(e,t){Z$(e,143);for(var n=0;n!=t.SheetNames.length;++n)Z$(e,156,VZ({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));Z$(e,144)}(n,e),Z$(n,132),n.end()}function WZ(e,t,n,r,i){return(".bin"===t.slice(-4)?DZ:xZ)(e,n,r,i)}function GZ(e,t,n){return(".bin"===t.slice(-4)?TK:wK)(e)}function qZ(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return oq(hY).map(function(e){for(var t=0;t<iY.length;++t)if(iY[t][1]==e)return iY[t];for(t=0;t<aY.length;++t)if(aY[t][1]==e)return aY[t];throw e}).forEach(function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Hq(hY[r[1]]||r[1],i))}}),Gq("DocumentProperties",n.join(""),{xmlns:a$})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&oq(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<iY.length;++r)if(t==iY[r][1])return;for(r=0;r<aY.length;++r)if(t==aY[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var o=e[t],s="string";"number"==typeof o?(s="float",o=String(o)):!0===o||!1===o?(s="boolean",o=o?"1":"0"):o=String(o),i.push(Gq(kq(t),o,{"dt:dt":s}))}}),t&&oq(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],o="string";"number"==typeof r?(o="float",r=String(r)):!0===r||!1===r?(o="boolean",r=r?"1":"0"):r instanceof Date?(o="dateTime.tz",r=r.toISOString()):r=String(r),i.push(Gq(kq(n),r,{"dt:dt":o}))}}),"<"+r+' xmlns="'+a$+'">'+i.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function $Z(e){return Gq("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+OK(e.Ref,{r:0,c:0})})}function XZ(e,t,n,r,i,o,s){if(!e||null==e.v&&null==e.f)return"";var a={};if(e.f&&(a["ss:Formula"]="="+Iq(OK(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=sX(e.F.slice(t.length+1));a["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(a["ss:HRef"]=Iq(e.l.Target),e.l.Tooltip&&(a["x:HRefScreenTip"]=Iq(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c==s.c&&c[u].s.r==s.r&&(c[u].e.c>c[u].s.c&&(a["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(a["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",f="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",f=String(e.v);break;case"b":h="Boolean",f=e.v?"1":"0";break;case"e":h="Error",f=$X[e.v];break;case"d":h="DateTime",f=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||yG[14]);break;case"s":h="String",f=((e.v||"")+"").replace(Oq,function(e){return Cq[e]}).replace(Pq,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var d=gZ(r.cellXfs,e,r);a["ss:StyleID"]="s"+(21+d),a["ss:Index"]=s.c+1;var p=null!=e.v?f:"",m="z"==e.t?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map(function(e){var t=Gq("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Gq("Comment",t,{"ss:Author":e.a})}).join("")),Gq("Cell",m,a)}function YZ(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=nK(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function KZ(e,t,n){var r=[],i=n.SheetNames[e],o=n.Sheets[i],s=o?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,o=[],s=0;s<i.length;++s){var a=i[s];a.Sheet==n&&(a.Name.match(/^_xlfn\./)||o.push($Z(a)))}return o.join("")}(o,0,e,n):"";return s.length>0&&r.push("<Names>"+s+"</Names>"),s=o?function(e,t){if(!e["!ref"])return"";var n=uX(e["!ref"]),r=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(e,t){QY(e);var n=!!e.width,r=pZ(t,e),i={"ss:Index":t+1};n&&(i["ss:Width"]=KY(r.width)),e.hidden&&(i["ss:Hidden"]="1"),o.push(Gq("Column",null,i))});for(var s=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){for(var l=[YZ(a,(e["!rows"]||[])[a])],c=n.s.c;c<=n.e.c;++c){var u=!1;for(i=0;i!=r.length;++i)if(!(r[i].s.c>c||r[i].s.r>a||r[i].e.c<c||r[i].e.r<a)){r[i].s.c==c&&r[i].s.r==a||(u=!0);break}if(!u){var h={r:a,c:c},f=aX(h),d=s?(e[a]||[])[c]:e[f];l.push(XZ(d,f,e,t,0,0,h))}}l.push("</Row>"),l.length>2&&o.push(l.join(""))}return o.join("")}(o,t):"",s.length>0&&r.push("<Table>"+s+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(Gq("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(Gq("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(Gq("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(Gq("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&(!r.Workbook.Sheets[o]||r.Workbook.Sheets[o].Hidden);++o);o==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Hq("ProtectContents","True")),e["!protect"].objects&&i.push(Hq("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Hq("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(Hq("EnableSelection","UnlockedCells")):i.push(Hq("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")})),0==i.length?"":Gq("WorksheetOptions",i.join(""),{xmlns:l$})}(o,0,e,n)),r.join("")}function ZZ(e,t){t||(t={}),e.SSF||(e.SSF=bq(yG)),e.SSF&&(QG(),JG(e.SSF),t.revssf=lq(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],gZ(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(qZ(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Gq("Worksheet",KZ(r,t,e),{"ss:Name":Iq(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var r=[];r.push(Gq("NumberFormat",null,{"ss:Format":Iq(yG[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};n.push(Gq("Style",r.join(""),i))}),Gq("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push($Z(i)))}return Gq("Names",n.join(""))}(e),Mq+Gq("Workbook",n.join(""),{xmlns:c$,"xmlns:o":a$,"xmlns:x":l$,"xmlns:ss":c$,"xmlns:dt":u$,"xmlns:html":d$})}var JZ="e0859ff2f94f6810ab9108002b27b3d9",QZ="02d5cdd59c2e1b10939708002b2cf9ae",eJ="05d5cdd59c2e1b10939708002b2cf9ae";function tJ(e,t){var n=t||{},r=nq.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return nq.utils.cfb_add(r,i,fJ(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],i=[],o=[],s=0,a=sq(HX,"n"),l=sq(WX,"n");if(e.Props)for(n=oq(e.Props),s=0;s<n.length;++s)(Object.prototype.hasOwnProperty.call(a,n[s])?r:Object.prototype.hasOwnProperty.call(l,n[s])?i:o).push([n[s],e.Props[n[s]]]);if(e.Custprops)for(n=oq(e.Custprops),s=0;s<n.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},n[s])||(Object.prototype.hasOwnProperty.call(a,n[s])?r:Object.prototype.hasOwnProperty.call(l,n[s])?i:o).push([n[s],e.Custprops[n[s]]]);var c=[];for(s=0;s<o.length;++s)dY.indexOf(o[s][0])>-1||lY.indexOf(o[s][0])>-1||null!=o[s][1]&&c.push(o[s]);i.length&&nq.utils.cfb_add(t,"/SummaryInformation",gY(i,JZ,l,WX)),(r.length||c.length)&&nq.utils.cfb_add(t,"/DocumentSummaryInformation",gY(r,QZ,a,HX,c.length?c:null,eJ))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&nq.utils.cfb_add(e,i,t.FileIndex[r].content)}})}(r,nq.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var nJ={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=r,7&o&&(n.level=7&o),16&o&&(n.hidden=!0),32&o&&(n.hpt=i/20),n}},1:{f:function(e){return[SX(e)]}},2:{f:function(e){return[SX(e),NX(e),"n"]}},3:{f:function(e){return[SX(e),e.read_shift(1),"e"]}},4:{f:function(e){return[SX(e),e.read_shift(1),"b"]}},5:{f:function(e){return[SX(e),BX(e),"n"]}},6:{f:function(e){return[SX(e),vX(e),"str"]}},7:{f:function(e){return[SX(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,i=SX(e);i.r=n["!row"];var o=[i,vX(e),"str"];if(n.cellFormula){e.l+=2;var s=iZ(e,r-e.l,n);o[3]=eZ(s,0,i,n.supbooks,n)}else e.l=r;return o}},9:{f:function(e,t,n){var r=e.l+t,i=SX(e);i.r=n["!row"];var o=[i,BX(e),"n"];if(n.cellFormula){e.l+=2;var s=iZ(e,r-e.l,n);o[3]=eZ(s,0,i,n.supbooks,n)}else e.l=r;return o}},10:{f:function(e,t,n){var r=e.l+t,i=SX(e);i.r=n["!row"];var o=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var s=iZ(e,r-e.l,n);o[3]=eZ(s,0,i,n.supbooks,n)}else e.l=r;return o}},11:{f:function(e,t,n){var r=e.l+t,i=SX(e);i.r=n["!row"];var o=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var s=iZ(e,r-e.l,n);o[3]=eZ(s,0,i,n.supbooks,n)}else e.l=r;return o}},12:{f:function(e){return[TX(e)]}},13:{f:function(e){return[TX(e),NX(e),"n"]}},14:{f:function(e){return[TX(e),e.read_shift(1),"e"]}},15:{f:function(e){return[TX(e),e.read_shift(1),"b"]}},16:{f:function(e){return[TX(e),BX(e),"n"]}},17:{f:function(e){return[TX(e),vX(e),"str"]}},18:{f:function(e){return[TX(e),e.read_shift(4),"s"]}},19:{f:bX},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),o=IX(e),s=oZ(e,0,n),a=OX(e);e.l=r;var l={Name:o,Ptg:s};return i<268435455&&(l.Sheet=i),a&&(l.Comment=a),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(r.underline=o);var s=e.read_shift(1);s>0&&(r.family=s);var a=e.read_shift(1);switch(a>0&&(r.charset=a),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),s=e.read_shift(1),a=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=qX[r];l&&(t.rgb=XY(l));break;case 2:t.rgb=XY([o,s,a]);break;case 3:t.theme=r}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=vX(e),r}},44:{f:function(e,t){return[e.read_shift(2),vX(e)]}},45:{f:lK},46:{f:fK},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function(e,t,n){if(!n.cellStyles)return X$(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),o=e.read_shift(r),s=e.read_shift(r),a=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:i,e:o,w:s,ixfe:a,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}},62:{f:function(e){return[SX(e),bX(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=aX(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:X$,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=MX(e),n}},148:{f:SZ,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?vX(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=kX(e),n.name=vX(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:FX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:TZ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:vX(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:kX},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=xY(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,o=e.read_shift(n.biff>8?4:2);0!==o--;)r.push(MY(e,n.biff,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,i=LX(e),o=e.read_shift(1),s=[i];if(s[2]=o,n.cellFormula){var a=rZ(e,r-e.l,n);s[1]=a}else e.l=r;return s}},427:{f:function(e,t,n){var r=e.l+t,i=[FX(e)];if(n.cellFormula){var o=sZ(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return MZ.forEach(function(n){t[n]=BX(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=FX(e),i=OX(e),o=vX(e),s=vX(e),a=vX(e);e.l=n;var l={rfx:r,relId:i,loc:o,display:a};return s&&(l.Tooltip=s),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:kX},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:EK},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=FX(e);return t.rfx=n.s,t.ref=aX(n.s),e.l+=16,t}},636:{T:-1},637:{f:xX},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:vX(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rJ(e,t,n,r){var i=t;if(!isNaN(i)){var o=r||(n||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,o),o>0&&N$(n)&&e.push(n)}}function iJ(e,t,n){return e||(e=Y$(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function oJ(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?uq(yq(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?rJ(e,2,function(e,t,n){var r=Y$(9);return iJ(r,e,t),r.write_shift(2,n),r}(n,r,i)):rJ(e,3,function(e,t,n){var r=Y$(15);return iJ(r,e,t),r.write_shift(8,n,"f"),r}(n,r,i)));case"b":case"e":return void rJ(e,5,function(e,t,n,r){var i=Y$(9);return iJ(i,e,t),bY(n,r||"b",i),i}(n,r,t.v,t.t));case"s":case"str":return void rJ(e,4,function(e,t,n){var r=Y$(8+2*n.length);return iJ(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}rJ(e,1,iJ(null,n,r))}function sJ(e,t){for(var n=t||{},r=K$(),i=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==n.sheet&&(i=o);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return rJ(r,4==n.biff?1033:3==n.biff?521:9,RY(0,16,n)),function(e,t,n,r){var i,o=Array.isArray(t),s=uX(t["!ref"]||"A1"),a="",l=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),i=cX(s)}for(var c=s.s.r;c<=s.e.r;++c){a=rX(c);for(var u=s.s.c;u<=s.e.c;++u){c===s.s.r&&(l[u]=oX(u)),i=l[u]+a;var h=o?(t[c]||[])[u]:t[i];h&&oJ(e,h,c,u)}}}(r,e.Sheets[e.SheetNames[i]],0,n),rJ(r,10),r.end()}function aJ(e,t,n){rJ(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,i=Y$(r?15+n.length:16+2*n.length);return i.write_shift(2,20*e.sz),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}({sz:12,name:"Arial"},n))}function lJ(e,t){if(t){var n=0;t.forEach(function(t,r){++n<=256&&t&&rJ(e,125,function(e,t){var n=Y$(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(pZ(r,t),r))})}}function cJ(e,t,n,r,i){var o=16+gZ(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)rJ(e,6,tZ(t,n,r,0,o));else switch(t.t){case"d":case"n":rJ(e,515,function(e,t,n,r){var i=Y$(14);return AY(e,t,r,i),zX(n,i),i}(n,r,"d"==t.t?uq(yq(t.v)):t.v,o));break;case"b":case"e":rJ(e,517,function(e,t,n,r,i,o){var s=Y$(8);return AY(e,t,r,s),bY(n,o,s),s}(n,r,t.v,o,0,t.t));break;case"s":case"str":if(i.bookSST)rJ(e,253,function(e,t,n,r){var i=Y$(10);return AY(e,t,r,i),i.write_shift(4,n),i}(n,r,dZ(i.Strings,t.v,i.revStrings),o));else rJ(e,516,function(e,t,n,r,i){var o=!i||8==i.biff,s=Y$(+o+8+(1+o)*n.length);return AY(e,t,r,s),s.write_shift(2,n.length),o&&s.write_shift(1,1),s.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),s}(n,r,(t.v||"").slice(0,255),o,i));break;default:rJ(e,513,AY(n,r,o))}else rJ(e,513,AY(n,r,o))}function uJ(e,t,n){var r,i,o=K$(),s=n.SheetNames[e],a=n.Sheets[s]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[e]||{},u=Array.isArray(a),h=8==t.biff,f="",d=[],p=uX(a["!ref"]||"A1"),m=h?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}rJ(o,2057,RY(0,16,t)),rJ(o,13,_Y(1)),rJ(o,12,_Y(100)),rJ(o,15,vY(!0)),rJ(o,17,vY(!1)),rJ(o,16,zX(.001)),rJ(o,95,vY(!0)),rJ(o,42,vY(!1)),rJ(o,43,vY(!1)),rJ(o,130,_Y(1)),rJ(o,128,((i=Y$(8)).write_shift(4,0),i.write_shift(2,0),i.write_shift(2,0),i)),rJ(o,131,vY(!1)),rJ(o,132,vY(!1)),h&&lJ(o,a["!cols"]),rJ(o,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=Y$(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(p,t)),h&&(a["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=rX(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(d[v]=oX(v)),r=d[v]+f;var y=u?(a[g]||[])[v]:a[r];y&&(cJ(o,y,g,v,t),h&&y.l&&a["!links"].push([r,y.l]))}}var _=c.CodeName||c.name||s;return h&&rJ(o,574,function(e){var t=Y$(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((l.Views||[])[0])),h&&(a["!merges"]||[]).length&&rJ(o,229,function(e){var t=Y$(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)OY(e[n],t);return t}(a["!merges"])),h&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];rJ(e,440,NY(r)),r[1].Tooltip&&rJ(e,2048,DY(r))}delete t["!links"]}(o,a),rJ(o,442,SY(_)),h&&function(e,t){var n=Y$(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),rJ(e,2151,n),(n=Y$(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),OY(uX(t["!ref"]||"A1"),n),n.write_shift(4,4),rJ(e,2152,n)}(o,a),rJ(o,10),o.end()}function hJ(e,t,n){var r,i=K$(),o=(e||{}).Workbook||{},s=o.Sheets||[],a=o.WBProps||{},l=8==n.biff,c=5==n.biff;(rJ(i,2057,RY(0,5,n)),"xla"==n.bookType&&rJ(i,135),rJ(i,225,l?_Y(1200):null),rJ(i,193,function(e,t){t||(t=Y$(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),c&&rJ(i,191),c&&rJ(i,192),rJ(i,226),rJ(i,92,function(e,t){var n=!t||8==t.biff,r=Y$(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),rJ(i,66,_Y(l?1200:1252)),l&&rJ(i,353,_Y(0)),l&&rJ(i,448),rJ(i,317,function(e){for(var t=Y$(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),l&&e.vbaraw&&rJ(i,211),l&&e.vbaraw)&&rJ(i,442,SY(a.CodeName||"ThisWorkbook"));rJ(i,156,_Y(17)),rJ(i,25,vY(!1)),rJ(i,18,vY(!1)),rJ(i,19,_Y(0)),l&&rJ(i,431,vY(!1)),l&&rJ(i,444,_Y(0)),rJ(i,61,((r=Y$(18)).write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r)),rJ(i,64,vY(!1)),rJ(i,141,_Y(0)),rJ(i,34,vY("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&function(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),rJ(i,14,vY(!0)),l&&rJ(i,439,vY(!1)),rJ(i,218,_Y(0)),aJ(i,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&rJ(e,1054,kY(i,t[i],n))})}(i,e.SSF,n),function(e,t){for(var n=0;n<16;++n)rJ(e,224,PY({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){rJ(e,224,PY(n,0,t))})}(i,n),l&&rJ(i,352,vY(!1));var u=i.end(),h=K$();l&&rJ(h,140,function(e){return e||(e=Y$(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&n.Strings&&function(e,t,n){var r=(n||[]).length||0;if(r<=8224)return rJ(e,t,n,r);var i=t;if(!isNaN(i)){for(var o=n.parts||[],s=0,a=0,l=0;l+(o[s]||8224)<=8224;)l+=o[s]||8224,s++;var c=e.next(4);for(c.write_shift(2,i),c.write_shift(2,l),e.push(n.slice(a,a+l)),a+=l;a<r;){for((c=e.next(4)).write_shift(2,60),l=0;l+(o[s]||8224)<=8224;)l+=o[s]||8224,s++;c.write_shift(2,l),e.push(n.slice(a,a+l)),a+=l}}}(h,252,function(e){var t=Y$(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=wY(e[r]);var i=sG([t].concat(n));return i.parts=[t.length].concat(n.map(function(e){return e.length})),i}(n.Strings)),rJ(h,10);var f=h.end(),d=K$(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var g=u.length+p+f.length;for(m=0;m<e.SheetNames.length;++m){rJ(d,133,IY({pos:g,hs:(s[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},n)),g+=t[m].length}var v=d.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),f.length&&y.push(f),sG(y)}function fJ(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])lX(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=bq(yG)),e&&e.SSF&&(QG(),JG(e.SSF),n.revssf=lq(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,UJ(n),n.cellXfs=[],gZ(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=uJ(i,n,e);return r.unshift(hJ(e,r,n)),sG(r)}(e,t);case 4:case 3:case 2:return sJ(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function dJ(e,t,n,r){for(var i=e["!merges"]||[],o=[],s=t.s.c;s<=t.e.c;++s){for(var a=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>s||i[c].e.r<n||i[c].e.c<s)){if(i[c].s.r<n||i[c].s.c<s){a=-1;break}a=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(a<0)){var u=aX({r:n,c:s}),h=r.dense?(e[n]||[])[s]:e[u],f=h&&null!=h.v&&(h.h||Nq(h.w||(fX(h),h.w)||""))||"",d={};a>1&&(d.rowspan=a),l>1&&(d.colspan=l),r.editable?f='<span contenteditable="true">'+f+"</span>":h&&(d["data-t"]=h&&h.t||"z",null!=h.v&&(d["data-v"]=h.v),null!=h.z&&(d["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),d.id=(r.id||"sjs")+"-"+u,o.push(Gq("td",f,d))}}return"<tr>"+o.join("")+"</tr>"}function pJ(e,t){var n=t||{},r=null!=n.header?n.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',i=null!=n.footer?n.footer:"</body></html>",o=[r],s=lX(e["!ref"]);n.dense=Array.isArray(e),o.push(function(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}(0,0,n));for(var a=s.s.r;a<=s.e.r;++a)o.push(dJ(e,s,a,n));return o.push("</table>"+i),o.join("")}function mJ(e,t,n){var r=n||{},i=0,o=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var s="string"==typeof r.origin?sX(r.origin):r.origin;i=s.r,o=s.c}var a=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,a.length),c={s:{r:0,c:0},e:{r:i,c:o}};if(e["!ref"]){var u=lX(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==i&&(c.e.r=i=u.e.r+1)}var h=[],f=0,d=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,y=0,_=0;for(e["!cols"]||(e["!cols"]=[]);p<a.length&&m<l;++p){var b=a[p];if(vJ(b)){if(r.display)continue;d[m]={hidden:!0}}var x=b.children;for(g=v=0;g<x.length;++g){var w=x[g];if(!r.display||!vJ(w)){var S=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):Vq(w.innerHTML),E=w.getAttribute("data-z")||w.getAttribute("z");for(f=0;f<h.length;++f){var T=h[f];T.s.c==v+o&&T.s.r<m+i&&m+i<=T.e.r&&(v=T.e.c+1-o,f=-1)}_=+w.getAttribute("colspan")||1,((y=+w.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:m+i,c:v+o},e:{r:m+i+(y||1)-1,c:v+o+(_||1)-1}});var A={t:"s",v:S},M=w.getAttribute("data-t")||w.getAttribute("t")||"";null!=S&&(0==S.length?A.t=M||"z":r.raw||0==S.trim().length||"s"==M||("TRUE"===S?A={t:"b",v:!0}:"FALSE"===S?A={t:"b",v:!1}:isNaN(wq(S))?isNaN(Eq(S).getDate())||(A={t:"d",v:yq(S)},r.cellDates||(A={t:"n",v:uq(A.v)}),A.z=r.dateNF||yG[14]):A={t:"n",v:wq(S)})),void 0===A.z&&null!=E&&(A.z=E);var C="",O=w.getElementsByTagName("A");if(O&&O.length)for(var R=0;R<O.length&&(!O[R].hasAttribute("href")||"#"==(C=O[R].getAttribute("href")).charAt(0));++R);C&&"#"!=C.charAt(0)&&(A.l={Target:C}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+o]=A):e[aX({c:v+o,r:m+i})]=A,c.e.c<v+o&&(c.e.c=v+o),v+=_}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=cX(c),m>=l&&(e["!fullref"]=cX((c.e.r=a.length-p+m-1+i,c))),e}function gJ(e,t){return mJ((t||{}).dense?[]:{},e,t)}function vJ(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var yJ=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Wq({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Mq+t}}(),_J=function(){var e=function(e){return Iq(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n=function(n,r,i){var o=[];o.push('      <table:table table:name="'+Iq(r.SheetNames[i])+'" table:style-name="ta1">\n');var s=0,a=0,l=lX(n["!ref"]||"A1"),c=n["!merges"]||[],u=0,h=Array.isArray(n);if(n["!cols"])for(a=0;a<=l.e.c;++a)o.push("        <table:table-column"+(n["!cols"][a]?' table:style-name="co'+n["!cols"][a].ods+'"':"")+"></table:table-column>\n");var f="",d=n["!rows"]||[];for(s=0;s<l.s.r;++s)f=d[s]?' table:style-name="ro'+d[s].ods+'"':"",o.push("        <table:table-row"+f+"></table:table-row>\n");for(;s<=l.e.r;++s){for(f=d[s]?' table:style-name="ro'+d[s].ods+'"':"",o.push("        <table:table-row"+f+">\n"),a=0;a<l.s.c;++a)o.push(t);for(;a<=l.e.c;++a){var p=!1,m={},g="";for(u=0;u!=c.length;++u)if(!(c[u].s.c>a||c[u].s.r>s||c[u].e.c<a||c[u].e.r<s)){c[u].s.c==a&&c[u].s.r==s||(p=!0),m["table:number-columns-spanned"]=c[u].e.c-c[u].s.c+1,m["table:number-rows-spanned"]=c[u].e.r-c[u].s.r+1;break}if(p)o.push("          <table:covered-table-cell/>\n");else{var v=aX({r:s,c:a}),y=h?(n[s]||[])[a]:n[v];if(y&&y.f&&(m["table:formula"]=Iq(uZ(y.f)),y.F&&y.F.slice(0,v.length)==v)){var _=lX(y.F);m["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,m["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(y){switch(y.t){case"b":g=y.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=y.v?"true":"false";break;case"n":g=y.w||String(y.v||0),m["office:value-type"]="float",m["office:value"]=y.v||0;break;case"s":case"str":g=null==y.v?"":y.v,m["office:value-type"]="string";break;case"d":g=y.w||yq(y.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=yq(y.v).toISOString(),m["table:style-name"]="ce1";break;default:o.push(t);continue}var b=e(g);if(y.l&&y.l.Target){var x=y.l.Target;"#"==(x="#"==x.charAt(0)?"#"+hZ(x.slice(1)):x).charAt(0)||x.match(/^\w+:/)||(x="../"+x),b=Gq("text:a",b,{"xlink:href":x.replace(/&/g,"&amp;")})}o.push("          "+Gq("table:table-cell",Gq("text:p",b,{}),m)+"\n")}else o.push(t)}}o.push("        </table:table-row>\n")}return o.push("      </table:table>\n"),o.join("")};return function(e,t){var r=[Mq],i=Wq({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),o=Wq({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(r.push("<office:document"+i+o+">\n"),r.push(rY().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var i=t["!cols"][r];if(null==i.width&&null==i.wpx&&null==i.wch)continue;QY(i),i.ods=n;var o=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+o+'"/>\n'),e.push("  </style:style>\n"),++n}});var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var i=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var s=0;s!=e.SheetNames.length;++s)r.push(n(e.Sheets[e.SheetNames[s]],e,s));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==t.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function bJ(e,t){if("fods"==t.bookType)return _J(e,t);var n=Aq(),r="",i=[],o=[];return Tq(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Tq(n,r="content.xml",_J(e,t)),i.push([r,"text/xml"]),o.push([r,"ContentFile"]),Tq(n,r="styles.xml",yJ(e,t)),i.push([r,"text/xml"]),o.push([r,"StylesFile"]),Tq(n,r="meta.xml",Mq+rY()),i.push([r,"text/xml"]),o.push([r,"MetadataFile"]),Tq(n,r="manifest.rdf",function(e){var t=[Mq];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(tY(e[n][0],e[n][1])),t.push(nY("",e[n][0]));return t.push(tY("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(o)),i.push([r,"application/rdf+xml"]),Tq(n,r="META-INF/manifest.xml",function(e){var t=[Mq];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),n}function xJ(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function wJ(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):rG(zq(e))}function SJ(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}function EJ(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function TJ(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function AJ(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function MJ(e){for(var t=[],n=[0];n[0]<e.length;){var r,i=n[0],o=EJ(e,n),s=7&o,a=0;if(0==(o=Math.floor(o/8)))break;switch(s){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:a=4,r=e.slice(n[0],n[0]+a),n[0]+=a;break;case 1:a=8,r=e.slice(n[0],n[0]+a),n[0]+=a;break;case 2:a=EJ(e,n),r=e.slice(n[0],n[0]+a),n[0]+=a;break;default:throw new Error("PB Type ".concat(s," for Field ").concat(o," at offset ").concat(i))}var c={data:r,type:s};null==t[o]?t[o]=[c]:t[o].push(c)}return t}function CJ(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e){e.data&&(t.push(TJ(8*n+e.type)),2==e.type&&t.push(TJ(e.data.length)),t.push(e.data))})}),SJ(t)}function OJ(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=EJ(e,r),o=MJ(e.slice(r[0],r[0]+i));r[0]+=i;var s={id:AJ(o[1][0].data),messages:[]};o[2].forEach(function(t){var n=MJ(t.data),i=AJ(n[3][0].data);s.messages.push({meta:n,data:e.slice(r[0],r[0]+i)}),r[0]+=i}),(null==(t=o[3])?void 0:t[0])&&(s.merge=AJ(o[3][0].data)>>>0>0),n.push(s)}return n}function RJ(e){var t=[];return e.forEach(function(e){var n=[];n[1]=[{data:TJ(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:TJ(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(e){r.push(e.data),e.meta[3]=[{type:0,data:TJ(e.data.length)}],n[2].push({data:CJ(e.meta),type:2})});var i=CJ(n);t.push(TJ(i.length)),t.push(i),r.forEach(function(e){return t.push(e)})}),SJ(t)}function IJ(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=EJ(t,n),i=[];n[0]<t.length;){var o=3&t[n[0]];if(0!=o){var s=0,a=0;if(1==o?(a=4+(t[n[0]]>>2&7),s=(224&t[n[0]++])<<3,s|=t[n[0]++]):(a=1+(t[n[0]++]>>2),2==o?(s=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(s=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[SJ(i)],0==s)throw new Error("Invalid offset 0");if(s>i[0].length)throw new Error("Invalid offset beyond length");if(a>=s)for(i.push(i[0].slice(-s)),a-=s;a>=i[i.length-1].length;)i.push(i[i.length-1]),a-=i[i.length-1].length;i.push(i[0].slice(-s,-s+a))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=SJ(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function kJ(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(IJ(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return SJ(t)}function PJ(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var o=TJ(r),s=o.length;t.push(o),r<=60?(s++,t.push(new Uint8Array([r-1<<2]))):r<=256?(s+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(s+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(s+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(s+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),s+=r,i[0]=0,i[1]=255&s,i[2]=s>>8&255,i[3]=s>>16&255,n+=r}return SJ(t)}function NJ(e,t){var n=new Uint8Array(32),r=xJ(n),i=12,o=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var o=0;i>=1;++o,i/=256)e[t+o]=255&i;e[t+15]|=n>=0?0:128}(n,i,e.v),o|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),o|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,o,!0),n.slice(0,i)}function DJ(e,t){var n=new Uint8Array(32),r=xJ(n),i=12,o=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),o|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),o|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,o,!0),n.slice(0,i)}function LJ(e){return EJ(MJ(e)[1][0].data)}function FJ(e,t,n){var r,i,o,s;if(!(null==(r=e[6])?void 0:r[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(s=null==(o=e[8])?void 0:o[0])?void 0:s.data)&&AJ(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var a=0,l=xJ(e[7][0].data),c=0,u=[],h=xJ(e[4][0].data),f=0,d=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),h.setUint16(2*p,f,!0),typeof t[p]){case"string":m=NJ({t:"s",v:t[p]},n),g=DJ({t:"s",v:t[p]},n);break;case"number":m=NJ({t:"n",v:t[p]},n),g=DJ({t:"n",v:t[p]},n);break;case"boolean":m=NJ({t:"b",v:t[p]},n),g=DJ({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,d.push(g),f+=g.length,++a}else l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=TJ(a);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=SJ(u),e[3][0].data=SJ(d),a}function UJ(e){var t;(t=[["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]],function(e){for(var n=0;n!=t.length;++n){var r=t[n];void 0===e[r[0]]&&(e[r[0]]=r[1]),"n"===r[2]&&(e[r[0]]=Number(e[r[0]]))}})(e)}function BJ(e,t){return"ods"==t.bookType?bJ(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length;var r=lX(n["!ref"]);r.s.r=r.s.c=0,r.e.c>9&&(r.e.c=9),r.e.r>49&&(r.e.r=49);var i=$J(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&o.push(e)})});var s={},a=[],l=nq.read(t.numbers,{type:"base64"});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&OJ(kJ(t.content)).forEach(function(e){a.push(e.id),s[e.id]={deps:[],location:n,type:AJ(e.messages[0].meta[1][0].data)}})}),a.sort(function(e,t){return e-t});var c=a.filter(function(e){return e>1}).map(function(e){return[e,TJ(e)]});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&OJ(kJ(t.content)).forEach(function(e){e.messages.forEach(function(t){c.forEach(function(t){e.messages.some(function(e){return 11006!=AJ(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])})&&s[t[0]].deps.push(e.id)})})})});for(var u,h=nq.find(l,s[1].location),f=OJ(kJ(h.content)),d=0;d<f.length;++d){var p=f[d];1==p.id&&(u=p)}var m=LJ(MJ(u.messages[0].data)[1][0].data);for(f=OJ(kJ((h=nq.find(l,s[m].location)).content)),d=0;d<f.length;++d)(p=f[d]).id==m&&(u=p);for(m=LJ(MJ(u.messages[0].data)[2][0].data),f=OJ(kJ((h=nq.find(l,s[m].location)).content)),d=0;d<f.length;++d)(p=f[d]).id==m&&(u=p);for(m=LJ(MJ(u.messages[0].data)[2][0].data),f=OJ(kJ((h=nq.find(l,s[m].location)).content)),d=0;d<f.length;++d)(p=f[d]).id==m&&(u=p);var g=MJ(u.messages[0].data);g[6][0].data=TJ(r.e.r+1),g[7][0].data=TJ(r.e.c+1);for(var v=LJ(g[46][0].data),y=nq.find(l,s[v].location),_=OJ(kJ(y.content)),b=0;b<_.length&&_[b].id!=v;++b);if(_[b].id!=v)throw"Bad ColumnRowUIDMapArchive";var x=MJ(_[b].messages[0].data);x[1]=[],x[2]=[],x[3]=[];for(var w=0;w<=r.e.c;++w){var S=[];S[1]=S[2]=[{type:0,data:TJ(w+420690)}],x[1].push({type:2,data:CJ(S)}),x[2].push({type:0,data:TJ(w)}),x[3].push({type:0,data:TJ(w)})}x[4]=[],x[5]=[],x[6]=[];for(var E=0;E<=r.e.r;++E)(S=[])[1]=S[2]=[{type:0,data:TJ(E+726270)}],x[4].push({type:2,data:CJ(S)}),x[5].push({type:0,data:TJ(E)}),x[6].push({type:0,data:TJ(E)});_[b].messages[0].data=CJ(x),y.content=PJ(RJ(_)),y.size=y.content.length,delete g[46];var T=MJ(g[4][0].data);T[7][0].data=TJ(r.e.r+1);var A=LJ(MJ(T[1][0].data)[2][0].data);if((_=OJ(kJ((y=nq.find(l,s[A].location)).content)))[0].id!=A)throw"Bad HeaderStorageBucket";var M=MJ(_[0].messages[0].data);for(E=0;E<i.length;++E){var C=MJ(M[2][0].data);C[1][0].data=TJ(E),C[4][0].data=TJ(i[E].length),M[2][E]={type:M[2][0].type,data:CJ(C)}}_[0].messages[0].data=CJ(M),y.content=PJ(RJ(_)),y.size=y.content.length;var O=LJ(T[2][0].data);if((_=OJ(kJ((y=nq.find(l,s[O].location)).content)))[0].id!=O)throw"Bad HeaderStorageBucket";for(M=MJ(_[0].messages[0].data),w=0;w<=r.e.c;++w)(C=MJ(M[2][0].data))[1][0].data=TJ(w),C[4][0].data=TJ(r.e.r+1),M[2][w]={type:M[2][0].type,data:CJ(C)};_[0].messages[0].data=CJ(M),y.content=PJ(RJ(_)),y.size=y.content.length;var R=LJ(T[4][0].data);!function(){for(var e,t=nq.find(l,s[R].location),n=OJ(kJ(t.content)),r=0;r<n.length;++r){var i=n[r];i.id==R&&(e=i)}var a=MJ(e.messages[0].data);a[3]=[];var c=[];o.forEach(function(e,t){c[1]=[{type:0,data:TJ(t)}],c[2]=[{type:0,data:TJ(1)}],c[3]=[{type:2,data:wJ(e)}],a[3].push({type:2,data:CJ(c)})}),e.messages[0].data=CJ(a);var u=PJ(RJ(n));t.content=u,t.size=t.content.length}();var I=MJ(T[3][0].data),k=I[1][0];delete I[2];var P=MJ(k.data),N=LJ(P[2][0].data);!function(){for(var e,t=nq.find(l,s[N].location),n=OJ(kJ(t.content)),a=0;a<n.length;++a){var c=n[a];c.id==N&&(e=c)}var u=MJ(e.messages[0].data);delete u[6],delete I[7];var h=new Uint8Array(u[5][0].data);u[5]=[];for(var f=0,d=0;d<=r.e.r;++d){var p=MJ(h);f+=FJ(p,i[d],o),p[1][0].data=TJ(d),u[5].push({data:CJ(p),type:2})}u[1]=[{type:0,data:TJ(r.e.c+1)}],u[2]=[{type:0,data:TJ(r.e.r+1)}],u[3]=[{type:0,data:TJ(f)}],u[4]=[{type:0,data:TJ(r.e.r+1)}],e.messages[0].data=CJ(u);var m=PJ(RJ(n));t.content=m,t.size=t.content.length}(),k.data=CJ(P),T[3][0].data=CJ(I),g[4][0].data=CJ(T),u.messages[0].data=CJ(g);var D=PJ(RJ(f));return h.content=D,h.size=h.content.length,l}(e,t):"xlsb"==t.bookType?function(e,t){bK=1024,e&&!e.SSF&&(e.SSF=bq(yG));e&&e.SSF&&(QG(),JG(e.SSF),t.revssf=lq(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fZ?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=AK.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};UJ(t=t||{});var o=Aq(),s="",a=0;t.cellXfs=[],gZ(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Tq(o,s="docProps/core.xml",sY(e.Props,t)),i.coreprops.push(s),eY(t.rels,2,s,ZX.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Tq(o,s,cY(e.Props)),i.extprops.push(s),eY(t.rels,3,s,ZX.EXT_PROPS),e.Custprops!==e.Props&&oq(e.Custprops||{}).length>0&&(Tq(o,s="docProps/custom.xml",uY(e.Custprops)),i.custprops.push(s),eY(t.rels,4,s,ZX.CUST_PROPS));for(a=1;a<=e.SheetNames.length;++a){var u={"!id":{}},h=e.Sheets[e.SheetNames[a-1]];(h||{})["!type"];if(Tq(o,s="xl/worksheets/sheet"+a+"."+n,WZ(a-1,s,t,e,u)),i.sheets.push(s),eY(t.wbrels,-1,"worksheets/sheet"+a+"."+n,ZX.WS[0]),h){var f=h["!comments"],d=!1,p="";f&&f.length>0&&(Tq(o,p="xl/comments"+a+"."+n,GZ(f,p)),i.comments.push(p),eY(u,-1,"../comments"+a+"."+n,ZX.CMNT),d=!0),h["!legacy"]&&d&&Tq(o,"xl/drawings/vmlDrawing"+a+".vml",xK(a,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Tq(o,JX(s),QX(u))}null!=t.Strings&&t.Strings.length>0&&(Tq(o,s="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?GY:HY)(e,n)}(t.Strings,s,t)),i.strs.push(s),eY(t.wbrels,-1,"sharedStrings."+n,ZX.SST));Tq(o,s="xl/workbook."+n,function(e,t){return(".bin"===t.slice(-4)?HZ:zZ)(e)}(e,s)),i.workbooks.push(s),eY(t.rels,1,s,ZX.WB),Tq(o,s="xl/theme/theme1.xml",vK(e.Themes,t)),i.themes.push(s),eY(t.wbrels,-1,"theme/theme1.xml",ZX.THEME),Tq(o,s="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?gK:rK)(e,n)}(e,s,t)),i.styles.push(s),eY(t.wbrels,-1,"styles."+n,ZX.STY),e.vbaraw&&r&&(Tq(o,s="xl/vbaProject.bin",e.vbaraw),i.vba.push(s),eY(t.wbrels,-1,"vbaProject.bin",ZX.VBA));return Tq(o,s="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?yK:_K)()}(s)),i.metadata.push(s),eY(t.wbrels,-1,"metadata."+n,ZX.XLMETA),Tq(o,"[Content_Types].xml",KX(i,t)),Tq(o,"_rels/.rels",QX(t.rels)),Tq(o,"xl/_rels/workbook."+n+".rels",QX(t.wbrels)),delete t.revssf,delete t.ssf,o}(e,t):function(e,t){bK=1024,e&&!e.SSF&&(e.SSF=bq(yG));e&&e.SSF&&(QG(),JG(e.SSF),t.revssf=lq(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,fZ?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=AK.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};UJ(t=t||{});var o=Aq(),s="",a=0;t.cellXfs=[],gZ(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Tq(o,s="docProps/core.xml",sY(e.Props,t)),i.coreprops.push(s),eY(t.rels,2,s,ZX.CORE_PROPS),s="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Tq(o,s,cY(e.Props)),i.extprops.push(s),eY(t.rels,3,s,ZX.EXT_PROPS),e.Custprops!==e.Props&&oq(e.Custprops||{}).length>0&&(Tq(o,s="docProps/custom.xml",uY(e.Custprops)),i.custprops.push(s),eY(t.rels,4,s,ZX.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,a=1;a<=e.SheetNames.length;++a){var h={"!id":{}},f=e.Sheets[e.SheetNames[a-1]];(f||{})["!type"];if(Tq(o,s="xl/worksheets/sheet"+a+"."+n,xZ(a-1,t,e,h)),i.sheets.push(s),eY(t.wbrels,-1,"worksheets/sheet"+a+"."+n,ZX.WS[0]),f){var d=f["!comments"],p=!1,m="";if(d&&d.length>0){var g=!1;d.forEach(function(e){e[1].forEach(function(e){1==e.T&&(g=!0)})}),g&&(Tq(o,m="xl/threadedComments/threadedComment"+a+"."+n,SK(d,u,t)),i.threadedcomments.push(m),eY(h,-1,"../threadedComments/threadedComment"+a+"."+n,ZX.TCMNT)),Tq(o,m="xl/comments"+a+"."+n,wK(d)),i.comments.push(m),eY(h,-1,"../comments"+a+"."+n,ZX.CMNT),p=!0}f["!legacy"]&&p&&Tq(o,"xl/drawings/vmlDrawing"+a+".vml",xK(a,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&Tq(o,JX(s),QX(h))}null!=t.Strings&&t.Strings.length>0&&(Tq(o,s="xl/sharedStrings."+n,HY(t.Strings,t)),i.strs.push(s),eY(t.wbrels,-1,"sharedStrings."+n,ZX.SST));Tq(o,s="xl/workbook."+n,zZ(e)),i.workbooks.push(s),eY(t.rels,1,s,ZX.WB),Tq(o,s="xl/theme/theme1.xml",vK(e.Themes,t)),i.themes.push(s),eY(t.wbrels,-1,"theme/theme1.xml",ZX.THEME),Tq(o,s="xl/styles."+n,rK(e,t)),i.styles.push(s),eY(t.wbrels,-1,"styles."+n,ZX.STY),e.vbaraw&&r&&(Tq(o,s="xl/vbaProject.bin",e.vbaraw),i.vba.push(s),eY(t.wbrels,-1,"vbaProject.bin",ZX.VBA));Tq(o,s="xl/metadata."+n,_K()),i.metadata.push(s),eY(t.wbrels,-1,"metadata."+n,ZX.XLMETA),u.length>1&&(Tq(o,s="xl/persons/person.xml",function(e){var t=[Mq,Gq("personList",null,{xmlns:Jq,"xmlns:x":s$[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,n){t.push(Gq("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(u)),i.people.push(s),eY(t.wbrels,-1,"persons/person.xml",ZX.PEOPLE));return Tq(o,"[Content_Types].xml",KX(i,t)),Tq(o,"_rels/.rels",QX(t.rels)),Tq(o,"xl/_rels/workbook."+n+".rels",QX(t.wbrels)),delete t.revssf,delete t.ssf,o}(e,t)}function zJ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return iq(t.file,nq.write(e,{type:QW?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return nq.write(e,t)}function VJ(e,t){var n=bq(t||{});return function(e,t){var n={},r=QW?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";t.compression&&(n.compression="DEFLATE");if(t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?nq.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!=typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(iG(i))}return t.password&&"undefined"!=typeof encrypt_agile?zJ(encrypt_agile(i,t.password),t):"file"===t.type?iq(t.file,i):"string"==t.type?Bq(i):i}(BJ(e,n),n)}function jJ(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return ZW(zq(r));case"binary":return zq(r);case"string":return e;case"file":return iq(t.file,r,"utf8");case"buffer":return QW?eG(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):jJ(r,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function HJ(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?ZW(n):"string"==t.type?Bq(n):n;case"file":return iq(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function WJ(e,t){qW(),BZ(e);var n=bq(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=WJ(e,n);return n.type="array",iG(r)}var i=0;if(n.sheet&&(i="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return jJ(ZZ(e,n),n);case"slk":case"sylk":return jJ(FY.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return jJ(pJ(e.Sheets[e.SheetNames[i]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return ZW(e);case"binary":case"string":return e;case"file":return iq(t.file,e,"binary");case"buffer":return QW?eG(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(ZJ(e.Sheets[e.SheetNames[i]],n),n);case"csv":return jJ(KJ(e.Sheets[e.SheetNames[i]],n),n,"\ufeff");case"dif":return jJ(UY.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return HJ(LY.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return jJ(zY.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return jJ($Y.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return jJ(BY.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return jJ(bJ(e,n),n);case"wk1":return HJ(VY.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return HJ(VY.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),HJ(fJ(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return zJ(tJ(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return VJ(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function GJ(e,t,n){var r={type:"file"};return r.file=t,function(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(r),WJ(e,r)}function qJ(e,t,n,r,i,o,s,a){var l=rX(n),c=a.defval,u=a.raw||!Object.prototype.hasOwnProperty.call(a,"raw"),h=!0,f=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:n,enumerable:!1})}catch(vme){f.__rowNum__=n}else f.__rowNum__=n;if(!s||e[n])for(var d=t.s.c;d<=t.e.c;++d){var p=s?e[n][d]:e[r[d]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=o[d]){if(null==m)if("e"==p.t&&null===m)f[o[d]]=null;else if(void 0!==c)f[o[d]]=c;else{if(!u||null!==m)continue;f[o[d]]=null}else f[o[d]]=u&&("n"!==p.t||"n"===p.t&&!1!==a.rawNumbers)?m:fX(p,m,a);null!=m&&(h=!1)}}else{if(void 0===c)continue;null!=o[d]&&(f[o[d]]=c)}}return{row:f,isempty:h}}function $J(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,o=[],s=0,a="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=uX(u);break;case"number":(l=uX(e["!ref"])).s.r=u;break;default:l=u}r>0&&(i=0);var h=rX(l.s.r),f=[],d=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,y=0,_={};g&&!e[v]&&(e[v]=[]);var b=c.skipHidden&&e["!cols"]||[],x=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(f[y]=oX(y),n=g?e[v][y]:e[f[y]+h],r){case 1:o[y]=y-l.s.c;break;case 2:o[y]=f[y];break;case 3:o[y]=c.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),a=s=fX(n,null,c),m=_[s]||0){do{a=s+"_"+m++}while(_[a]);_[s]=m,_[a]=1}else _[s]=1;o[y]=a}for(v=l.s.r+i;v<=l.e.r;++v)if(!(x[v]||{}).hidden){var w=qJ(e,l,v,f,r,o,g,c);(!1===w.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(d[p++]=w.row)}return d.length=p,d}var XJ=/"/g;function YJ(e,t,n,r,i,o,s,a){for(var l=!0,c=[],u="",h=rX(n),f=t.s.c;f<=t.e.c;++f)if(r[f]){var d=a.dense?(e[n]||[])[f]:e[r[f]+h];if(null==d)u="";else if(null!=d.v){l=!1,u=""+(a.rawNumbers&&"n"==d.t?d.v:fX(d,null,a));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===i||m===o||34===m||a.forceQuotes){u='"'+u.replace(XJ,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==d.f||d.F?u="":(l=!1,(u="="+d.f).indexOf(",")>=0&&(u='"'+u.replace(XJ,'""')+'"'));c.push(u)}return!1===a.blankrows&&l?null:c.join(s)}function KJ(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=uX(e["!ref"]),o=void 0!==r.FS?r.FS:",",s=o.charCodeAt(0),a=void 0!==r.RS?r.RS:"\n",l=a.charCodeAt(0),c=new RegExp(("|"==o?"\\|":o)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var f=r.skipHidden&&e["!cols"]||[],d=r.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(f[p]||{}).hidden||(h[p]=oX(p));for(var m=0,g=i.s.r;g<=i.e.r;++g)(d[g]||{}).hidden||null!=(u=YJ(e,i,g,h,s,l,o,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((m++?a:"")+u));return delete r.dense,n.join("")}function ZJ(e,t){return t||(t={}),t.FS="\t",t.RS="\n",KJ(e,t)}function JJ(e,t,n){var r,i=n||{},o=+!i.skipHeader,s=e||{},a=0,l=0;if(s&&null!=i.origin)if("number"==typeof i.origin)a=i.origin;else{var c="string"==typeof i.origin?sX(i.origin):i.origin;a=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:a+t.length-1+o}};if(s["!ref"]){var h=uX(s["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==a&&(a=h.e.r+1,u.e.r=a+t.length-1+o)}else-1==a&&(a=0,u.e.r=t.length-1+o);var f=i.header||[],d=0;t.forEach(function(e,t){oq(e).forEach(function(n){-1==(d=f.indexOf(n))&&(f[d=f.length]=n);var c=e[n],u="z",h="",p=aX({c:l+d,r:a+t+o});r=QJ(s,p),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",i.cellDates||(u="n",c=uq(c)),h=i.dateNF||yG[14]):null===c&&i.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,h&&(r.z=h)):s[p]=r={t:u,v:c},h&&(r.z=h)):s[p]=c})}),u.e.c=Math.max(u.e.c,l+f.length-1);var p=rX(a);if(o)for(d=0;d<f.length;++d)s[oX(d+l)+p]={t:"s",v:f[d]};return s["!ref"]=cX(u),s}function QJ(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=sX(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return QJ(e,aX("number"!=typeof t?t:{r:t,c:n||0}))}function eQ(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var tQ={encode_col:oX,encode_row:rX,encode_cell:aX,encode_range:cX,decode_col:iX,decode_row:nX,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:sX,decode_range:lX,format_cell:fX,sheet_add_aoa:pX,sheet_add_json:JJ,sheet_add_dom:mJ,aoa_to_sheet:mX,json_to_sheet:function(e,t){return JJ(null,e,t)},table_to_sheet:gJ,table_to_book:function(e,t){return dX(gJ(e,t),t)},sheet_to_csv:KJ,sheet_to_txt:ZJ,sheet_to_json:$J,sheet_to_html:pJ,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,o=uX(e["!ref"]),s="",a=[],l=[],c=Array.isArray(e);for(i=o.s.c;i<=o.e.c;++i)a[i]=oX(i);for(var u=o.s.r;u<=o.e.r;++u)for(s=rX(u),i=o.s.c;i<=o.e.c;++i)if(n=a[i]+s,r="",void 0!==(t=c?(e[u]||[])[i]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:$J,sheet_get_cell:QJ,book_new:function(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var s=o&&o[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=s+i);++i);}if(UZ(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n},book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:eQ,cell_set_internal_link:function(e,t,n){return eQ(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var i="string"!=typeof t?t:uX(t),o="string"==typeof t?t:cX(t),s=i.s.r;s<=i.e.r;++s)for(var a=i.s.c;a<=i.e.c;++a){var l=QJ(e,s,a);l.t="n",l.F=o,delete l.v,s==i.s.r&&a==i.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},nQ=Object.defineProperty,rQ=Object.getOwnPropertySymbols,iQ=Object.prototype.hasOwnProperty,oQ=Object.prototype.propertyIsEnumerable,sQ=(e,t,n)=>t in e?nQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aQ=(e,t)=>{for(var n in t||(t={}))iQ.call(t,n)&&sQ(e,n,t[n]);if(rQ)for(var n of rQ(t))oQ.call(t,n)&&sQ(e,n,t[n]);return e},lQ=(e,t)=>{var n={};for(var r in e)iQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&rQ)for(var r of rQ(e))t.indexOf(r)<0&&oQ.call(e,r)&&(n[r]=e[r]);return n};function cQ(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function uQ(e,t){return Array.isArray(e)&&e.splice(t,1),e}function hQ(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function fQ(e,t,n){const r=e.children[n];e.insertBefore(t,r)}function dQ(e){e.parentNode&&e.parentNode.removeChild(e)}function pQ(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}const mQ=Object.assign;function gQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gQ(Object(n),!0).forEach(function(t){_Q(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yQ(e){return(yQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bQ(){return bQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bQ.apply(this,arguments)}function xQ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wQ(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var SQ=wQ(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),EQ=wQ(/Edge/i),TQ=wQ(/firefox/i),AQ=wQ(/safari/i)&&!wQ(/chrome/i)&&!wQ(/android/i),MQ=wQ(/iP(ad|od|hone)/i),CQ=wQ(/chrome/i)&&wQ(/android/i),OQ={capture:!1,passive:!1};function RQ(e,t,n){e.addEventListener(t,n,!SQ&&OQ)}function IQ(e,t,n){e.removeEventListener(t,n,!SQ&&OQ)}function kQ(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(AI){return!1}return!1}}function PQ(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function NQ(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&kQ(e,t):kQ(e,t))||r&&e===n)return e;if(e===n)break}while(e=PQ(e))}return null}var DQ,LQ=/\s+/g;function FQ(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(LQ," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(LQ," ")}}function UQ(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];!(t in r)&&-1===t.indexOf("webkit")&&(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function BQ(e,t){var n="";if("string"==typeof e)n=e;else do{var r=UQ(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function zQ(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function VQ(){return document.scrollingElement||document.documentElement}function jQ(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,s,a,l,c,u,h;if(e!==window&&e.parentNode&&e!==VQ()?(s=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!SQ))do{if(i&&i.getBoundingClientRect&&("none"!==UQ(i,"transform")||n&&"static"!==UQ(i,"position"))){var f=i.getBoundingClientRect();s-=f.top+parseInt(UQ(i,"border-top-width")),a-=f.left+parseInt(UQ(i,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var d=BQ(i||e),p=d&&d.a,m=d&&d.d;d&&(l=(s/=m)+(u/=m),c=(a/=p)+(h/=p))}return{top:s,left:a,bottom:l,right:c,width:h,height:u}}}function HQ(e,t,n){for(var r=XQ(e,!0),i=jQ(e)[t];r;){if(!(i>=jQ(r)[n]))return r;if(r===VQ())break;r=XQ(r,!1)}return!1}function WQ(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==J0.ghost&&(r||s[o]!==J0.dragged)&&NQ(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function GQ(e,t){for(var n=e.lastElementChild;n&&(n===J0.ghost||"none"===UQ(n,"display")||t&&!kQ(n,t));)n=n.previousElementSibling;return n||null}function qQ(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==J0.clone&&(!t||kQ(e,t))&&n++;return n}function $Q(e){var t=0,n=0,r=VQ();if(e)do{var i=BQ(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function XQ(e,t){if(!e||!e.getBoundingClientRect)return VQ();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=UQ(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return VQ();if(r||t)return n;r=!0}}}while(n=n.parentNode);return VQ()}function YQ(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function KQ(e,t){return function(){if(!DQ){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),DQ=setTimeout(function(){DQ=void 0},t)}}}function ZQ(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function JQ(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function QQ(e,t,n){var r={};return Array.from(e.children).forEach(function(i){var o,s,a,l;if(NQ(i,t.draggable,e,!1)&&!i.animated&&i!==n){var c=jQ(i);r.left=Math.min(null!==(o=r.left)&&void 0!==o?o:1/0,c.left),r.top=Math.min(null!==(s=r.top)&&void 0!==s?s:1/0,c.top),r.right=Math.max(null!==(a=r.right)&&void 0!==a?a:-1/0,c.right),r.bottom=Math.max(null!==(l=r.bottom)&&void 0!==l?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var e0="Sortable"+(new Date).getTime();function t0(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==UQ(e,"display")&&e!==J0.ghost){t.push({target:e,rect:jQ(e)});var n=vQ({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=BQ(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach(function(e){var t=0,n=e.target,s=n.fromRect,a=jQ(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,h=BQ(n,!0);h&&(a.top-=h.f,a.left-=h.e),n.toRect=a,n.thisAnimationDuration&&YQ(l,a)&&!YQ(s,a)&&(u.top-a.top)/(u.left-a.left)===(s.top-a.top)/(s.left-a.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),YQ(a,s)||(n.prevFromRect=s,n.prevToRect=a,t||(t=r.options.animation),r.animate(n,u,a,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(e),i?e=setTimeout(function(){"function"==typeof n&&n()},o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){UQ(e,"transition",""),UQ(e,"transform","");var i=BQ(this.el),o=i&&i.a,s=i&&i.d,a=(t.left-n.left)/(o||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,UQ(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),UQ(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),UQ(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){UQ(e,"transition",""),UQ(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}var n0=[],r0={initializeByDefault:!0},i0={mount:function(e){for(var t in r0)r0.hasOwnProperty(t)&&!(t in e)&&(e[t]=r0[t]);n0.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),n0.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";n0.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](vQ({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](vQ({sortable:t},n)))})},initializePlugins:function(e,t,n,r){for(var i in n0.forEach(function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,bQ(n,o.defaults)}}),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return n0.forEach(function(r){"function"==typeof r.eventProperties&&bQ(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return n0.forEach(function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))}),r}};var o0=["evt"],s0=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=xQ(n,o0);i0.pluginEvent.bind(J0)(e,t,vQ({dragEl:l0,parentEl:c0,ghostEl:u0,rootEl:h0,nextEl:f0,lastDownEl:d0,cloneEl:p0,cloneHidden:m0,dragStarted:C0,putSortable:x0,activeSortable:J0.active,originalEvent:r,oldIndex:g0,oldDraggableIndex:y0,newIndex:v0,newDraggableIndex:_0,hideGhostForTarget:X0,unhideGhostForTarget:Y0,cloneNowHidden:function(){m0=!0},cloneNowShown:function(){m0=!1},dispatchSortableEvent:function(e){a0({sortable:t,name:e,originalEvent:r})}},i))};function a0(e){!function(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,d=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[e0]){var m,g=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||SQ||EQ?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=s||n,m.from=a||n,m.item=i||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=f,m.pullMode=d?d.lastPutMode:void 0;var y=vQ(vQ({},p),i0.getEventProperties(r,t));for(var _ in y)m[_]=y[_];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(vQ({putSortable:x0,cloneEl:p0,targetEl:l0,rootEl:h0,oldIndex:g0,oldDraggableIndex:y0,newIndex:v0,newDraggableIndex:_0},e))}var l0,c0,u0,h0,f0,d0,p0,m0,g0,v0,y0,_0,b0,x0,w0,S0,E0,T0,A0,M0,C0,O0,R0,I0,k0,P0=!1,N0=!1,D0=[],L0=!1,F0=!1,U0=[],B0=!1,z0=[],V0="undefined"!=typeof document,j0=MQ,H0=EQ||SQ?"cssFloat":"float",W0=V0&&!CQ&&!MQ&&"draggable"in document.createElement("div"),G0=function(){if(V0){if(SQ)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),q0=function(e,t){var n=UQ(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=WQ(e,0,t),o=WQ(e,1,t),s=i&&UQ(i),a=o&&UQ(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+jQ(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+jQ(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=r&&"none"===n[H0]||o&&"none"===n[H0]&&l+c>r)?"vertical":"horizontal"},$0=function(e){function t(e,n){return function(r,i,o,s){var a=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,s),n)(r,i,o,s);var l=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;(!r||"object"!=yQ(r))&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},X0=function(){!G0&&u0&&UQ(u0,"display","none")},Y0=function(){!G0&&u0&&UQ(u0,"display","")};V0&&!CQ&&document.addEventListener("click",function(e){if(N0)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),N0=!1,!1},!0);var K0=function(e){if(l0){var t=function(e,t){var n;return D0.some(function(r){var i=r[e0].options.emptyInsertThreshold;if(i&&!GQ(r)){var o=jQ(r),s=e>=o.left-i&&e<=o.right+i,a=t>=o.top-i&&t<=o.bottom+i;if(s&&a)return n=r}}),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[e0]._onDragOver(n)}}},Z0=function(e){l0&&l0.parentNode[e0]._isOutsideThisEl(e.target)};function J0(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=bQ({},t),e[e0]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return q0(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==J0.supportPointer&&"PointerEvent"in window&&!AQ,emptyInsertThreshold:5};for(var r in i0.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in $0(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&W0,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?RQ(e,"pointerdown",this._onTapStart):(RQ(e,"mousedown",this._onTapStart),RQ(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(RQ(e,"dragover",this),RQ(e,"dragenter",this)),D0.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),bQ(this,t0())}function Q0(e,t,n,r,i,o,s,a){var l,c,u=e[e0],h=u.options.onMove;return!window.CustomEvent||SQ||EQ?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||jQ(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),h&&(c=h.call(u,l,s)),c}function e1(e){e.draggable=!1}function t1(){B0=!1}function n1(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function r1(e){return setTimeout(e,0)}function i1(e){return clearTimeout(e)}J0.prototype={constructor:J0,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(O0=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,l0):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=r.filter;if(function(e){z0.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&z0.push(r)}}(n),!l0&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!AQ||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=NQ(a,r.draggable,n,!1))&&a.animated||d0===a)){if(g0=qQ(a),y0=qQ(a,r.draggable),"function"==typeof c){if(c.call(this,e,a,this))return a0({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),s0("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(r){if(r=NQ(l,r.trim(),n,!1))return a0({sortable:t,rootEl:r,name:"filter",targetEl:a,fromEl:n,toEl:n}),s0("filter",t,{evt:e}),!0})))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!NQ(l,r.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,s=i.options,a=o.ownerDocument;if(n&&!l0&&n.parentNode===o){var l=jQ(n);if(h0=o,c0=(l0=n).parentNode,f0=l0.nextSibling,d0=n,b0=s.group,J0.dragged=l0,w0={target:l0,clientX:(t||e).clientX,clientY:(t||e).clientY},A0=w0.clientX-l.left,M0=w0.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,l0.style["will-change"]="all",r=function(){s0("delayEnded",i,{evt:e}),J0.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!TQ&&i.nativeDraggable&&(l0.draggable=!0),i._triggerDragStart(e,t),a0({sortable:i,name:"choose",originalEvent:e}),FQ(l0,s.chosenClass,!0))},s.ignore.split(",").forEach(function(e){zQ(l0,e.trim(),e1)}),RQ(a,"dragover",K0),RQ(a,"mousemove",K0),RQ(a,"touchmove",K0),RQ(a,"mouseup",i._onDrop),RQ(a,"touchend",i._onDrop),RQ(a,"touchcancel",i._onDrop),TQ&&this.nativeDraggable&&(this.options.touchStartThreshold=4,l0.draggable=!0),s0("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&(EQ||SQ))r();else{if(J0.eventCanceled)return void this._onDrop();RQ(a,"mouseup",i._disableDelayedDrag),RQ(a,"touchend",i._disableDelayedDrag),RQ(a,"touchcancel",i._disableDelayedDrag),RQ(a,"mousemove",i._delayedDragTouchMoveHandler),RQ(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&RQ(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){l0&&e1(l0),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;IQ(e,"mouseup",this._disableDelayedDrag),IQ(e,"touchend",this._disableDelayedDrag),IQ(e,"touchcancel",this._disableDelayedDrag),IQ(e,"mousemove",this._delayedDragTouchMoveHandler),IQ(e,"touchmove",this._delayedDragTouchMoveHandler),IQ(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?RQ(document,"pointermove",this._onTouchMove):RQ(document,t?"touchmove":"mousemove",this._onTouchMove):(RQ(l0,"dragend",this),RQ(h0,"dragstart",this._onDragStart));try{document.selection?r1(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(P0=!1,h0&&l0){s0("dragStarted",this,{evt:t}),this.nativeDraggable&&RQ(document,"dragover",Z0);var n=this.options;!e&&FQ(l0,n.dragClass,!1),FQ(l0,n.ghostClass,!0),J0.active=this,e&&this._appendGhost(),a0({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(S0){this._lastX=S0.clientX,this._lastY=S0.clientY,X0();for(var e=document.elementFromPoint(S0.clientX,S0.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(S0.clientX,S0.clientY))!==t;)t=e;if(l0.parentNode[e0]._isOutsideThisEl(e),t)do{if(t[e0]){if(t[e0]._onDragOver({clientX:S0.clientX,clientY:S0.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Y0()}},_onTouchMove:function(e){if(w0){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=u0&&BQ(u0,!0),s=u0&&o&&o.a,a=u0&&o&&o.d,l=j0&&k0&&$Q(k0),c=(i.clientX-w0.clientX+r.x)/(s||1)+(l?l[0]-U0[0]:0)/(s||1),u=(i.clientY-w0.clientY+r.y)/(a||1)+(l?l[1]-U0[1]:0)/(a||1);if(!J0.active&&!P0){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(u0){o?(o.e+=c-(E0||0),o.f+=u-(T0||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");UQ(u0,"webkitTransform",h),UQ(u0,"mozTransform",h),UQ(u0,"msTransform",h),UQ(u0,"transform",h),E0=c,T0=u,S0=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!u0){var e=this.options.fallbackOnBody?document.body:h0,t=jQ(l0,!0,j0,!0,e),n=this.options;if(j0){for(k0=e;"static"===UQ(k0,"position")&&"none"===UQ(k0,"transform")&&k0!==document;)k0=k0.parentNode;k0!==document.body&&k0!==document.documentElement?(k0===document&&(k0=VQ()),t.top+=k0.scrollTop,t.left+=k0.scrollLeft):k0=VQ(),U0=$Q(k0)}FQ(u0=l0.cloneNode(!0),n.ghostClass,!1),FQ(u0,n.fallbackClass,!0),FQ(u0,n.dragClass,!0),UQ(u0,"transition",""),UQ(u0,"transform",""),UQ(u0,"box-sizing","border-box"),UQ(u0,"margin",0),UQ(u0,"top",t.top),UQ(u0,"left",t.left),UQ(u0,"width",t.width),UQ(u0,"height",t.height),UQ(u0,"opacity","0.8"),UQ(u0,"position",j0?"absolute":"fixed"),UQ(u0,"zIndex","100000"),UQ(u0,"pointerEvents","none"),J0.ghost=u0,e.appendChild(u0),UQ(u0,"transform-origin",A0/parseInt(u0.style.width)*100+"% "+M0/parseInt(u0.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;s0("dragStart",this,{evt:e}),J0.eventCanceled?this._onDrop():(s0("setupClone",this),J0.eventCanceled||((p0=JQ(l0)).removeAttribute("id"),p0.draggable=!1,p0.style["will-change"]="",this._hideClone(),FQ(p0,this.options.chosenClass,!1),J0.clone=p0),n.cloneId=r1(function(){s0("clone",n),!J0.eventCanceled&&(n.options.removeCloneOnHide||h0.insertBefore(p0,l0),n._hideClone(),a0({sortable:n,name:"clone"}))}),!t&&FQ(l0,i.dragClass,!0),t?(N0=!0,n._loopId=setInterval(n._emulateDragOver,50)):(IQ(document,"mouseup",n._onDrop),IQ(document,"touchend",n._onDrop),IQ(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,l0)),RQ(document,"drop",n),UQ(l0,"transform","translateZ(0)")),P0=!0,n._dragStartId=r1(n._dragStarted.bind(n,t,e)),RQ(document,"selectstart",n),C0=!0,AQ&&UQ(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,s=e.target,a=this.options,l=a.group,c=J0.active,u=b0===l,h=a.sort,f=x0||c,d=this,p=!1;if(!B0){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=NQ(s,a.draggable,o,!0),O("dragOver"),J0.eventCanceled)return p;if(l0.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||d._ignoreWhileAnimating===s)return I(!1);if(N0=!1,c&&!a.disabled&&(u?h||(r=c0!==h0):x0===this||(this.lastPutMode=b0.checkPull(this,c,l0,e))&&l.checkPut(this,c,l0,e))){if(i="vertical"===this._getDirection(e,s),t=jQ(l0),O("dragOverValid"),J0.eventCanceled)return p;if(r)return c0=h0,R(),this._hideClone(),O("revert"),J0.eventCanceled||(f0?h0.insertBefore(l0,f0):h0.appendChild(l0)),I(!0);var m=GQ(o,a.draggable);if(!m||function(e,t,n){var r=jQ(GQ(n.el,n.options.draggable)),i=QQ(n.el,n.options,u0),o=10;return t?e.clientX>i.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+o||e.clientX>r.right&&e.clientY>r.top}(e,i,this)&&!m.animated){if(m===l0)return I(!1);if(m&&o===e.target&&(s=m),s&&(n=jQ(s)),!1!==Q0(h0,o,l0,t,s,n,e,!!s))return R(),m&&m.nextSibling?o.insertBefore(l0,m.nextSibling):o.appendChild(l0),c0=o,k(),I(!0)}else if(m&&function(e,t,n){var r=jQ(WQ(n.el,0,n.options,!0)),i=QQ(n.el,n.options,u0),o=10;return t?e.clientX<i.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-o||e.clientY<r.bottom&&e.clientX<r.left}(e,i,this)){var g=WQ(o,0,a,!0);if(g===l0)return I(!1);if(n=jQ(s=g),!1!==Q0(h0,o,l0,t,s,n,e,!1))return R(),o.insertBefore(l0,g),c0=o,k(),I(!0)}else if(s.parentNode===o){n=jQ(s);var v,y,_,b=l0.parentNode!==o,x=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return r===s||i===a||r+o/2===s+l/2}(l0.animated&&l0.toRect||t,s.animated&&s.toRect||n,i),w=i?"top":"left",S=HQ(s,"top","top")||HQ(l0,"top","top"),E=S?S.scrollTop:void 0;if(O0!==s&&(y=n[w],L0=!1,F0=!x&&a.invertSwap||b),v=function(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!s)if(a&&I0<c*i){if(!L0&&(1===R0?l>u+c*o/2:l<h-c*o/2)&&(L0=!0),L0)f=!0;else if(1===R0?l<u+I0:l>h-I0)return-R0}else if(l>u+c*(1-i)/2&&l<h-c*(1-i)/2)return function(e){return qQ(l0)<qQ(e)?1:-1}(t);return f=f||s,f&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}(e,s,n,i,x?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,F0,O0===s),0!==v){var T=qQ(l0);do{T-=v,_=c0.children[T]}while(_&&("none"===UQ(_,"display")||_===u0))}if(0===v||_===s)return I(!1);O0=s,R0=v;var A=s.nextElementSibling,M=!1,C=Q0(h0,o,l0,t,s,n,e,M=1===v);if(!1!==C)return(1===C||-1===C)&&(M=1===C),B0=!0,setTimeout(t1,30),R(),M&&!A?o.appendChild(l0):s.parentNode.insertBefore(l0,M?A:s),S&&ZQ(S,0,E-S.scrollTop),c0=l0.parentNode,void 0!==y&&!F0&&(I0=Math.abs(y-jQ(s)[w])),k(),I(!0)}if(o.contains(l0))return I(!1)}return!1}function O(a,l){s0(a,d,vQ({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:s,completed:I,onMove:function(n,r){return Q0(h0,o,l0,t,n,jQ(n),e,r)},changed:k},l))}function R(){O("dragOverAnimationCapture"),d.captureAnimationState(),d!==f&&f.captureAnimationState()}function I(t){return O("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(d),d!==f&&(FQ(l0,x0?x0.options.ghostClass:c.options.ghostClass,!1),FQ(l0,a.ghostClass,!0)),x0!==d&&d!==J0.active?x0=d:d===J0.active&&x0&&(x0=null),f===d&&(d._ignoreWhileAnimating=s),d.animateAll(function(){O("dragOverAnimationComplete"),d._ignoreWhileAnimating=null}),d!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===l0&&!l0.animated||s===o&&!s.animated)&&(O0=null),!a.dragoverBubble&&!e.rootEl&&s!==document&&(l0.parentNode[e0]._isOutsideThisEl(e.target),!t&&K0(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function k(){v0=qQ(l0),_0=qQ(l0,a.draggable),a0({sortable:d,name:"change",toEl:o,newIndex:v0,newDraggableIndex:_0,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){IQ(document,"mousemove",this._onTouchMove),IQ(document,"touchmove",this._onTouchMove),IQ(document,"pointermove",this._onTouchMove),IQ(document,"dragover",K0),IQ(document,"mousemove",K0),IQ(document,"touchmove",K0)},_offUpEvents:function(){var e=this.el.ownerDocument;IQ(e,"mouseup",this._onDrop),IQ(e,"touchend",this._onDrop),IQ(e,"pointerup",this._onDrop),IQ(e,"touchcancel",this._onDrop),IQ(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;v0=qQ(l0),_0=qQ(l0,n.draggable),s0("drop",this,{evt:e}),c0=l0&&l0.parentNode,v0=qQ(l0),_0=qQ(l0,n.draggable),J0.eventCanceled||(P0=!1,F0=!1,L0=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),i1(this.cloneId),i1(this._dragStartId),this.nativeDraggable&&(IQ(document,"drop",this),IQ(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),AQ&&UQ(document.body,"user-select",""),UQ(l0,"transform",""),e&&(C0&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),u0&&u0.parentNode&&u0.parentNode.removeChild(u0),(h0===c0||x0&&"clone"!==x0.lastPutMode)&&p0&&p0.parentNode&&p0.parentNode.removeChild(p0),l0&&(this.nativeDraggable&&IQ(l0,"dragend",this),e1(l0),l0.style["will-change"]="",C0&&!P0&&FQ(l0,x0?x0.options.ghostClass:this.options.ghostClass,!1),FQ(l0,this.options.chosenClass,!1),a0({sortable:this,name:"unchoose",toEl:c0,newIndex:null,newDraggableIndex:null,originalEvent:e}),h0!==c0?(v0>=0&&(a0({rootEl:c0,name:"add",toEl:c0,fromEl:h0,originalEvent:e}),a0({sortable:this,name:"remove",toEl:c0,originalEvent:e}),a0({rootEl:c0,name:"sort",toEl:c0,fromEl:h0,originalEvent:e}),a0({sortable:this,name:"sort",toEl:c0,originalEvent:e})),x0&&x0.save()):v0!==g0&&v0>=0&&(a0({sortable:this,name:"update",toEl:c0,originalEvent:e}),a0({sortable:this,name:"sort",toEl:c0,originalEvent:e})),J0.active&&((null==v0||-1===v0)&&(v0=g0,_0=y0),a0({sortable:this,name:"end",toEl:c0,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){s0("nulling",this),h0=l0=c0=u0=f0=p0=d0=m0=w0=S0=C0=v0=_0=g0=y0=O0=R0=x0=b0=J0.dragged=J0.ghost=J0.clone=J0.active=null,z0.forEach(function(e){e.checked=!0}),z0.length=E0=T0=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":l0&&(this._onDragOver(e),(t=e).dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault());break;case"selectstart":e.preventDefault()}var t},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)NQ(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||n1(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(e,t){var i=r.children[t];NQ(i,this.options.draggable,r,!1)&&(n[e]=i)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return NQ(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=i0.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&$0(n)},destroy:function(){s0("destroy",this);var e=this.el;e[e0]=null,IQ(e,"mousedown",this._onTapStart),IQ(e,"touchstart",this._onTapStart),IQ(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(IQ(e,"dragover",this),IQ(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),D0.splice(D0.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!m0){if(s0("hideClone",this),J0.eventCanceled)return;UQ(p0,"display","none"),this.options.removeCloneOnHide&&p0.parentNode&&p0.parentNode.removeChild(p0),m0=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(m0){if(s0("showClone",this),J0.eventCanceled)return;l0.parentNode!=h0||this.options.group.revertClone?f0?h0.insertBefore(p0,f0):h0.appendChild(p0):h0.insertBefore(p0,l0),this.options.group.revertClone&&this.animate(l0,p0),UQ(p0,"display",""),m0=!1}}else this._hideClone()}},V0&&RQ(document,"touchmove",function(e){(J0.active||P0)&&e.cancelable&&e.preventDefault()}),J0.utils={on:RQ,off:IQ,css:UQ,find:zQ,is:function(e,t){return!!NQ(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:KQ,closest:NQ,toggleClass:FQ,clone:JQ,index:qQ,nextTick:r1,cancelNextTick:i1,detectDirection:q0,getChild:WQ},J0.get=function(e){return e[e0]},J0.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(J0.utils=vQ(vQ({},J0.utils),e.utils)),i0.mount(e)})},J0.create=function(e,t){return new J0(e,t)},J0.version="1.15.2";var o1,s1,a1,l1,c1,u1,h1=[],f1=!1;function d1(){h1.forEach(function(e){clearInterval(e.pid)}),h1=[]}function p1(){clearInterval(u1)}var m1=KQ(function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=VQ(),u=!1;s1!==n&&(s1=n,d1(),o1=t.scroll,i=t.scrollFn,!0===o1&&(o1=XQ(n,!0)));var h=0,f=o1;do{var d=f,p=jQ(d),m=p.top,g=p.bottom,v=p.left,y=p.right,_=p.width,b=p.height,x=void 0,w=void 0,S=d.scrollWidth,E=d.scrollHeight,T=UQ(d),A=d.scrollLeft,M=d.scrollTop;d===c?(x=_<S&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),w=b<E&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(x=_<S&&("auto"===T.overflowX||"scroll"===T.overflowX),w=b<E&&("auto"===T.overflowY||"scroll"===T.overflowY));var C=x&&(Math.abs(y-o)<=a&&A+_<S)-(Math.abs(v-o)<=a&&!!A),O=w&&(Math.abs(g-s)<=a&&M+b<E)-(Math.abs(m-s)<=a&&!!M);if(!h1[h])for(var R=0;R<=h;R++)h1[R]||(h1[R]={});(h1[h].vx!=C||h1[h].vy!=O||h1[h].el!==d)&&(h1[h].el=d,h1[h].vx=C,h1[h].vy=O,clearInterval(h1[h].pid),(0!=C||0!=O)&&(u=!0,h1[h].pid=setInterval(function(){r&&0===this.layer&&J0.active._onTouchMove(c1);var t=h1[this.layer].vy?h1[this.layer].vy*l:0,n=h1[this.layer].vx?h1[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(J0.dragged.parentNode[e0],n,t,e,c1,h1[this.layer].el)||ZQ(h1[this.layer].el,n,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&f!==c&&(f=XQ(f,!1)));f1=u}},30),g1=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||i;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function v1(){}function y1(){}function _1(e){return null==e?e:JSON.parse(JSON.stringify(e))}v1.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=WQ(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:g1},bQ(v1,{pluginName:"revertOnSpill"}),y1.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:g1},bQ(y1,{pluginName:"removeOnSpill"}),J0.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?RQ(document,"dragover",this._handleAutoScroll):this.options.supportPointer?RQ(document,"pointermove",this._handleFallbackAutoScroll):t.touches?RQ(document,"touchmove",this._handleFallbackAutoScroll):RQ(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?IQ(document,"dragover",this._handleAutoScroll):(IQ(document,"pointermove",this._handleFallbackAutoScroll),IQ(document,"touchmove",this._handleFallbackAutoScroll),IQ(document,"mousemove",this._handleFallbackAutoScroll)),p1(),d1(),clearTimeout(DQ),DQ=void 0},nulling:function(){c1=s1=o1=f1=u1=a1=l1=null,h1.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(c1=e,t||this.options.forceAutoScrollFallback||EQ||SQ||AQ){m1(e,this.options,o,t);var s=XQ(o,!0);f1&&(!u1||r!==a1||i!==l1)&&(u1&&p1(),u1=setInterval(function(){var o=XQ(document.elementFromPoint(r,i),!0);o!==s&&(s=o,d1()),m1(e,n.options,o,t)},10),a1=r,l1=i)}else{if(!this.options.bubbleScroll||XQ(o,!0)===VQ())return void d1();m1(e,this.options,XQ(o,!1),!1)}}},bQ(e,{pluginName:"scroll",initializeByDefault:!0})}),J0.mount(y1,v1);let b1=null,x1=null;function w1(e=null,t=null){b1=e,x1=t}const S1=Symbol("cloneElement");function E1(...e){var t,n;const r=null==(t=Os())?void 0:t.proxy;let i=null;const o=e[0];let[,s,a]=e;Array.isArray(on(s))||(a=s,s=null);let l=null;const{immediate:c=!0,clone:u=_1,forceFallback:h,fallbackOnBody:f,customUpdate:d}=null!=(n=on(a))?n:{};const p={onUpdate:function(e){if(d)return void d(e);const{from:t,item:n,oldIndex:r,oldDraggableIndex:i,newDraggableIndex:o}=e;if(dQ(n),fQ(t,n,r),Qt(s)){const e=[...on(s)];return void(s.value=cQ(e,i,o))}cQ(on(s),i,o)},onStart:function(e){var t;const{from:n,oldIndex:r,item:o}=e,a=Array.from(n.childNodes);i=h&&!f?a.slice(0,-1):a;const l=on(null==(t=on(s))?void 0:t[r]),c=u(l);w1(l,c),o[S1]=c},onAdd:function(e){const t=e.item[S1];if(!function(e){return void 0===e}(t)){if(dQ(e.item),Qt(s)){const n=[...on(s)];return void(s.value=hQ(n,e.newDraggableIndex,t))}hQ(on(s),e.newDraggableIndex,t)}},onRemove:function(e){const{from:t,item:n,oldIndex:r,oldDraggableIndex:i,pullMode:o,clone:a}=e;if(fQ(t,n,r),"clone"!==o){if(Qt(s)){const e=[...on(s)];return void(s.value=uQ(e,i))}uQ(on(s),i)}else dQ(a)},onEnd:function(e){const{newIndex:t,oldIndex:n,from:r,to:o}=e;let s=null;const a=t===n&&r===o;try{if(a){let e=null;null==i||i.some((t,n)=>{if(e&&(null==i?void 0:i.length)!==o.childNodes.length)return r.insertBefore(e,t.nextSibling),!0;const s=o.childNodes[n];e=null==o?void 0:o.replaceChild(t,s)})}}catch(l){s=l}finally{i=null}Dn(()=>{if(w1(),s)throw s})}};function m(e){const t=on(o);return e||(e=function(e){return"string"==typeof e}(t)?function(e,t=document){var n;let r=null;return r="function"==typeof(null==t?void 0:t.querySelector)?null==(n=null==t?void 0:t.querySelector)?void 0:n.call(t,e):document.querySelector(e),r}(t,null==r?void 0:r.$el):t),e&&!function(e){return e instanceof HTMLElement}(e)&&(e=e.$el),e}function g(){var e;const t=null!=(e=on(a))?e:{},{immediate:n,clone:r}=t,i=lQ(t,["immediate","clone"]);return pQ(i,(e,t)=>{(function(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)})(e)&&(i[e]=(e,...n)=>(mQ(e,{data:b1,clonedData:x1}),t(e,...n)))}),function(e,t){const n=aQ({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=function(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}(e[r],t[r]):n[r]=t[r]}),n}(null===s?{}:p,i)}const v=e=>{e=m(e),l&&y.destroy(),l=new J0(e,g())};ar(()=>a,()=>{l&&pQ(g(),(e,t)=>{null==l||l.option(e,t)})},{deep:!0});const y={option:(e,t)=>null==l?void 0:l.option(e,t),destroy:()=>{null==l||l.destroy(),l=null},save:()=>null==l?void 0:l.save(),toArray:()=>null==l?void 0:l.toArray(),closest:(...e)=>null==l?void 0:l.closest(...e)};return function(e){Os()?di(e):Dn(e)}(()=>{c&&v()}),function(e){Os()&&vi(e)}(y.destroy),aQ({start:v,pause:()=>null==y?void 0:y.option("disabled",!0),resume:()=>null==y?void 0:y.option("disabled",!1)},y)}const T1=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],A1=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...T1.map(e=>`on${e.replace(/^\S/,e=>e.toUpperCase())}`)],M1=Fr({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:A1,emits:["update:modelValue",...T1],setup(e,{slots:t,emit:n,expose:r,attrs:i}){const o=T1.reduce((e,t)=>(e[`on${t.replace(/^\S/,e=>e.toUpperCase())}`]=(...e)=>n(t,...e),e),{}),s=Gs(()=>{const t=hn(e),{modelValue:n}=t,r=lQ(t,["modelValue"]),s=Object.entries(r).reduce((e,[t,n])=>{const r=on(n);return void 0!==r&&(e[t]=r),e},{});return aQ(aQ({},o),function(e){return Object.keys(e).reduce((t,n)=>(void 0!==e[n]&&(t[function(e){return e.replace(/-(\w)/g,(e,t)=>t?t.toUpperCase():"")}(n)]=e[n]),t),{})}(aQ(aQ({},i),s)))}),a=Gs({get:()=>e.modelValue,set:e=>n("update:modelValue",e)}),l=en(),c=zt(E1(e.target||l,a,s));return r(c),()=>{var n;return qs(e.tag||"div",{ref:l},null==(n=null==t?void 0:t.default)?void 0:n.call(t,c))}}});var C1="object"==typeof global&&global&&global.Object===Object&&global,O1="object"==typeof self&&self&&self.Object===Object&&self,R1=C1||O1||Function("return this")(),I1=R1.Symbol,k1=Object.prototype,P1=k1.hasOwnProperty,N1=k1.toString,D1=I1?I1.toStringTag:void 0;var L1=Object.prototype.toString;var F1=I1?I1.toStringTag:void 0;function U1(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F1&&F1 in Object(e)?function(e){var t=P1.call(e,D1),n=e[D1];try{e[D1]=void 0;var r=!0}catch(vme){}var i=N1.call(e);return r&&(t?e[D1]=n:delete e[D1]),i}(e):function(e){return L1.call(e)}(e)}function B1(e){return null!=e&&"object"==typeof e}var z1=Array.isArray,V1=/\s/;var j1=/^\s+/;function H1(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&V1.test(e.charAt(t)););return t}(e)+1).replace(j1,""):e}function W1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var G1=/^[-+]0x[0-9a-f]+$/i,q1=/^0b[01]+$/i,$1=/^0o[0-7]+$/i,X1=parseInt;function Y1(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||B1(e)&&"[object Symbol]"==U1(e)}(e))return NaN;if(W1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=W1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=H1(e);var n=q1.test(e);return n||$1.test(e)?X1(e.slice(2),n?2:8):G1.test(e)?NaN:+e}function K1(e){return e}function Z1(e){if(!W1(e))return!1;var t=U1(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var J1,Q1=R1["__core-js_shared__"],e2=(J1=/[^.]+$/.exec(Q1&&Q1.keys&&Q1.keys.IE_PROTO||""))?"Symbol(src)_1."+J1:"";var t2=Function.prototype.toString;function n2(e){if(null!=e){try{return t2.call(e)}catch(vme){}try{return e+""}catch(vme){}}return""}var r2=/^\[object .+?Constructor\]$/,i2=Function.prototype,o2=Object.prototype,s2=i2.toString,a2=o2.hasOwnProperty,l2=RegExp("^"+s2.call(a2).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c2(e){return!(!W1(e)||(t=e,e2&&e2 in t))&&(Z1(e)?l2:r2).test(n2(e));var t}function u2(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return c2(n)?n:void 0}var h2=u2(R1,"WeakMap"),f2=Object.create,d2=function(){function e(){}return function(t){if(!W1(t))return{};if(f2)return f2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var p2=Date.now;var m2,g2,v2,y2=function(){try{var e=u2(Object,"defineProperty");return e({},"",{}),e}catch(vme){}}(),_2=y2?function(e,t){return y2(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:K1,b2=(m2=_2,g2=0,v2=0,function(){var e=p2(),t=16-(e-v2);if(v2=e,t>0){if(++g2>=800)return arguments[0]}else g2=0;return m2.apply(void 0,arguments)});var x2=/^(?:0|[1-9]\d*)$/;function w2(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&x2.test(e))&&e>-1&&e%1==0&&e<t}function S2(e,t,n){"__proto__"==t&&y2?y2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function E2(e,t){return e===t||e!=e&&t!=t}var T2=Object.prototype.hasOwnProperty;function A2(e,t,n){var r=e[t];T2.call(e,t)&&E2(r,n)&&(void 0!==n||t in e)||S2(e,t,n)}var M2=Math.max;function C2(e,t){return b2(function(e,t,n){return t=M2(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=M2(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,K1),e+"")}function O2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function R2(e){return null!=e&&O2(e.length)&&!Z1(e)}var I2=Object.prototype;function k2(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||I2)}function P2(e){return B1(e)&&"[object Arguments]"==U1(e)}var N2=Object.prototype,D2=N2.hasOwnProperty,L2=N2.propertyIsEnumerable,F2=P2(function(){return arguments}())?P2:function(e){return B1(e)&&D2.call(e,"callee")&&!L2.call(e,"callee")};var U2="object"==typeof exports&&exports&&!exports.nodeType&&exports,B2=U2&&"object"==typeof module&&module&&!module.nodeType&&module,z2=B2&&B2.exports===U2?R1.Buffer:void 0,V2=(z2?z2.isBuffer:void 0)||function(){return!1},j2={};function H2(e){return function(t){return e(t)}}j2["[object Float32Array]"]=j2["[object Float64Array]"]=j2["[object Int8Array]"]=j2["[object Int16Array]"]=j2["[object Int32Array]"]=j2["[object Uint8Array]"]=j2["[object Uint8ClampedArray]"]=j2["[object Uint16Array]"]=j2["[object Uint32Array]"]=!0,j2["[object Arguments]"]=j2["[object Array]"]=j2["[object ArrayBuffer]"]=j2["[object Boolean]"]=j2["[object DataView]"]=j2["[object Date]"]=j2["[object Error]"]=j2["[object Function]"]=j2["[object Map]"]=j2["[object Number]"]=j2["[object Object]"]=j2["[object RegExp]"]=j2["[object Set]"]=j2["[object String]"]=j2["[object WeakMap]"]=!1;var W2="object"==typeof exports&&exports&&!exports.nodeType&&exports,G2=W2&&"object"==typeof module&&module&&!module.nodeType&&module,q2=G2&&G2.exports===W2&&C1.process,$2=function(){try{var e=G2&&G2.require&&G2.require("util").types;return e||q2&&q2.binding&&q2.binding("util")}catch(vme){}}(),X2=$2&&$2.isTypedArray,Y2=X2?H2(X2):function(e){return B1(e)&&O2(e.length)&&!!j2[U1(e)]},K2=Object.prototype.hasOwnProperty;function Z2(e,t){var n=z1(e),r=!n&&F2(e),i=!n&&!r&&V2(e),o=!n&&!r&&!i&&Y2(e),s=n||r||i||o,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!K2.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||w2(c,l))||a.push(c);return a}function J2(e,t){return function(n){return e(t(n))}}var Q2=J2(Object.keys,Object),e3=Object.prototype.hasOwnProperty;function t3(e){return R2(e)?Z2(e):function(e){if(!k2(e))return Q2(e);var t=[];for(var n in Object(e))e3.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var n3=Object.prototype.hasOwnProperty;function r3(e){if(!W1(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=k2(e),n=[];for(var r in e)("constructor"!=r||!t&&n3.call(e,r))&&n.push(r);return n}function i3(e){return R2(e)?Z2(e,!0):r3(e)}var o3=u2(Object,"create");var s3=Object.prototype.hasOwnProperty;var a3=Object.prototype.hasOwnProperty;function l3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function c3(e,t){for(var n=e.length;n--;)if(E2(e[n][0],t))return n;return-1}l3.prototype.clear=function(){this.__data__=o3?o3(null):{},this.size=0},l3.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},l3.prototype.get=function(e){var t=this.__data__;if(o3){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return s3.call(t,e)?t[e]:void 0},l3.prototype.has=function(e){var t=this.__data__;return o3?void 0!==t[e]:a3.call(t,e)},l3.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=o3&&void 0===t?"__lodash_hash_undefined__":t,this};var u3=Array.prototype.splice;function h3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}h3.prototype.clear=function(){this.__data__=[],this.size=0},h3.prototype.delete=function(e){var t=this.__data__,n=c3(t,e);return!(n<0)&&(n==t.length-1?t.pop():u3.call(t,n,1),--this.size,!0)},h3.prototype.get=function(e){var t=this.__data__,n=c3(t,e);return n<0?void 0:t[n][1]},h3.prototype.has=function(e){return c3(this.__data__,e)>-1},h3.prototype.set=function(e,t){var n=this.__data__,r=c3(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var f3=u2(R1,"Map");function d3(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function p3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}p3.prototype.clear=function(){this.size=0,this.__data__={hash:new l3,map:new(f3||h3),string:new l3}},p3.prototype.delete=function(e){var t=d3(this,e).delete(e);return this.size-=t?1:0,t},p3.prototype.get=function(e){return d3(this,e).get(e)},p3.prototype.has=function(e){return d3(this,e).has(e)},p3.prototype.set=function(e,t){var n=d3(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var m3=J2(Object.getPrototypeOf,Object),g3=Function.prototype,v3=Object.prototype,y3=g3.toString,_3=v3.hasOwnProperty,b3=y3.call(Object);function x3(e){var t=this.__data__=new h3(e);this.size=t.size}x3.prototype.clear=function(){this.__data__=new h3,this.size=0},x3.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},x3.prototype.get=function(e){return this.__data__.get(e)},x3.prototype.has=function(e){return this.__data__.has(e)},x3.prototype.set=function(e,t){var n=this.__data__;if(n instanceof h3){var r=n.__data__;if(!f3||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new p3(r)}return n.set(e,t),this.size=n.size,this};var w3="object"==typeof exports&&exports&&!exports.nodeType&&exports,S3=w3&&"object"==typeof module&&module&&!module.nodeType&&module,E3=S3&&S3.exports===w3?R1.Buffer:void 0,T3=E3?E3.allocUnsafe:void 0;function A3(e,t){if(t)return e.slice();var n=e.length,r=T3?T3(n):new e.constructor(n);return e.copy(r),r}var M3=Object.prototype.propertyIsEnumerable,C3=Object.getOwnPropertySymbols,O3=C3?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}(C3(e),function(t){return M3.call(e,t)}))}:function(){return[]};function R3(e){return function(e,t,n){var r=t(e);return z1(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,t3,O3)}var I3=u2(R1,"DataView"),k3=u2(R1,"Promise"),P3=u2(R1,"Set"),N3="[object Map]",D3="[object Promise]",L3="[object Set]",F3="[object WeakMap]",U3="[object DataView]",B3=n2(I3),z3=n2(f3),V3=n2(k3),j3=n2(P3),H3=n2(h2),W3=U1;(I3&&W3(new I3(new ArrayBuffer(1)))!=U3||f3&&W3(new f3)!=N3||k3&&W3(k3.resolve())!=D3||P3&&W3(new P3)!=L3||h2&&W3(new h2)!=F3)&&(W3=function(e){var t=U1(e),n="[object Object]"==t?e.constructor:void 0,r=n?n2(n):"";if(r)switch(r){case B3:return U3;case z3:return N3;case V3:return D3;case j3:return L3;case H3:return F3}return t});var G3=Object.prototype.hasOwnProperty;var q3=R1.Uint8Array;function $3(e){var t=new e.constructor(e.byteLength);return new q3(t).set(new q3(e)),t}var X3=/\w*$/;var Y3=I1?I1.prototype:void 0,K3=Y3?Y3.valueOf:void 0;function Z3(e,t){var n=t?$3(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function J3(e,t,n){var r,i,o,s,a,l=e.constructor;switch(t){case"[object ArrayBuffer]":return $3(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return a=$3((s=e).buffer),new s.constructor(a,s.byteOffset,s.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Z3(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return(o=new(i=e).constructor(i.source,X3.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=e,K3?Object(K3.call(r)):{}}}function Q3(e){return"function"!=typeof e.constructor||k2(e)?{}:d2(m3(e))}var e4=$2&&$2.isMap,t4=e4?H2(e4):function(e){return B1(e)&&"[object Map]"==W3(e)};var n4=$2&&$2.isSet,r4=n4?H2(n4):function(e){return B1(e)&&"[object Set]"==W3(e)},i4="[object Arguments]",o4="[object Function]",s4="[object Object]",a4={};function l4(e,t,n,r,i,o){var s,a=1&t;if(void 0!==s)return s;if(!W1(e))return e;var l=z1(e);if(l)s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&G3.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e);else{var c=W3(e),u=c==o4||"[object GeneratorFunction]"==c;if(V2(e))return A3(e,a);if(c==s4||c==i4||u&&!i)s=u?{}:Q3(e);else{if(!a4[c])return i?e:{};s=J3(e,c,a)}}o||(o=new x3);var h=o.get(e);if(h)return h;o.set(e,s),r4(e)?e.forEach(function(r){s.add(l4(r,t,n,r,e,o))}):t4(e)&&e.forEach(function(r,i){s.set(i,l4(r,t,n,i,e,o))});var f=l?void 0:R3(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(f||e,function(r,i){f&&(r=e[i=r]),A2(s,i,l4(r,t,n,i,e,o))}),s}a4[i4]=a4["[object Array]"]=a4["[object ArrayBuffer]"]=a4["[object DataView]"]=a4["[object Boolean]"]=a4["[object Date]"]=a4["[object Float32Array]"]=a4["[object Float64Array]"]=a4["[object Int8Array]"]=a4["[object Int16Array]"]=a4["[object Int32Array]"]=a4["[object Map]"]=a4["[object Number]"]=a4[s4]=a4["[object RegExp]"]=a4["[object Set]"]=a4["[object String]"]=a4["[object Symbol]"]=a4["[object Uint8Array]"]=a4["[object Uint8ClampedArray]"]=a4["[object Uint16Array]"]=a4["[object Uint32Array]"]=!0,a4["[object Error]"]=a4[o4]=a4["[object WeakMap]"]=!1;function c4(e){return l4(e,5)}var u4=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),s=o.length;s--;){var a=o[++r];if(!1===t(i[a],a,i))break}return e},h4=function(){return R1.Date.now()},f4=Math.max,d4=Math.min;function p4(e,t,n){var r,i,o,s,a,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,c=t,s=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=o}function m(){var e=h4();if(p(e))return g(e);a=setTimeout(m,function(e){var n=t-(e-l);return h?d4(n,o-(e-c)):n}(e))}function g(e){return a=void 0,f&&r?d(e):(r=i=void 0,s)}function v(){var e=h4(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(m,t),u?d(e):s}(l);if(h)return clearTimeout(a),a=setTimeout(m,t),d(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=Y1(t)||0,W1(n)&&(u=!!n.leading,o=(h="maxWait"in n)?f4(Y1(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},v.flush=function(){return void 0===a?s:g(h4())},v}function m4(e,t,n){(void 0!==n&&!E2(e[t],n)||void 0===n&&!(t in e))&&S2(e,t,n)}function g4(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function v4(e){return function(e,t,n){var r=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var s=t[i],a=void 0;void 0===a&&(a=e[s]),r?S2(n,s,a):A2(n,s,a)}return n}(e,i3(e))}function y4(e,t,n,r,i,o,s){var a=g4(e,n),l=g4(t,n),c=s.get(l);if(c)m4(e,n,c);else{var u,h=o?o(a,l,n+"",e,t,s):void 0,f=void 0===h;if(f){var d=z1(l),p=!d&&V2(l),m=!d&&!p&&Y2(l);h=l,d||p||m?z1(a)?h=a:B1(u=a)&&R2(u)?h=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(a):p?(f=!1,h=A3(l,!0)):m?(f=!1,h=Z3(l,!0)):h=[]:function(e){if(!B1(e)||"[object Object]"!=U1(e))return!1;var t=m3(e);if(null===t)return!0;var n=_3.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&y3.call(n)==b3}(l)||F2(l)?(h=a,F2(a)?h=v4(a):W1(a)&&!Z1(a)||(h=Q3(l))):f=!1}f&&(s.set(l,h),i(h,l,r,o,s),s.delete(l)),m4(e,n,h)}}function _4(e,t,n,r,i){e!==t&&u4(t,function(o,s){if(i||(i=new x3),W1(o))y4(e,t,s,n,_4,r,i);else{var a=r?r(g4(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),m4(e,s,a)}},i3)}var b4,x4=(b4=function(e,t,n){_4(e,t,n)},C2(function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=b4.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!W1(n))return!1;var r=typeof t;return!!("number"==r?R2(n)&&w2(t,n.length):"string"==r&&t in n)&&E2(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var s=t[n];s&&b4(e,s,n,i)}return e}));function w4(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return W1(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),p4(e,t,{leading:r,maxWait:t,trailing:i})}var S4,E4={exports:{}},T4={exports:{}},A4={exports:{}},M4=A4.exports;function C4(){return S4||(S4=1,e=A4,function(t,n){e.exports?e.exports=n():t.EvEmitter=n()}("undefined"!=typeof window?window:M4,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(e,o),delete r[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})),A4.exports;var e}var O4,R4={exports:{}};function I4(){return O4||(O4=1,e=R4,function(t,n){e.exports?e.exports=n():t.getSize=n()}(window,function(){function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=n.length;function i(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var o,s=!1;function a(t){if(function(){if(!s){s=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var r=i(t);o=200==Math.round(e(r.width)),a.isBoxSizeOuter=o,n.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=i(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<r;t++)e[n[t]]=0;return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,h=0;h<r;h++){var f=n[h],d=l[f],p=parseFloat(d);c[f]=isNaN(p)?0:p}var m=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,_=c.borderLeftWidth+c.borderRightWidth,b=c.borderTopWidth+c.borderBottomWidth,x=u&&o,w=e(l.width);!1!==w&&(c.width=w+(x?0:m+_));var S=e(l.height);return!1!==S&&(c.height=S+(x?0:g+b)),c.innerWidth=c.width-(m+_),c.innerHeight=c.height-(g+b),c.outerWidth=c.width+v,c.outerHeight=c.height+y,c}}return a})),R4.exports;var e}var k4,P4,N4={exports:{}},D4={exports:{}};function L4(){return P4||(P4=1,e=N4,function(t,n){e.exports?e.exports=n(t,function(){return k4||(k4=1,e=D4,function(t,n){e.exports?e.exports=n():t.matchesSelector=n()}(window,function(){var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var r=t[n]+"MatchesSelector";if(e[r])return r}}();return function(t,n){return t[e](n)}})),D4.exports;var e}()):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(e,t){var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},r=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?r.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,r){e=n.makeArray(e);var i=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(r){t(e,r)&&i.push(e);for(var n=e.querySelectorAll(r),o=0;o<n.length;o++)i.push(n[o])}else i.push(e)}),i},n.debounceMethod=function(e,t,n){n=n||100;var r=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i];clearTimeout(e);var t=arguments,o=this;this[i]=setTimeout(function(){r.apply(o,t),delete o[i]},n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var i=e.console;return n.htmlInit=function(t,r){n.docReady(function(){var o=n.toDashed(r),s="data-"+o,a=document.querySelectorAll("["+s+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(a).concat(n.makeArray(l)),u=s+"-options",h=e.jQuery;c.forEach(function(e){var n,o=e.getAttribute(s)||e.getAttribute(u);try{n=o&&JSON.parse(o)}catch(l){return void(i&&i.error("Error parsing "+s+" on "+e.className+": "+l))}var a=new t(e,n);h&&h.data(e,r,a)})})},n})),N4.exports;var e}var F4,U4,B4,z4={exports:{}};function V4(){return U4||(U4=1,e=T4,function(t,n){e.exports?e.exports=n(t,C4(),I4(),L4(),function(){return F4||(F4=1,e=z4,function(t,n){e.exports?e.exports=n(C4(),I4()):(t.Outlayer={},t.Outlayer.Item=n(t.EvEmitter,t.getSize))}(window,function(e,t){var n=document.documentElement.style,r="string"==typeof n.transition?"transition":"WebkitTransition",i="string"==typeof n.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],s={transform:i,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"};function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(e.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e)t[s[n]||n]=e[n]},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=e[t?"left":"right"],i=e[n?"top":"bottom"],o=parseFloat(r),s=parseFloat(i),a=this.layout.size;-1!=r.indexOf("%")&&(o=o/100*a.width),-1!=i.indexOf("%")&&(s=s/100*a.height),o=isNaN(o)?0:o,s=isNaN(s)?0:s,o-=t?a.paddingLeft:a.paddingRight,s-=n?a.paddingTop:a.paddingBottom,this.position.x=o,this.position.y=s},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),i=n?"paddingLeft":"paddingRight",o=n?"left":"right",s=n?"right":"left",a=this.position.x+e[i];t[o]=this.getXValue(a),t[s]="";var l=r?"paddingTop":"paddingBottom",c=r?"top":"bottom",u=r?"bottom":"top",h=this.position.y+e[l];t[c]=this.getYValue(h),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!i||this.isTransitioning){var o=e-n,s=t-r,a={};a.transform=this.getTranslate(o,s),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+i.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=u[e.propertyName]||e.propertyName;delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd&&(t.onEnd[n].call(this),delete t.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})),z4.exports;var e}()):t.Outlayer=n(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(e,t,n,r,i){var o=e.console,s=e.jQuery,a=function(){},l=0,c={};function u(e,t){var n=r.getQueryElement(e);if(n){this.element=n,s&&(this.$element=s(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var i=++l;this.element.outlayerGUID=i,c[i]=this,this._create(),this._getOption("initLayout")&&this.layout()}else o&&o.error("Bad element for "+this.constructor.namespace+": "+(n||e))}u.namespace="outlayer",u.Item=i,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=u.prototype;function f(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}r.extend(h,t.prototype),h.option=function(e){r.extend(this.options,e)},h._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0;i<t.length;i++){var o=new n(t[i],this);r.push(o)}return r},h._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(e){return e.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=n(this.element)},h._getMeasurement=function(e,t){var r,i=this.options[e];i?("string"==typeof i?r=this.element.querySelector(i):i instanceof HTMLElement&&(r=i),this[e]=r?n(r)[t]:i):this[e]=0},h.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},h._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},h._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach(function(e){var r=this._getItemLayoutPosition(e);r.item=e,r.isInstant=t||e.isLayoutInstant,n.push(r)},this),this._processLayoutQueue(n)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},h.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],r=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var i=d[r]||1;return n*i}(e),this.stagger;this.stagger=0},h._positionItem=function(e,t,n,r,i){r?e.goTo(t,n):(e.stagger(i*this.stagger),e.moveTo(t,n))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},h._getContainerSize=a,h._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},h._emitCompleteOnItems=function(e,t){var n=this;function r(){n.dispatchEvent(e+"Complete",null,[t])}var i=t.length;if(t&&i){var o=0;t.forEach(function(t){t.once(e,s)})}else r();function s(){++o==i&&r()}},h.dispatchEvent=function(e,t,n){var r=t?[t].concat(n):n;if(this.emitEvent(e,r),s)if(this.$element=this.$element||s(this.element),t){var i=s.Event(t);i.type=e,this.$element.trigger(i,n)}else this.$element.trigger(e,n)},h.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},h.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},h.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},h.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){r.removeFrom(this.stamps,e),this.unignore(e)},this)},h._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},h._manageStamp=a,h._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,i=n(e);return{left:t.left-r.left-i.marginLeft,top:t.top-r.top-i.marginTop,right:r.right-t.right-i.marginRight,bottom:r.bottom-t.bottom-i.marginBottom}},h.handleEvent=r.handleEvent,h.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},r.debounceMethod(u,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},h.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},h.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},h.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},h.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.reveal()})}},h.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.hide()})}},h.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},h.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},h.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},h.getItems=function(e){e=r.makeArray(e);var t=[];return e.forEach(function(e){var n=this.getItem(e);n&&t.push(n)},this),t},h.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),r.removeFrom(this.items,e)},this)},h.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var n=f(u);return n.defaults=r.extend({},u.defaults),r.extend(n.defaults,t),n.compatOptions=r.extend({},u.compatOptions),n.namespace=e,n.data=u.data,n.Item=f(i),r.htmlInit(n,e),s&&s.bridget&&s.bridget(e,n),n};var d={ms:1,s:1e3};return u.Item=i,u})),T4.exports;var e}var j4,H4=(B4||(B4=1,j4=E4,function(e,t){j4.exports?j4.exports=t(V4(),I4()):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,t){var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var r=n.prototype;return r._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},r.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/r,s=r-i%r;o=Math[s&&s<1?"round":"floor"](o),this.cols=Math.max(o,1)},r.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},r._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),i={x:this.columnWidth*r.col,y:r.y},o=r.y+e.size.outerHeight,s=n+r.col,a=r.col;a<s;a++)this.colYs[a]=o;return i},r._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},r._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;r<n;r++)t[r]=this._getColGroupY(r,e);return t},r._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},r._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=e>1&&n+e>this.cols?0:n;var r=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=r?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},r._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this._getOption("originLeft")?r.left:r.right,o=i+n.outerWidth,s=Math.floor(i/this.columnWidth);s=Math.max(0,s);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?r.top:r.bottom)+n.outerHeight,c=s;c<=a;c++)this.colYs[c]=Math.max(l,this.colYs[c])},r._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},r._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n})),E4.exports);const W4=yR(H4);function G4(e){return"string"==typeof e?`'${e}'`:(new q4).serialize(e)}const q4=function(){class e{#e=new Map;compare(e,t){const n=typeof e,r=typeof t;return"string"===n&&"string"===r?e.localeCompare(t):"number"===n&&"number"===r?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(null===e)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if("[object Object]"!==t)return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const n=e.constructor,r=n===Object||void 0===n?"":n.name;if(""!==r&&globalThis[r]===n)return this.serializeBuiltInType(r,e);if("function"==typeof e.toJSON){const t=e.toJSON();return r+(null!==t&&"object"==typeof t?this.$object(t):`(${this.serialize(t)})`)}return this.serializeObjectEntries(r,Object.entries(e))}serializeBuiltInType(e,t){const n=this["$"+e];if(n)return n.call(this,t);if("function"==typeof t?.entries)return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const n=Array.from(t).sort((e,t)=>this.compare(e[0],t[0]));let r=`${e}{`;for(let i=0;i<n.length;i++){const[e,t]=n[i];r+=`${this.serialize(e,!0)}:${this.serialize(t)}`,i<n.length-1&&(r+=",")}return r+"}"}$object(e){let t=this.#e.get(e);return void 0===t&&(this.#e.set(e,`#${this.#e.size}`),t=this.serializeObject(e),this.#e.set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return"[native code] }"===t.slice(-15)?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let n=0;n<e.length;n++)t+=this.serialize(e[n]),n<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((e,t)=>this.compare(e,t)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const t of["Error","RegExp","URL"])e.prototype["$"+t]=function(e){return`${t}(${e})`};for(const t of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])e.prototype["$"+t]=function(e){return`${t}[${e.join(",")}]`};for(const t of["BigInt64Array","BigUint64Array"])e.prototype["$"+t]=function(e){return`${t}[${e.join("n,")}${e.length>0?"n":""}]`};return e}();function $4(e,t){return e===t||G4(e)===G4(t)}function X4(e,t){const n=Symbol("string"!=typeof e||t?t:`${e}Context`);return[t=>{const r=er(n,t);if(r)return r;if(null===r)return r;throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},e=>(Qn(n,e),e)]}function Y4(){let e=document.activeElement;if(null==e)return null;for(;null!=e&&null!=e.shadowRoot&&null!=e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function K4(e,t,n){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}function Z4(e){return e?e.flatMap(e=>e.type===Ko?Z4(e.children):[e]):[]}const[J4]=X4("ConfigProvider");function Q4(e){return!!Re()&&(Ie(e),!0)}function e5(){const e=new Set,t=t=>{e.delete(t)};return{on:n=>{e.add(n);const r=()=>t(n);return Q4(r),{off:r}},off:t,trigger:(...t)=>Promise.all(Array.from(e).map(e=>e(...t))),clear:()=>{e.clear()}}}function t5(e){return zt(Qt(t=Gs(e))?new Proxy({},{get:(e,n,r)=>on(Reflect.get(t.value,n,r)),set:(e,n,r)=>(Qt(t.value[n])&&!Qt(r)?t.value[n].value=r:t.value[n]=r,!0),deleteProperty:(e,n)=>Reflect.deleteProperty(t.value,n),has:(e,n)=>Reflect.has(t.value,n),ownKeys:()=>Object.keys(t.value),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})}):t);var t}const n5="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const r5=Object.prototype.toString,i5=o5();function o5(){var e,t;return n5&&(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||(null==(t=null==window?void 0:window.navigator)?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(null==window?void 0:window.navigator.userAgent))}function s5(e){return Array.isArray(e)?e:[e]}function a5(e,t=1e4){return un((n,r)=>{let i,o=sn(e);return Q4(()=>{clearTimeout(i)}),{get:()=>(n(),o),set(n){o=n,r(),clearTimeout(i),i=setTimeout(()=>{o=sn(e),r()},sn(t))}}})}function l5(e,t){Os()&&gi(e,t)}const c5=n5?window:void 0;function u5(e){var t;const n=sn(e);return null!=(t=null==n?void 0:n.$el)?t:n}function h5(...e){const t=[],n=()=>{t.forEach(e=>e()),t.length=0},r=Gs(()=>{const t=s5(sn(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0}),i=(o=([e,r,i,o])=>{if(n(),!(null==e?void 0:e.length)||!(null==r?void 0:r.length)||!(null==i?void 0:i.length))return;const s=(a=o,"[object Object]"===r5.call(a)?{...o}:o);var a;t.push(...e.flatMap(e=>r.flatMap(t=>i.map(n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,s)))))},s={flush:"post"},ar(()=>{var t,n;return[null!=(n=null==(t=r.value)?void 0:t.map(e=>u5(e)))?n:[c5].filter(e=>null!=e),s5(sn(r.value?e[1]:e[0])),s5(on(r.value?e[2]:e[1])),sn(r.value?e[3]:e[2])]},o,{...s,immediate:!0}));var o,s;return Q4(n),()=>{i(),n()}}function f5(...e){let t,n,r={};3===e.length?(t=e[0],n=e[1],r=e[2]):2===e.length?"object"==typeof e[1]?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=c5,eventName:o="keydown",passive:s=!1,dedupe:a=!1}=r,l="function"==typeof(c=t)?c:"string"==typeof c?e=>e.key===c:Array.isArray(c)?e=>c.includes(e.key):()=>!0;var c;return h5(i,o,e=>{e.repeat&&sn(a)||l(e)&&n(e)},s)}function d5(e,t,n,r={}){var i,o,s;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:h,shouldEmit:f}=r,d=Os(),p=n||(null==d?void 0:d.emit)||(null==(i=null==d?void 0:d.$emit)?void 0:i.bind(d))||(null==(s=null==(o=null==d?void 0:d.proxy)?void 0:o.$emit)?void 0:s.bind(null==d?void 0:d.proxy));let m=c;t||(t="modelValue"),m=m||`update:${t.toString()}`;const g=e=>{return a?"function"==typeof a?a(e):(t=e,JSON.parse(JSON.stringify(t))):e;var t},v=()=>void 0!==e[t]?g(e[t]):h,y=e=>{f?f(e)&&p(m,e):p(m,e)};if(l){const n=en(v());let r=!1;return ar(()=>e[t],e=>{r||(r=!0,n.value=g(e),Dn(()=>r=!1))}),ar(n,n=>{r||n===e[t]&&!u||y(n)},{deep:u}),n}return Gs({get:()=>v(),set(e){y(e)}})}function p5(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function m5(e,t,n=".",r){if(!p5(t))return m5(e,{},n,r);const i=Object.assign({},t);for(const o in e){if("__proto__"===o||"constructor"===o)continue;const t=e[o];null!=t&&(r&&r(i,o,t,n)||(Array.isArray(t)&&Array.isArray(i[o])?i[o]=[...t,...i[o]]:p5(t)&&p5(i[o])?i[o]=m5(t,i[o],(n?`${n}.`:"")+o.toString(),r):i[o]=t))}return i}const g5=(...e)=>e.reduce((e,t)=>m5(e,t,"",v5),{});var v5;const y5=function(e){let t,n,r=0;const i=()=>{r-=1,n&&r<=0&&(n.stop(),t=void 0,n=void 0)};return(...o)=>(r+=1,n||(n=Oe(!0),t=n.run(()=>e(...o))),Q4(i),t)}(()=>{const e=en(new Map),t=en(),n=Gs(()=>{for(const t of e.value.values())if(t)return!0;return!1}),r=J4({scrollBody:en(!0)});let i=null;return ar(n,(e,n)=>{if(!n5)return;if(!e)return void(n&&(document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",i5&&i?.(),t.value=void 0));void 0===t.value&&(t.value=document.body.style.overflow);const o=window.innerWidth-document.documentElement.clientWidth,s={padding:o,margin:0},a=r.scrollBody?.value?"object"==typeof r.scrollBody.value?g5({padding:!0===r.scrollBody.value.padding?o:r.scrollBody.value.padding,margin:!0===r.scrollBody.value.margin?o:r.scrollBody.value.margin},s):s:{padding:0,margin:0};o>0&&(document.body.style.paddingRight="number"==typeof a.padding?`${a.padding}px`:String(a.padding),document.body.style.marginRight="number"==typeof a.margin?`${a.margin}px`:String(a.margin),document.documentElement.style.setProperty("--scrollbar-width",`${o}px`),document.body.style.overflow="hidden"),i5&&(i=h5(document,"touchmove",e=>function(e){const t=e||window.event,n=t.target;if(n instanceof Element&&_5(n))return!1;if(t.touches.length>1)return!0;t.preventDefault&&t.cancelable&&t.preventDefault();return!1}(e),{passive:!1})),Dn(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function _5(e){const t=window.getComputedStyle(e);if("scroll"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowX&&e.clientWidth<e.scrollWidth||"auto"===t.overflowY&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return t instanceof Element&&"BODY"!==t.tagName&&_5(t)}}function b5(e){const t=Gs(()=>on(e)),n=Gs(()=>new Intl.Collator("en",{usage:"search",...t.value}));return{startsWith:(e,t)=>0===t.length||(e=e.normalize("NFC"),t=t.normalize("NFC"),0===n.value.compare(e.slice(0,t.length),t)),endsWith:(e,t)=>0===t.length||(e=e.normalize("NFC"),t=t.normalize("NFC"),0===n.value.compare(e.slice(-t.length),t)),contains:(e,t)=>{if(0===t.length)return!0;e=e.normalize("NFC");let r=0;const i=(t=t.normalize("NFC")).length;for(;r+i<=e.length;r++){const o=e.slice(r,r+i);if(0===n.value.compare(t,o))return!0}return!1}}}let x5=0;function w5(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function S5(){const e=Os(),t=en(),n=Gs(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:u5(t)),r=Object.assign({},e.exposed),i={};for(const o in e.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>e.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});return Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=i,{forwardRef:function(n){if(t.value=n,n&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>n instanceof Element?n:n.$el}),!(n instanceof Element||Object.hasOwn(n,"$el")))){const t=n.$.exposed,r=Object.assign({},i);for(const e in t)Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>t[e]});e.exposed=r}},currentRef:t,currentElement:n}}function E5(e){const t=Os(),n=Object.keys(t?.type.props??{}).reduce((e,n)=>{const r=(t?.type.props[n]).default;return void 0!==r&&(e[n]=r),e},{}),r=pn(e);return Gs(()=>{const e={},i=t?.vnode.props??{};return Object.keys(i).forEach(t=>{e[R(t)]=i[t]}),Object.keys({...n,...e}).reduce((e,t)=>(void 0!==r.value[t]&&(e[t]=r.value[t]),e),{})})}function T5(e,t){const n=E5(e),r=t?function(e){const t=Os(),n=t?.type.emits,r={};return n?.forEach(t=>{r[N(R(t))]=(...n)=>e(t,...n)}),r}(t):{};return Gs(()=>({...n.value,...r}))}var A5=new WeakMap,M5=new WeakMap,C5={},O5=0,R5=function(e){return e&&(e.host||R5(e.parentNode))},I5=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=R5(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);C5[n]||(C5[n]=new WeakMap);var o=C5[n],s=[],a=new Set,l=new Set(i),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(a.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(A5.get(e)||0)+1,c=(o.get(e)||0)+1;A5.set(e,l),o.set(e,c),s.push(e),1===l&&i&&M5.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(vme){}})};return u(t),a.clear(),O5++,function(){s.forEach(function(e){var t=A5.get(e)-1,i=o.get(e)-1;A5.set(e,t),o.set(e,i),t||(M5.has(e)||e.removeAttribute(r),M5.delete(e)),i||e.removeAttribute(n)}),--O5||(A5=new WeakMap,A5=new WeakMap,M5=new WeakMap,C5={})}},k5=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),I5(r,i,n,"aria-hidden")):function(){return null}};function P5(e,t="reka"){return`${t}-${Ur?.()}`}function N5(e,t){const n=en(e);return{state:n,dispatch:e=>{n.value=function(e){return t[n.value][e]??n.value}(e)}}}function D5(e){const t=a5("",1e3);return{search:t,handleTypeaheadSearch:(e,n)=>{t.value=t.value+e;{const e=Y4(),r=n.map(e=>({...e,textValue:e.value?.textValue??e.ref.textContent?.trim()??""})),i=r.find(t=>t.ref===e),o=function(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0]),i=r?t[0]:t,o=n?e.indexOf(n):-1;let s=(a=e,l=Math.max(o,0),a.map((e,t)=>a[(l+t)%a.length]));var a,l;1===i.length&&(s=s.filter(e=>e!==n));const c=s.find(e=>e.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}(r.map(e=>e.textValue),t.value,i?.textValue),s=r.find(e=>e.textValue===o);return s&&s.ref.focus(),s?.ref}},resetTypeahead:()=>{t.value=""}}}function L5(e){return e&&getComputedStyle(e).animationName||"none"}var F5=Fr({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){const{present:r,forceMount:i}=hn(e),o=en(),{isPresent:s}=function(e,t){const n=en({}),r=en("none"),i=en(e),o=e.value?"mounted":"unmounted";let s;const a=t.value?.ownerDocument.defaultView??c5,{state:l,dispatch:c}=N5(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=e=>{if(n5){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(n)}};ar(e,async(e,i)=>{const o=i!==e;if(await Dn(),o){const o=r.value,s=L5(t.value);e?(c("MOUNT"),u("enter"),"none"===s&&u("after-enter")):"none"===s||"undefined"===s||"none"===n.value?.display?(c("UNMOUNT"),u("leave"),u("after-leave")):i&&o!==s?(c("ANIMATION_OUT"),u("leave")):(c("UNMOUNT"),u("after-leave"))}},{immediate:!0});const h=e=>{const n=L5(t.value),r=n.includes(CSS.escape(e.animationName)),o="mounted"===l.value?"enter":"leave";if(e.target===t.value&&r&&(u(`after-${o}`),c("ANIMATION_END"),!i.value)){const e=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",s=a?.setTimeout(()=>{"forwards"===t.value?.style.animationFillMode&&(t.value.style.animationFillMode=e)})}e.target===t.value&&"none"===n&&c("ANIMATION_END")},f=e=>{e.target===t.value&&(r.value=L5(t.value))},d=ar(t,(e,t)=>{e?(n.value=getComputedStyle(e),e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h)):(c("ANIMATION_END"),void 0!==s&&a?.clearTimeout(s),t?.removeEventListener("animationstart",f),t?.removeEventListener("animationcancel",h),t?.removeEventListener("animationend",h))},{immediate:!0}),p=ar(l,()=>{const e=L5(t.value);r.value="mounted"===l.value?e:"none"});return vi(()=>{d(),p()}),{isPresent:Gs(()=>["mounted","unmountSuspended"].includes(l.value))}}(r,o);n({present:s});let a=t.default({present:s.value});a=Z4(a||[]);const l=Os();if(a&&a?.length>1){const e=l?.parent?.type.name?`<${l.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${e}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(e=>`  - ${e}`).join("\n")].join("\n"))}return()=>i.value||r.value||s.value?qs(t.default({present:s.value})[0],{ref:e=>{const t=u5(e);return void 0===t?.hasAttribute||(t?.hasAttribute("data-reka-popper-content-wrapper")?o.value=t.firstElementChild:o.value=t),t}}):null}});const U5=Fr({name:"PrimitiveSlot",inheritAttrs:!1,setup:(e,{attrs:t,slots:n})=>()=>{if(!n.default)return null;const e=Z4(n.default()),r=e.findIndex(e=>e.type!==Jo);if(-1===r)return e;const i=e[r];delete i.props?.ref;const o=i.props?Ss(t,i.props):t,s=gs({...i,props:{}},o);return 1===e.length?s:(e[r]=s,e)}}),B5=["area","img","input"],z5=Fr({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const r=e.asChild?"template":e.as;return"string"==typeof r&&B5.includes(r)?()=>qs(r,t):"template"!==r?()=>qs(e.as,t,{default:n.default}):()=>qs(U5,t,{default:n.default})}});function V5(){const e=en(),t=Gs(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:u5(e));return{primitiveElement:e,currentElement:t}}function j5(e,t){const n=t.closest("[data-dismissable-layer]"),r=""===e.dataset.dismissableLayer?e:e.querySelector("[data-dismissable-layer]"),i=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!(!n||!(r===n||i.indexOf(r)<i.indexOf(n)))}const H5=zt({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var W5=Fr({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:i,currentElement:o}=S5(),s=Gs(()=>o.value?.ownerDocument??globalThis.document),a=Gs(()=>H5.layersRoot),l=Gs(()=>o.value?Array.from(a.value).indexOf(o.value):-1),c=Gs(()=>H5.layersWithOutsidePointerEventsDisabled.size>0),u=Gs(()=>{const e=Array.from(a.value),[t]=[...H5.layersWithOutsidePointerEventsDisabled].slice(-1),n=e.indexOf(t);return l.value>=n}),h=function(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,i=en(!1),o=en(()=>{});return ir(s=>{if(!n5||!sn(n))return;const a=async n=>{const s=n.target;if(t?.value&&s)if(j5(t.value,s))i.value=!1;else{if(n.target&&!i.value){let t=function(){K4("dismissableLayer.pointerDownOutside",e,i)};const i={originalEvent:n};"touch"===n.pointerType?(r.removeEventListener("click",o.value),o.value=t,r.addEventListener("click",o.value,{once:!0})):t()}else r.removeEventListener("click",o.value);i.value=!1}},l=window.setTimeout(()=>{r.addEventListener("pointerdown",a)},0);s(()=>{window.clearTimeout(l),r.removeEventListener("pointerdown",a),r.removeEventListener("click",o.value)})}),{onPointerDownCapture:()=>{sn(n)&&(i.value=!0)}}}(async e=>{const t=[...H5.branches].some(t=>t?.contains(e.target));u.value&&!t&&(r("pointerDownOutside",e),r("interactOutside",e),await Dn(),e.defaultPrevented||r("dismiss"))},o),f=function(e,t,n=!0){const r=t?.value?.ownerDocument??globalThis?.document,i=en(!1);return ir(o=>{if(!n5||!sn(n))return;const s=async n=>{if(!t?.value)return;await Dn(),await Dn();const r=n.target;t.value&&r&&!j5(t.value,r)&&n.target&&!i.value&&K4("dismissableLayer.focusOutside",e,{originalEvent:n})};r.addEventListener("focusin",s),o(()=>r.removeEventListener("focusin",s))}),{onFocusCapture:()=>{sn(n)&&(i.value=!0)},onBlurCapture:()=>{sn(n)&&(i.value=!1)}}}(e=>{[...H5.branches].some(t=>t?.contains(e.target))||(r("focusOutside",e),r("interactOutside",e),e.defaultPrevented||r("dismiss"))},o);return f5("Escape",e=>{l.value===a.value.size-1&&(r("escapeKeyDown",e),e.defaultPrevented||r("dismiss"))}),ir(e=>{o.value&&(n.disableOutsidePointerEvents&&(0===H5.layersWithOutsidePointerEventsDisabled.size&&(H5.originalBodyPointerEvents=s.value.body.style.pointerEvents,s.value.body.style.pointerEvents="none"),H5.layersWithOutsidePointerEventsDisabled.add(o.value)),a.value.add(o.value),e(()=>{n.disableOutsidePointerEvents&&1===H5.layersWithOutsidePointerEventsDisabled.size&&null!=H5.originalBodyPointerEvents&&(s.value.body.style.pointerEvents=H5.originalBodyPointerEvents)}))}),ir(e=>{e(()=>{o.value&&(a.value.delete(o.value),H5.layersWithOutsidePointerEventsDisabled.delete(o.value))})}),(e,t)=>(ns(),ls(on(z5),{ref:on(i),"as-child":e.asChild,as:e.as,"data-dismissable-layer":"",style:Y({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:on(f).onFocusCapture,onBlurCapture:on(f).onBlurCapture,onPointerdownCapture:on(h).onPointerDownCapture},{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});const G5=function(e){let t,n=!1;const r=Oe(!0);return(...i)=>(n||(t=r.run(()=>e(...i)),n=!0),t)}(()=>en([]));function q5(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const $5="focusScope.autoFocusOnMount",X5="focusScope.autoFocusOnUnmount",Y5={bubbles:!1,cancelable:!0};function K5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Z5(e,t){for(const n of e)if(!J5(n,{upTo:t}))return n}function J5(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Q5(e,{select:t=!1}={}){if(e&&e.focus){const n=Y4();e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}var e6=Fr({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:i,currentElement:o}=S5(),s=en(null),a=function(){const e=G5();return{add(t){const n=e.value[0];t!==n&&n?.pause(),e.value=q5(e.value,t),e.value.unshift(t)},remove(t){e.value=q5(e.value,t),e.value[0]?.resume()}}}(),l=zt({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});function c(e){if(!n.loop&&!n.trapped)return;if(l.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=Y4();if(t&&r){const t=e.currentTarget,[i,o]=function(e){const t=K5(e);return[Z5(t,e),Z5(t.reverse(),e)]}(t);i&&o?e.shiftKey||r!==o?e.shiftKey&&r===i&&(e.preventDefault(),n.loop&&Q5(o,{select:!0})):(e.preventDefault(),n.loop&&Q5(i,{select:!0})):r===t&&e.preventDefault()}}return ir(e=>{if(!n5)return;const t=o.value;if(!n.trapped)return;function r(e){if(l.paused||!t)return;const n=e.target;t.contains(n)?s.value=n:Q5(s.value,{select:!0})}function i(e){if(l.paused||!t)return;const n=e.relatedTarget;null!==n&&(t.contains(n)||Q5(s.value,{select:!0}))}document.addEventListener("focusin",r),document.addEventListener("focusout",i);const a=new MutationObserver(function(e){t.contains(s.value)||Q5(t)});t&&a.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener("focusin",r),document.removeEventListener("focusout",i),a.disconnect()})}),ir(async e=>{const t=o.value;if(await Dn(),!t)return;a.add(l);const n=Y4();if(!t.contains(n)){const e=new CustomEvent($5,Y5);t.addEventListener($5,e=>r("mountAutoFocus",e)),t.dispatchEvent(e),e.defaultPrevented||(!function(e,{select:t=!1}={}){const n=Y4();for(const r of e)if(Q5(r,{select:t}),Y4()!==n)return!0}((i=K5(t),i.filter(e=>"A"!==e.tagName)),{select:!0}),Y4()===n&&Q5(t))}var i;e(()=>{t.removeEventListener($5,e=>r("mountAutoFocus",e));const e=new CustomEvent(X5,Y5),i=e=>{r("unmountAutoFocus",e)};t.addEventListener(X5,i),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||Q5(n??document.body,{select:!0}),t.removeEventListener(X5,i),a.remove(l)},0)})}),(e,t)=>(ns(),ls(on(z5),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":e.asChild,as:e.as,onKeydown:c},{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},8,["as-child","as"]))}}),t6=Fr({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=function(){const e=tn(!1),t=Os();return t&&di(()=>{e.value=!0},t),e}();return(e,n)=>on(t)||e.forceMount?(ns(),ls(br,{key:0,to:e.to,disabled:e.disabled,defer:e.defer},[Ri(e.$slots,"default")],8,["to","disabled","defer"])):_s("v-if",!0)}});const n6="data-reka-collection-item";function r6(e={}){const{key:t="",isProvider:n=!1}=e,r=`${t}CollectionProvider`;let i;if(n){const e=en(new Map);i={collectionRef:en(),itemMap:e},Qn(r,i)}else i=er(r);const o=Fr({name:"CollectionSlot",setup(e,{slots:t}){const{primitiveElement:n,currentElement:r}=V5();return ar(r,()=>{i.collectionRef.value=r.value}),()=>qs(U5,{ref:n},t)}}),s=Fr({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(e,{slots:t,attrs:n}){const{primitiveElement:r,currentElement:o}=V5();return ir(t=>{if(o.value){const n=Kt(o.value);i.itemMap.value.set(n,{ref:o.value,value:e.value}),t(()=>i.itemMap.value.delete(n))}}),()=>qs(U5,{...n,[n6]:"",ref:r},t)}});return{getItems:(e=!1)=>{const t=i.collectionRef.value;if(!t)return[];const n=Array.from(t.querySelectorAll(`[${n6}]`)),r=Array.from(i.itemMap.value.values()).sort((e,t)=>n.indexOf(e.ref)-n.indexOf(t.ref));return e?r:r.filter(e=>""!==e.ref.dataset.disabled)},reactiveItems:Gs(()=>Array.from(i.itemMap.value.values())),itemMapSize:Gs(()=>i.itemMap.value.size),CollectionSlot:o,CollectionItem:s}}const i6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};var o6=Fr({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup:e=>(e,t)=>(ns(),ls(on(z5),{as:e.as,"as-child":e.asChild,"aria-hidden":"focusable"===e.feature?"true":void 0,"data-hidden":"fully-hidden"===e.feature?"":void 0,tabindex:"fully-hidden"===e.feature?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}),s6=Fr({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,{primitiveElement:n,currentElement:r}=V5();return ar(Gs(()=>t.checked??t.value),(e,t)=>{if(!r.value)return;const n=r.value,i=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(i,"value").set;if(o&&e!==t){const t=new Event("input",{bubbles:!0}),r=new Event("change",{bubbles:!0});o.call(n,e),n.dispatchEvent(t),n.dispatchEvent(r)}}),(e,r)=>(ns(),ls(o6,Ss({ref_key:"primitiveElement",ref:n},{...t,...e.$attrs},{as:"input"}),null,16))}}),a6=Fr({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,n=Gs(()=>"object"==typeof t.value&&Array.isArray(t.value)&&0===t.value.length&&t.required),r=Gs(()=>"string"==typeof t.value||"number"==typeof t.value||"boolean"==typeof t.value||null===t.value||void 0===t.value?[{name:t.name,value:t.value}]:"object"==typeof t.value&&Array.isArray(t.value)?t.value.flatMap((e,n)=>"object"==typeof e?Object.entries(e).map(([e,r])=>({name:`${t.name}[${n}][${e}]`,value:r})):{name:`${t.name}[${n}]`,value:e}):null===t.value||"object"!=typeof t.value||Array.isArray(t.value)?[]:Object.entries(t.value).map(([e,n])=>({name:`${t.name}[${e}]`,value:n})));return(e,i)=>(ns(),as(Ko,null,[_s(" We render single input if it's required "),n.value?(ns(),ls(s6,Ss({key:e.name},{...t,...e.$attrs},{name:e.name,value:e.value}),null,16,["name","value"])):(ns(!0),as(Ko,{key:1},Oi(r.value,n=>(ns(),ls(s6,Ss({key:n.name},{ref_for:!0},{...t,...e.$attrs},{name:n.name,value:n.value}),null,16,["name","value"]))),128))],2112))}});const[l6,c6]=X4("PopperRoot");var u6=Fr({inheritAttrs:!1,__name:"PopperRoot",setup(e){const t=en();return c6({anchor:t,onAnchorChange:e=>t.value=e}),(e,t)=>Ri(e.$slots,"default")}}),h6=Fr({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n,currentElement:r}=S5(),i=l6();return or(()=>{i.onAnchorChange(t.reference??r.value)}),(e,t)=>(ns(),ls(on(z5),{ref:on(n),as:e.as,"as-child":e.asChild},{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},8,["as","as-child"]))}});const f6={key:0,d:"M0 0L6 6L12 0"},d6={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var p6=Fr({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return S5(),(e,n)=>(ns(),ls(on(z5),Ss(t,{width:e.width,height:e.height,viewBox:e.asChild?void 0:"0 0 12 6",preserveAspectRatio:e.asChild?void 0:"none"}),{default:Kn(()=>[Ri(e.$slots,"default",{},()=>[e.rounded?(ns(),as("path",d6)):(ns(),as("path",f6))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}});function m6(e){return null!==e}function g6(e){return{name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=0!==i.arrow?.centerOffset,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[l,c]=v6(n),u={start:"0%",center:"50%",end:"100%"}[c],h=(i.arrow?.x??0)+s/2,f=(i.arrow?.y??0)+a/2;let d="",p="";return"bottom"===l?(d=o?u:`${h}px`,p=-a+"px"):"top"===l?(d=o?u:`${h}px`,p=`${r.floating.height+a}px`):"right"===l?(d=-a+"px",p=o?u:`${f}px`):"left"===l&&(d=`${r.floating.width+a}px`,p=o?u:`${f}px`),{data:{x:d,y:p}}}}}function v6(e){const[t,n="center"]=e.split("-");return[t,n]}const y6=["top","right","bottom","left"],_6=Math.min,b6=Math.max,x6=Math.round,w6=Math.floor,S6=e=>({x:e,y:e}),E6={left:"right",right:"left",bottom:"top",top:"bottom"},T6={start:"end",end:"start"};function A6(e,t,n){return b6(e,_6(t,n))}function M6(e,t){return"function"==typeof e?e(t):e}function C6(e){return e.split("-")[0]}function O6(e){return e.split("-")[1]}function R6(e){return"x"===e?"y":"x"}function I6(e){return"y"===e?"height":"width"}const k6=new Set(["top","bottom"]);function P6(e){return k6.has(C6(e))?"y":"x"}function N6(e){return R6(P6(e))}function D6(e){return e.replace(/start|end/g,e=>T6[e])}const L6=["left","right"],F6=["right","left"],U6=["top","bottom"],B6=["bottom","top"];function z6(e,t,n,r){const i=O6(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?F6:L6:t?L6:F6;case"left":case"right":return t?U6:B6;default:return[]}}(C6(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(D6)))),o}function V6(e){return e.replace(/left|right|bottom|top/g,e=>E6[e])}function j6(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function H6(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function W6(e,t,n){let{reference:r,floating:i}=e;const o=P6(t),s=N6(t),a=I6(s),l=C6(t),c="y"===o,u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(O6(t)){case"start":d[s]-=f*(n&&c?-1:1);break;case"end":d[s]+=f*(n&&c?-1:1)}return d}async function G6(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=M6(t,e),p=j6(d),m=a[f?"floating"===h?"reference":"floating":h],g=H6(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===h?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),_=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},b=H6(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/_.y,bottom:(b.bottom-g.bottom+p.bottom)/_.y,left:(g.left-b.left+p.left)/_.x,right:(b.right-g.right+p.right)/_.x}}function q6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function $6(e){return y6.some(t=>e[t]>=0)}const X6=new Set(["left","top"]);function Y6(){return"undefined"!=typeof window}function K6(e){return Q6(e)?(e.nodeName||"").toLowerCase():"#document"}function Z6(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function J6(e){var t;return null==(t=(Q6(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Q6(e){return!!Y6()&&(e instanceof Node||e instanceof Z6(e).Node)}function e8(e){return!!Y6()&&(e instanceof Element||e instanceof Z6(e).Element)}function t8(e){return!!Y6()&&(e instanceof HTMLElement||e instanceof Z6(e).HTMLElement)}function n8(e){return!(!Y6()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Z6(e).ShadowRoot)}const r8=new Set(["inline","contents"]);function i8(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=g8(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!r8.has(i)}const o8=new Set(["table","td","th"]);function s8(e){return o8.has(K6(e))}const a8=[":popover-open",":modal"];function l8(e){return a8.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const c8=["transform","translate","scale","rotate","perspective"],u8=["transform","translate","scale","rotate","perspective","filter"],h8=["paint","layout","strict","content"];function f8(e){const t=d8(),n=e8(e)?g8(e):e;return c8.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||u8.some(e=>(n.willChange||"").includes(e))||h8.some(e=>(n.contain||"").includes(e))}function d8(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const p8=new Set(["html","body","#document"]);function m8(e){return p8.has(K6(e))}function g8(e){return Z6(e).getComputedStyle(e)}function v8(e){return e8(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function y8(e){if("html"===K6(e))return e;const t=e.assignedSlot||e.parentNode||n8(e)&&e.host||J6(e);return n8(t)?t.host:t}function _8(e){const t=y8(e);return m8(t)?e.ownerDocument?e.ownerDocument.body:e.body:t8(t)&&i8(t)?t:_8(t)}function b8(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=_8(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=Z6(i);if(o){const e=x8(s);return t.concat(s,s.visualViewport||[],i8(i)?i:[],e&&n?b8(e):[])}return t.concat(i,b8(i,[],n))}function x8(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function w8(e){const t=g8(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=t8(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=x6(n)!==o||x6(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function S8(e){return e8(e)?e:e.contextElement}function E8(e){const t=S8(e);if(!t8(t))return S6(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=w8(t);let s=(o?x6(n.width):n.width)/r,a=(o?x6(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const T8=S6(0);function A8(e){const t=Z6(e);return d8()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:T8}function M8(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=S8(e);let s=S6(1);t&&(r?e8(r)&&(s=E8(r)):s=E8(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==Z6(e))&&t}(o,n,r)?A8(o):S6(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const e=Z6(o),t=r&&e8(r)?Z6(r):r;let n=e,i=x8(n);for(;i&&r&&t!==n;){const e=E8(i),t=i.getBoundingClientRect(),r=g8(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=o,c+=s,n=Z6(i),i=x8(n)}}return H6({width:u,height:h,x:l,y:c})}function C8(e,t){const n=v8(e).scrollLeft;return t?t.left+n:M8(J6(e)).left+n}function O8(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-C8(e,n),y:n.top+t.scrollTop}}const R8=new Set(["absolute","fixed"]);function I8(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=Z6(e),r=J6(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const e=d8();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}const c=C8(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,s=Math.abs(r.clientWidth-t.clientWidth-i);s<=25&&(o-=s)}else c<=25&&(o+=c);return{width:o,height:s,x:a,y:l}}(e,n);else if("document"===t)r=function(e){const t=J6(e),n=v8(e),r=e.ownerDocument.body,i=b6(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=b6(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+C8(e);const a=-n.scrollTop;return"rtl"===g8(r).direction&&(s+=b6(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(J6(e));else if(e8(t))r=function(e,t){const n=M8(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=t8(e)?E8(e):S6(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=A8(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return H6(r)}function k8(e,t){const n=y8(e);return!(n===t||!e8(n)||m8(n))&&("fixed"===g8(n).position||k8(n,t))}function P8(e,t,n){const r=t8(t),i=J6(t),o="fixed"===n,s=M8(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=S6(0);function c(){l.x=C8(i)}if(r||!r&&!o)if(("body"!==K6(t)||i8(i))&&(a=v8(t)),r){const e=M8(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=!i||r||o?S6(0):O8(i,a);return{x:s.left+a.scrollLeft-l.x-u.x,y:s.top+a.scrollTop-l.y-u.y,width:s.width,height:s.height}}function N8(e){return"static"===g8(e).position}function D8(e,t){if(!t8(e)||"fixed"===g8(e).position)return null;if(t)return t(e);let n=e.offsetParent;return J6(e)===n&&(n=n.ownerDocument.body),n}function L8(e,t){const n=Z6(e);if(l8(e))return n;if(!t8(e)){let t=y8(e);for(;t&&!m8(t);){if(e8(t)&&!N8(t))return t;t=y8(t)}return n}let r=D8(e,t);for(;r&&s8(r)&&N8(r);)r=D8(r,t);return r&&m8(r)&&N8(r)&&!f8(r)?n:r||function(e){let t=y8(e);for(;t8(t)&&!m8(t);){if(f8(t))return t;if(l8(t))return null;t=y8(t)}return null}(e)||n}const F8={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=J6(r),a=!!t&&l8(t.floating);if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=S6(1);const u=S6(0),h=t8(r);if((h||!h&&!o)&&(("body"!==K6(r)||i8(s))&&(l=v8(r)),t8(r))){const e=M8(r);c=E8(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!s||h||o?S6(0):O8(s,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:J6,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?l8(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=b8(e,[],!1).filter(e=>e8(e)&&"body"!==K6(e)),i=null;const o="fixed"===g8(e).position;let s=o?y8(e):e;for(;e8(s)&&!m8(s);){const t=g8(s),n=f8(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&R8.has(i.position)||i8(s)&&!n&&k8(e,s))?r=r.filter(e=>e!==s):i=t,s=y8(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((e,n)=>{const r=I8(t,n,i);return e.top=b6(r.top,e.top),e.right=_6(r.right,e.right),e.bottom=_6(r.bottom,e.bottom),e.left=b6(r.left,e.left),e},I8(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:L8,getElementRects:async function(e){const t=this.getOffsetParent||L8,n=this.getDimensions,r=await n(e.floating);return{reference:P8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=w8(e);return{width:t,height:n}},getScale:E8,isElement:e8,isRTL:function(e){return"rtl"===g8(e).direction}};function U8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function B8(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=S8(e),u=i||o?[...c?b8(c):[],...b8(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const h=c&&a?function(e,t){let n,r=null;const i=J6(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:h,width:f,height:d}=c;if(a||t(),!f||!d)return;const p={rootMargin:-w6(h)+"px "+-w6(i.clientWidth-(u+f))+"px "+-w6(i.clientHeight-(h+d))+"px "+-w6(u)+"px",threshold:b6(0,_6(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return s();r?s(!1,r):n=setTimeout(()=>{s(!1,1e-7)},1e3)}1!==r||U8(c,e.getBoundingClientRect())||s(),m=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(v){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),o}(c,n):null;let f,d=-1,p=null;s&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m=l?M8(e):null;return l&&function t(){const r=M8(e);m&&!U8(m,r)&&n();m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const z8=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=C6(n),a=O6(n),l="y"===P6(n),c=X6.has(s)?-1:1,u=o&&l?-1:1,h=M6(t,e);let{mainAxis:f,crossAxis:d,alignmentAxis:p}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&"number"==typeof p&&(d="end"===a?-1*p:p),l?{x:d*u,y:f*c}:{x:f*c,y:d*u}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},V8=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=M6(e,t),c={x:n,y:r},u=await G6(t,l),h=P6(C6(i)),f=R6(h);let d=c[f],p=c[h];if(o){const e="y"===f?"bottom":"right";d=A6(d+u["y"===f?"top":"left"],d,d-u[e])}if(s){const e="y"===h?"bottom":"right";p=A6(p+u["y"===h?"top":"left"],p,p-u[e])}const m=a.fn({...t,[f]:d,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[h]:s}}}}}},j8=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=M6(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=C6(i),y=P6(a),_=C6(a)===a,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=f||(_||!m?[V6(a)]:function(e){const t=V6(e);return[D6(e),t,D6(t)]}(a)),w="none"!==p;!f&&w&&x.push(...z6(a,m,p,b));const S=[a,...x],E=await G6(t,g),T=[];let A=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&T.push(E[v]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=O6(e),i=N6(e),o=I6(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=V6(s)),[s,V6(s)]}(i,s,b);T.push(E[e[0]],E[e[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(e=>e<=0)){var M,C;const e=((null==(M=o.flip)?void 0:M.index)||0)+1,t=S[e];if(t){if(!("alignment"===h&&y!==P6(t))||A.every(e=>P6(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:A},reset:{placement:t}}}let n=null==(C=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:C.placement;if(!n)switch(d){case"bestFit":{var O;const e=null==(O=A.filter(e=>{if(w){const t=P6(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},H8=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...c}=M6(e,t),u=await G6(t,c),h=C6(i),f=O6(i),d="y"===P6(i),{width:p,height:m}=o.floating;let g,v;"top"===h||"bottom"===h?(g=h,v=f===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(v=h,g="end"===f?"top":"bottom");const y=m-u.top-u.bottom,_=p-u.left-u.right,b=_6(m-u[g],y),x=_6(p-u[v],_),w=!t.middlewareData.shift;let S=b,E=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=_),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=y),w&&!f){const e=b6(u.left,0),t=b6(u.right,0),n=b6(u.top,0),r=b6(u.bottom,0);d?E=p-2*(0!==e||0!==t?e+t:b6(u.left,u.right)):S=m-2*(0!==n||0!==r?n+r:b6(u.top,u.bottom))}await l({...t,availableWidth:E,availableHeight:S});const T=await s.getDimensions(a.floating);return p!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}},W8=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=M6(e,t);switch(r){case"referenceHidden":{const e=q6(await G6(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:$6(e)}}}case"escaped":{const e=q6(await G6(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:$6(e)}}}default:return{}}}}},G8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=t,{element:c,padding:u=0}=M6(e,t)||{};if(null==c)return{};const h=j6(u),f={x:n,y:r},d=N6(i),p=I6(d),m=await s.getDimensions(c),g="y"===d,v=g?"top":"left",y=g?"bottom":"right",_=g?"clientHeight":"clientWidth",b=o.reference[p]+o.reference[d]-f[d]-o.floating[p],x=f[d]-o.reference[d],w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let S=w?w[_]:0;S&&await(null==s.isElement?void 0:s.isElement(w))||(S=a.floating[_]||o.floating[p]);const E=b/2-x/2,T=S/2-m[p]/2-1,A=_6(h[v],T),M=_6(h[y],T),C=A,O=S-m[p]-M,R=S/2-m[p]/2+E,I=A6(C,R,O),k=!l.arrow&&null!=O6(i)&&R!==I&&o.reference[p]/2-(R<C?A:M)-m[p]/2<0,P=k?R<C?R-C:R-O:0;return{[d]:f[d]+P,data:{[d]:I,centerOffset:R-I-P,...k&&{alignmentOffset:P}},reset:k}}}),q8=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=M6(e,t),u={x:n,y:r},h=P6(i),f=R6(h);let d=u[f],p=u[h];const m=M6(a,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+g.mainAxis,n=o.reference[f]+o.reference[e]-g.mainAxis;d<t?d=t:d>n&&(d=n)}if(c){var v,y;const e="y"===f?"width":"height",t=X6.has(C6(i)),n=o.reference[h]-o.floating[e]+(t&&(null==(v=s.offset)?void 0:v[h])||0)+(t?0:g.crossAxis),r=o.reference[h]+o.reference[e]+(t?0:(null==(y=s.offset)?void 0:y[h])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:d,[h]:p}}}},$8=(e,t,n)=>{const r=new Map,i={platform:F8,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=W6(c,r,l),f=r,d={},p=0;for(let m=0;m<a.length;m++){const{name:n,fn:o}=a[m],{x:g,y:v,data:y,reset:_}=await o({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:d,rects:c,platform:s,elements:{reference:e,floating:t}});u=null!=g?g:u,h=null!=v?v:h,d={...d,[n]:{...d[n],...y}},_&&p<=50&&(p++,"object"==typeof _&&(_.placement&&(f=_.placement),_.rects&&(c=!0===_.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):_.rects),({x:u,y:h}=W6(c,f,l))),m=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:d}})(e,t,{...i,platform:o})};function X8(e){if(function(e){return null!=e&&"object"==typeof e&&"$el"in e}(e)){const t=e.$el;return Q6(t)&&"#comment"===K6(t)?null:t}return e}function Y8(e){return"function"==typeof e?e():on(e)}function K8(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Z8(e,t){const n=K8(e);return Math.round(t*n)/n}const[J8,Q8]=X4("PopperContent");var e9=Fr({inheritAttrs:!1,__name:"PopperContent",props:zi({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1}),emits:["placed"],setup(e,{emit:t}){const n=e,r=t,i=l6(),{forwardRef:o,currentElement:s}=S5(),a=en(),l=en(),{width:c,height:u}=function(e){const t=en(),n=Gs(()=>t.value?.width??0),r=Gs(()=>t.value?.height??0);return di(()=>{const n=u5(e);if(n){t.value={width:n.offsetWidth,height:n.offsetHeight};const e=new ResizeObserver(e=>{if(!Array.isArray(e))return;if(!e.length)return;const r=e[0];let i,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=n.offsetWidth,o=n.offsetHeight;t.value={width:i,height:o}});return e.observe(n,{box:"border-box"}),()=>e.unobserve(n)}t.value=void 0}),{width:n,height:r}}(l),h=Gs(()=>n.side+("center"!==n.align?`-${n.align}`:"")),f=Gs(()=>"number"==typeof n.collisionPadding?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),d=Gs(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=Gs(()=>({padding:f.value,boundary:d.value.filter(m6),altBoundary:d.value.length>0})),m=Gs(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),g=function(e,t){const n=tn();return ir(()=>{n.value=e()},{...t,flush:"sync"}),jt(n)}(()=>{return[z8({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&j8({...p.value,...m.value}),n.avoidCollisions&&V8({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:"partial"===n.sticky?q8():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&j8({...p.value,...m.value}),H8({...p.value,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:i,height:o}=t.reference,s=e.floating.style;s.setProperty("--reka-popper-available-width",`${n}px`),s.setProperty("--reka-popper-available-height",`${r}px`),s.setProperty("--reka-popper-anchor-width",`${i}px`),s.setProperty("--reka-popper-anchor-height",`${o}px`)}}),l.value&&(e={element:l.value,padding:n.arrowPadding},{name:"arrow",options:e,fn(t){const n=X8(Y8(e.element));return null==n?{}:G8({element:n,padding:e.padding}).fn(t)}}),g6({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&W8({strategy:"referenceHidden",...p.value})];var e}),v=Gs(()=>n.reference??i.anchor.value),{floatingStyles:y,placement:_,isPositioned:b,middlewareData:x}=function(e,t,n){void 0===n&&(n={});const r=n.whileElementsMounted,i=Gs(()=>{var e;return null==(e=Y8(n.open))||e}),o=Gs(()=>Y8(n.middleware)),s=Gs(()=>{var e;return null!=(e=Y8(n.placement))?e:"bottom"}),a=Gs(()=>{var e;return null!=(e=Y8(n.strategy))?e:"absolute"}),l=Gs(()=>{var e;return null==(e=Y8(n.transform))||e}),c=Gs(()=>X8(e.value)),u=Gs(()=>X8(t.value)),h=en(0),f=en(0),d=en(a.value),p=en(s.value),m=tn({}),g=en(!1),v=Gs(()=>{const e={position:d.value,left:"0",top:"0"};if(!u.value)return e;const t=Z8(u.value,h.value),n=Z8(u.value,f.value);return l.value?{...e,transform:"translate("+t+"px, "+n+"px)",...K8(u.value)>=1.5&&{willChange:"transform"}}:{position:d.value,left:t+"px",top:n+"px"}});let y;function _(){if(null==c.value||null==u.value)return;const e=i.value;$8(c.value,u.value,{middleware:o.value,placement:s.value,strategy:a.value}).then(t=>{h.value=t.x,f.value=t.y,d.value=t.strategy,p.value=t.placement,m.value=t.middlewareData,g.value=!1!==e})}function b(){"function"==typeof y&&(y(),y=void 0)}return ar([o,s,a,i],_,{flush:"sync"}),ar([c,u],function(){b(),void 0!==r?null==c.value||null==u.value||(y=r(c.value,u.value,_)):_()},{flush:"sync"}),ar(i,function(){i.value||(g.value=!1)},{flush:"sync"}),Re()&&Ie(b),{x:Ht(h),y:Ht(f),strategy:Ht(d),placement:Ht(p),middlewareData:Ht(m),isPositioned:Ht(g),floatingStyles:v,update:_}}(v,a,{strategy:n.positionStrategy,placement:h,whileElementsMounted:(...e)=>B8(...e,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:"always"===n.updatePositionStrategy}),middleware:g}),w=Gs(()=>v6(_.value)[0]),S=Gs(()=>v6(_.value)[1]);or(()=>{b.value&&r("placed")});const E=Gs(()=>0!==x.value.arrow?.centerOffset),T=en("");ir(()=>{s.value&&(T.value=window.getComputedStyle(s.value).zIndex)});const A=Gs(()=>x.value.arrow?.x??0),M=Gs(()=>x.value.arrow?.y??0);return Q8({placedSide:w,onArrowChange:e=>l.value=e,arrowX:A,arrowY:M,shouldHideArrow:E}),(e,t)=>(ns(),as("div",{ref_key:"floatingRef",ref:a,"data-reka-popper-content-wrapper":"",style:Y({...on(y),transform:on(b)?on(y).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:T.value,"--reka-popper-transform-origin":[on(x).transformOrigin?.x,on(x).transformOrigin?.y].join(" "),...on(x).hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}})},[ps(on(z5),Ss({ref:on(o)},e.$attrs,{"as-child":n.asChild,as:e.as,"data-side":w.value,"data-align":S.value,style:{animation:on(b)?void 0:"none"}}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4))}});const t9={top:"bottom",right:"left",bottom:"top",left:"right"};var n9=Fr({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const{forwardRef:t}=S5(),n=J8(),r=Gs(()=>t9[n.placedSide.value]);return(e,i)=>(ns(),as("span",{ref:e=>{on(n).onArrowChange(e)},style:Y({position:"absolute",left:on(n).arrowX?.value?`${on(n).arrowX?.value}px`:void 0,top:on(n).arrowY?.value?`${on(n).arrowY?.value}px`:void 0,[r.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[on(n).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[on(n).placedSide.value],visibility:on(n).shouldHideArrow.value?"hidden":void 0})},[ps(p6,Ss(e.$attrs,{ref:on(t),style:{display:"block"},as:e.as,"as-child":e.asChild,rounded:e.rounded,width:e.width,height:e.height}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4))}});function r9(e,t,n){return void 0!==e&&void 0!==t&&("string"==typeof e?e===t:"function"==typeof n?n(e,t):"string"==typeof n?e?.[n]===t?.[n]:$4(e,t))}const[i9,o9]=X4("ListboxRoot");var s9=Fr({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:t,emit:n}){const r=e,i=n,{multiple:o,highlightOnHover:s,orientation:a,disabled:l,selectionBehavior:c,dir:u}=hn(r),{getItems:h}=r6({isProvider:!0}),{handleTypeaheadSearch:f}=D5(),{primitiveElement:d,currentElement:p}=V5(),m={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"},g=function(e){const t=J4({dir:en("ltr")});return Gs(()=>e?.value||t.dir?.value||"ltr")}(u),v=(y=p,Gs(()=>!sn(y)||Boolean(u5(y)?.closest("form"))));var y;const _=en(),b=en(!1),x=en(!0),w=d5(r,"modelValue",i,{defaultValue:r.defaultValue??(o.value?[]:void 0),passive:void 0===r.modelValue,deep:!0});const S=en(null),E=en(null),T=en(!1),A=en(!1),M=e5(),C=e5(),O=e5();function R(){return h().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)}function I(e,t=!0){if(!e)return;S.value=e,x.value&&S.value.focus(),t&&S.value.scrollIntoView({block:"nearest"});const n=h().find(t=>t.ref===e);i("highlight",n)}function k(){Dn(()=>{N(new KeyboardEvent("keydown",{key:"PageUp"}))})}function P(e){const t=S.value;t?.isConnected&&(E.value=t),S.value=null,i("leave",e)}function N(e){const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return i6[r]}(e,a.value,g.value);if(!t)return;let n=R();if(S.value){if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();const e=n.indexOf(S.value);n=n.slice(e+1)}!function(e,t){if(T.value||"replace"!==r.selectionBehavior||!o.value||!Array.isArray(w.value))return;const n=e.altKey||e.ctrlKey||e.metaKey;if(n&&!e.shiftKey)return;if(e.shiftKey){const n=h().filter(e=>""!==e.ref.dataset.disabled);let r=n.find(e=>e.ref===t)?.value;if(e.key===m.END?r=n[n.length-1].value:e.key===m.HOME&&(r=n[0].value),!r||!_.value)return;const i=function(e,t,n){const r=e.findIndex(e=>$4(e,t)),i=e.findIndex(e=>$4(e,n));if(-1===r||-1===i)return[];const[o,s]=[r,i].sort((e,t)=>e-t);return e.slice(o,s+1)}(n.map(e=>e.value),_.value,r);w.value=i}}(e,n[0])}if(n.length){I(n[S.value||"prev"!==t?0:n.length-1])}return T.value?C.trigger(e):void 0}async function D(e){if(await Dn(),T.value)M.trigger(e);else{const e=R(),t=e.find(e=>"checked"===e.dataset.state);t?I(t):e.length&&I(e[0])}}return ar(w,()=>{b.value||Dn(()=>{D()})},{immediate:!0,deep:!0}),t({highlightedElement:S,highlightItem:function(e){if(T.value)O.trigger(e);else{const t=h().find(t=>r9(t.value,e,r.by));t&&(S.value=t.ref,I(t.ref))}},highlightFirstItem:k,highlightSelected:D,getItems:h}),o9({modelValue:w,onValueChange:function(e){if(b.value=!0,r.multiple){const t=Array.isArray(w.value)?[...w.value]:[],n=t.findIndex(t=>r9(t,e,r.by));"toggle"===r.selectionBehavior?(-1===n?t.push(e):t.splice(n,1),w.value=t):(w.value=[e],_.value=e)}else"toggle"===r.selectionBehavior&&r9(w.value,e,r.by)?w.value=void 0:w.value=e;setTimeout(()=>{b.value=!1},1)},multiple:o,orientation:a,dir:g,disabled:l,highlightOnHover:s,highlightedElement:S,isVirtual:T,virtualFocusHook:M,virtualKeydownHook:C,virtualHighlightHook:O,by:r.by,firstValue:_,selectionBehavior:c,focusable:x,onLeave:P,onEnter:function(e){const t=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(e.currentTarget?.dispatchEvent(t),i("entryFocus",t),!t.defaultPrevented)if(E.value)I(E.value);else{const e=R()?.[0];I(e)}},changeHighlight:I,onKeydownEnter:function(e){S.value&&S.value.isConnected&&(e.preventDefault(),e.stopPropagation(),A.value||S.value.click())},onKeydownNavigation:N,onKeydownTypeAhead:function(e){if(x.value){if(b.value=!0,T.value)C.trigger(e);else{const t=e.altKey||e.ctrlKey||e.metaKey;if(t&&"a"===e.key&&o.value){const t=h(),n=t.map(e=>e.value);w.value=[...n],e.preventDefault(),I(t[t.length-1].ref)}else if(!t){const t=f(e.key,h());t&&I(t)}}setTimeout(()=>{b.value=!1},1)}},onCompositionStart:function(){A.value=!0},onCompositionEnd:function(){Dn(()=>{A.value=!1})},highlightFirstItem:k}),(e,t)=>(ns(),ls(on(z5),{ref_key:"primitiveElement",ref:d,as:e.as,"as-child":e.asChild,dir:on(g),"data-disabled":on(l)?"":void 0,onPointerleave:P,onFocusout:t[0]||(t[0]=async e=>{const t=e.relatedTarget||e.target;await Dn(),S.value&&on(p)&&!on(p).contains(t)&&P(e)})},{default:Kn(()=>[Ri(e.$slots,"default",{modelValue:on(w)}),on(v)&&e.name?(ns(),ls(on(a6),{key:0,name:e.name,value:on(w),disabled:on(l),required:e.required},null,8,["name","value","disabled","required"])):_s("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),a9=Fr({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{CollectionSlot:t}=r6(),n=i9(),r=a5(!1,10);return(e,i)=>(ns(),ls(on(t),null,{default:Kn(()=>[ps(on(z5),{role:"listbox",as:e.as,"as-child":e.asChild,tabindex:on(n).focusable.value?on(n).highlightedElement.value?"-1":"0":"-1","aria-orientation":on(n).orientation.value,"aria-multiselectable":!!on(n).multiple.value,"data-orientation":on(n).orientation.value,onMousedown:i[0]||(i[0]=Il(e=>r.value=!0,["left"])),onFocus:i[1]||(i[1]=e=>{on(r)||on(n).onEnter(e)}),onKeydown:[i[2]||(i[2]=Pl(e=>{("vertical"!==on(n).orientation.value||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)&&("horizontal"!==on(n).orientation.value||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)&&(e.preventDefault(),on(n).focusable.value&&on(n).onKeydownNavigation(e))},["down","up","left","right","home","end"])),Pl(on(n).onKeydownEnter,["enter"]),on(n).onKeydownTypeAhead]},{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),l9=Fr({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=d5(n,"modelValue",t,{defaultValue:"",passive:void 0===n.modelValue}),i=i9(),{primitiveElement:o,currentElement:s}=V5(),a=Gs(()=>n.disabled||i.disabled.value||!1),l=en();return sr(()=>l.value=i.highlightedElement.value?.id),di(()=>{i.focusable.value=!1,setTimeout(()=>{n.autoFocus&&s.value?.focus()},1)}),vi(()=>{i.focusable.value=!0}),(e,t)=>(ns(),ls(on(z5),{ref_key:"primitiveElement",ref:o,as:e.as,"as-child":e.asChild,value:on(r),disabled:a.value?"":void 0,"data-disabled":a.value?"":void 0,"aria-disabled":a.value??void 0,"aria-activedescendant":l.value,type:"text",onKeydown:[Pl(Il(on(i).onKeydownNavigation,["prevent"]),["down","up","home","end"]),Pl(on(i).onKeydownEnter,["enter"])],onInput:t[0]||(t[0]=e=>{r.value=e.target.value,on(i).highlightFirstItem()}),onCompositionstart:on(i).onCompositionStart,onCompositionend:on(i).onCompositionEnd},{default:Kn(()=>[Ri(e.$slots,"default",{modelValue:on(r)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}});const[c9,u9]=X4("ListboxGroup");var h9=Fr({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=P5(0,"reka-listbox-group");return u9({id:n}),(e,r)=>(ns(),ls(on(z5),Ss({role:"group"},t,{"aria-labelledby":on(n)}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),f9=Fr({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e,n=c9({id:""});return(e,r)=>(ns(),ls(on(z5),Ss(t,{id:on(n).id}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16,["id"]))}});const[d9,p9]=X4("ListboxItem");var m9=Fr({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,i=P5(0,"reka-listbox-item"),{CollectionItem:o}=r6(),{forwardRef:s,currentElement:a}=S5(),l=i9(),c=Gs(()=>a.value===l.highlightedElement.value),u=Gs(()=>{return e=l.modelValue.value,t=n.value,r=l.by,void 0!==e&&(Array.isArray(e)?e.some(e=>r9(e,t,r)):r9(e,t,r));var e,t,r}),h=Gs(()=>l.disabled.value||n.disabled);async function f(e){r("select",e),e?.defaultPrevented||!h.value&&e&&(l.onValueChange(n.value),l.changeHighlight(a.value))}function d(e){K4("listbox.select",f,{originalEvent:e,value:n.value})}return p9({isSelected:u}),(e,t)=>(ns(),ls(on(o),{value:e.value},{default:Kn(()=>[$s([c.value,u.value],()=>ps(on(z5),Ss({id:on(i)},e.$attrs,{ref:on(s),role:"option",tabindex:on(l).focusable.value?c.value?"0":"-1":-1,"aria-selected":u.value,as:e.as,"as-child":e.asChild,disabled:h.value?"":void 0,"data-disabled":h.value?"":void 0,"data-highlighted":c.value?"":void 0,"data-state":u.value?"checked":"unchecked",onClick:d,onKeydown:Pl(Il(d,["prevent"]),["space"]),onPointermove:t[0]||(t[0]=()=>{on(l).highlightedElement.value!==on(a)&&on(l).highlightOnHover.value&&!on(l).focusable.value&&on(l).changeHighlight(on(a),!1)})}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),t,1)]),_:3},8,["value"]))}});const[g9,v9]=X4("PopoverRoot");var y9=Fr({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,{modal:i}=hn(n),o=d5(n,"open",r,{defaultValue:n.defaultOpen,passive:void 0===n.open});return v9({contentId:"",triggerId:"",modal:i,open:o,onOpenChange:e=>{o.value=e},onOpenToggle:()=>{o.value=!o.value},triggerElement:en(),hasCustomAnchor:en(!1)}),(e,t)=>(ns(),ls(on(u6),null,{default:Kn(()=>[Ri(e.$slots,"default",{open:on(o),close:()=>o.value=!1})]),_:3}))}}),_9=Fr({__name:"PopoverArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return S5(),(e,n)=>(ns(),ls(on(n9),te(ms(t)),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16))}}),b9=Fr({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=t,r=E5(function(e,...t){const n=t.flat(),r=n[0];return t5(()=>"function"==typeof r?Object.fromEntries(Object.entries(hn(e)).filter(([e,t])=>!r(sn(t),e))):Object.fromEntries(Object.entries(hn(e)).filter(e=>!n.includes(e[0]))))}(e,"trapFocus","disableOutsidePointerEvents")),{forwardRef:i}=S5(),o=g9();return ir(e=>{if(!n5)return;const t=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",t[0]??w5()),document.body.insertAdjacentElement("beforeend",t[1]??w5()),x5++,e(()=>{1===x5&&document.querySelectorAll("[data-reka-focus-guard]").forEach(e=>e.remove()),x5--})}),(e,t)=>(ns(),ls(on(e6),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:t[5]||(t[5]=e=>n("openAutoFocus",e)),onUnmountAutoFocus:t[6]||(t[6]=e=>n("closeAutoFocus",e))},{default:Kn(()=>[ps(on(W5),{"as-child":"","disable-outside-pointer-events":e.disableOutsidePointerEvents,onPointerDownOutside:t[0]||(t[0]=e=>n("pointerDownOutside",e)),onInteractOutside:t[1]||(t[1]=e=>n("interactOutside",e)),onEscapeKeyDown:t[2]||(t[2]=e=>n("escapeKeyDown",e)),onFocusOutside:t[3]||(t[3]=e=>n("focusOutside",e)),onDismiss:t[4]||(t[4]=e=>on(o).onOpenChange(!1))},{default:Kn(()=>[ps(on(e9),Ss(on(r),{id:on(o).contentId,ref:on(i),"data-state":on(o).open.value?"open":"closed","aria-labelledby":on(o).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),x9=Fr({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=g9(),o=en(!1);!function(e){const t=Math.random().toString(36).substring(2,7),n=y5();n.value.set(t,e);const r=Gs({get:()=>n.value.get(t)??!1,set:e=>n.value.set(t,e)});l5(()=>{n.value.delete(t)})}(!0);const s=T5(n,r),{forwardRef:a,currentElement:l}=S5();return function(e){let t;ar(()=>u5(e),e=>{e?t=k5(e):t&&t()}),vi(()=>{t&&t()})}(l),(e,t)=>(ns(),ls(b9,Ss(on(s),{ref:on(a),"trap-focus":on(i).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:t[0]||(t[0]=Il(e=>{r("closeAutoFocus",e),o.value||on(i).triggerElement.value?.focus()},["prevent"])),onPointerDownOutside:t[1]||(t[1]=e=>{r("pointerDownOutside",e);const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,i=2===t.button||n;o.value=i}),onFocusOutside:t[2]||(t[2]=Il(()=>{},["prevent"]))}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16,["trap-focus"]))}}),w9=Fr({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=g9(),o=en(!1),s=en(!1),a=T5(n,r);return(e,t)=>(ns(),ls(b9,Ss(on(a),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||(t[0]=e=>{r("closeAutoFocus",e),e.defaultPrevented||(o.value||on(i).triggerElement.value?.focus(),e.preventDefault()),o.value=!1,s.value=!1}),onInteractOutside:t[1]||(t[1]=async e=>{r("interactOutside",e),e.defaultPrevented||(o.value=!0,"pointerdown"===e.detail.originalEvent.type&&(s.value=!0));const t=e.target,n=on(i).triggerElement.value?.contains(t);n&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&s.value&&e.preventDefault()})}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16))}}),S9=Fr({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=g9(),o=T5(n,r),{forwardRef:s}=S5();return i.contentId||=P5(0,"reka-popover-content"),(e,t)=>(ns(),ls(on(F5),{present:e.forceMount||on(i).open.value},{default:Kn(()=>[on(i).modal.value?(ns(),ls(x9,Ss({key:0},on(o),{ref:on(s)}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16)):(ns(),ls(w9,Ss({key:1},on(o),{ref:on(s)}),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),E9=Fr({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(e,n)=>(ns(),ls(on(t6),te(ms(t)),{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},16))}}),T9=Fr({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=g9(),{forwardRef:r,currentElement:i}=S5();return n.triggerId||=P5(0,"reka-popover-trigger"),di(()=>{n.triggerElement.value=i.value}),(e,i)=>(ns(),ls(Ti(on(n).hasCustomAnchor.value?on(z5):on(h6)),{"as-child":""},{default:Kn(()=>[ps(on(z5),{id:on(n).triggerId,ref:on(r),type:"button"===e.as?"button":void 0,"aria-haspopup":"dialog","aria-expanded":on(n).open.value,"aria-controls":on(n).contentId,"data-state":on(n).open.value?"open":"closed",as:e.as,"as-child":t.asChild,onClick:on(n).onOpenToggle},{default:Kn(()=>[Ri(e.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}});function A9(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=A9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function M9(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=A9(e))&&(r&&(r+=" "),r+=t);return r}const C9=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,O9=M9,R9=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return O9(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==o?void 0:o[e];if(null===t)return null;const s=C9(t)||C9(r);return i[e][s]}),a=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...a}[t]):{...o,...a}[t]===n})?[...e,n,r]:e},[]);return O9(e,s,l,null==n?void 0:n.class,null==n?void 0:n.className)},I9=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),k9="-",P9=[],N9=e=>{const t=F9(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return L9(e);const n=e.split(k9),r=""===n[0]&&n.length>1?1:0;return D9(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],i=n[e];return t?i?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(i,t):t:i||P9}return n[e]||P9}}},D9=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],i=n.nextPart.get(r);if(i){const n=D9(e,t+1,i);if(n)return n}const o=n.validators;if(null===o)return;const s=0===t?e.join(k9):e.slice(t).join(k9),a=o.length;for(let l=0;l<a;l++){const e=o[l];if(e.validator(s))return e.classGroupId}},L9=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),F9=e=>{const{theme:t,classGroups:n}=e;return U9(n,t)},U9=(e,t)=>{const n=I9();for(const r in e){const i=e[r];B9(i,n,r,t)}return n},B9=(e,t,n,r)=>{const i=e.length;for(let o=0;o<i;o++){const i=e[o];z9(i,t,n,r)}},z9=(e,t,n,r)=>{"string"!=typeof e?"function"!=typeof e?H9(e,t,n,r):j9(e,t,n,r):V9(e,t,n)},V9=(e,t,n)=>{(""===e?t:W9(t,e)).classGroupId=n},j9=(e,t,n,r)=>{G9(e)?B9(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},H9=(e,t,n,r)=>{const i=Object.entries(e),o=i.length;for(let s=0;s<o;s++){const[e,o]=i[s];B9(o,W9(t,e),n,r)}},W9=(e,t)=>{let n=e;const r=t.split(k9),i=r.length;for(let o=0;o<i;o++){const e=r[o];let t=n.nextPart.get(e);t||(t=I9(),n.nextPart.set(e,t)),n=t}return n},G9=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,q9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set(e,t){e in n?n[e]=t:i(e,t)}}},$9=[],X9=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),Y9=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,o=0;const s=e.length;for(let u=0;u<s;u++){const s=e[u];if(0===r&&0===i){if(":"===s){t.push(e.slice(o,u)),o=u+1;continue}if("/"===s){n=u;continue}}"["===s?r++:"]"===s?r--:"("===s?i++:")"===s&&i--}const a=0===t.length?e:e.slice(o);let l=a,c=!1;a.endsWith("!")?(l=a.slice(0,-1),c=!0):a.startsWith("!")&&(l=a.slice(1),c=!0);return X9(t,c,l,n&&n>o?n-o:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):X9($9,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},K9=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let i=0;i<e.length;i++){const o=e[i],s="["===o[0],a=t.has(o);s||a?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(o)):r.push(o)}return r.length>0&&(r.sort(),n.push(...r)),n}},Z9=/\s+/,J9=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=J9(e[r]))&&(n&&(n+=" "),n+=t);return n},Q9=[],e7=e=>{const t=t=>t[e]||Q9;return t.isThemeGetter=!0,t},t7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,n7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,r7=/^\d+\/\d+$/,i7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,o7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,a7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,c7=e=>r7.test(e),u7=e=>!!e&&!Number.isNaN(Number(e)),h7=e=>!!e&&Number.isInteger(Number(e)),f7=e=>e.endsWith("%")&&u7(e.slice(0,-1)),d7=e=>i7.test(e),p7=()=>!0,m7=e=>o7.test(e)&&!s7.test(e),g7=()=>!1,v7=e=>a7.test(e),y7=e=>l7.test(e),_7=e=>!x7(e)&&!M7(e),b7=e=>N7(e,U7,g7),x7=e=>t7.test(e),w7=e=>N7(e,B7,m7),S7=e=>N7(e,z7,u7),E7=e=>N7(e,L7,g7),T7=e=>N7(e,F7,y7),A7=e=>N7(e,j7,v7),M7=e=>n7.test(e),C7=e=>D7(e,B7),O7=e=>D7(e,V7),R7=e=>D7(e,L7),I7=e=>D7(e,U7),k7=e=>D7(e,F7),P7=e=>D7(e,j7,!0),N7=(e,t,n)=>{const r=t7.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},D7=(e,t,n=!1)=>{const r=n7.exec(e);return!!r&&(r[1]?t(r[1]):n)},L7=e=>"position"===e||"percentage"===e,F7=e=>"image"===e||"url"===e,U7=e=>"length"===e||"size"===e||"bg-size"===e,B7=e=>"length"===e,z7=e=>"number"===e,V7=e=>"family-name"===e,j7=e=>"shadow"===e,H7=((e,...t)=>{let n,r,i,o;const s=e=>{const t=r(e);if(t)return t;const o=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(Z9);let l="";for(let c=a.length-1;c>=0;c-=1){const e=a[c],{isExternal:t,modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:d}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!d,m=r(p?f.substring(0,d):f);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=0===u.length?"":1===u.length?u[0]:o(u).join(":"),v=h?g+"!":g,y=v+m;if(s.indexOf(y)>-1)continue;s.push(y);const _=i(m,p);for(let n=0;n<_.length;++n){const e=_[n];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,o),o};return o=a=>{const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:q9(e.cacheSize),parseClassName:Y9(e),sortModifiers:K9(e),...N9(e)}))(l),r=n.cache.get,i=n.cache.set,o=s,s(a)},(...e)=>o(((...e)=>{let t,n,r=0,i="";for(;r<e.length;)(t=e[r++])&&(n=J9(t))&&(i&&(i+=" "),i+=n);return i})(...e))})(()=>{const e=e7("color"),t=e7("font"),n=e7("text"),r=e7("font-weight"),i=e7("tracking"),o=e7("leading"),s=e7("breakpoint"),a=e7("container"),l=e7("spacing"),c=e7("radius"),u=e7("shadow"),h=e7("inset-shadow"),f=e7("text-shadow"),d=e7("drop-shadow"),p=e7("blur"),m=e7("perspective"),g=e7("aspect"),v=e7("ease"),y=e7("animate"),_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",M7,x7],b=()=>[M7,x7,l],x=()=>[c7,"full","auto",...b()],w=()=>[h7,"none","subgrid",M7,x7],S=()=>["auto",{span:["full",h7,M7,x7]},h7,M7,x7],E=()=>[h7,"auto",M7,x7],T=()=>["auto","min","max","fr",M7,x7],A=()=>["auto",...b()],M=()=>[c7,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],C=()=>[e,M7,x7],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",R7,E7,{position:[M7,x7]}],R=()=>["auto","cover","contain",I7,b7,{size:[M7,x7]}],I=()=>[f7,C7,w7],k=()=>["","none","full",c,M7,x7],P=()=>["",u7,C7,w7],N=()=>[u7,f7,R7,E7],D=()=>["","none",p,M7,x7],L=()=>["none",u7,M7,x7],F=()=>["none",u7,M7,x7],U=()=>[u7,M7,x7],B=()=>[c7,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[d7],breakpoint:[d7],color:[p7],container:[d7],"drop-shadow":[d7],ease:["in","out","in-out"],font:[_7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[d7],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[d7],shadow:[d7],spacing:["px",u7],text:[d7],"text-shadow":[d7],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",c7,x7,M7,g]}],container:["container"],columns:[{columns:[u7,x7,M7,a]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[h7,"auto",M7,x7]}],basis:[{basis:[c7,"full","auto",a,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[u7,c7,"auto","initial","none",x7]}],grow:[{grow:["",u7,M7,x7]}],shrink:[{shrink:["",u7,M7,x7]}],order:[{order:[h7,"first","last","none",M7,x7]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[a,"screen",...M()]}],"min-w":[{"min-w":[a,"screen","none",...M()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",n,C7,w7]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,M7,S7]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",f7,x7]}],"font-family":[{font:[O7,x7,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,M7,x7]}],"line-clamp":[{"line-clamp":[u7,"none",M7,S7]}],leading:[{leading:[o,...b()]}],"list-image":[{"list-image":["none",M7,x7]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",M7,x7]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[u7,"from-font","auto",M7,w7]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[u7,"auto",M7,x7]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",M7,x7]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",M7,x7]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},h7,M7,x7],radial:["",M7,x7],conic:[h7,M7,x7]},k7,T7]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[u7,M7,x7]}],"outline-w":[{outline:["",u7,C7,w7]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,P7,A7]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",h,P7,A7]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[u7,w7]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",f,P7,A7]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[u7,M7,x7]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[u7]}],"mask-image-linear-from-pos":[{"mask-linear-from":N()}],"mask-image-linear-to-pos":[{"mask-linear-to":N()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":N()}],"mask-image-t-to-pos":[{"mask-t-to":N()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":N()}],"mask-image-r-to-pos":[{"mask-r-to":N()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":N()}],"mask-image-b-to-pos":[{"mask-b-to":N()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":N()}],"mask-image-l-to-pos":[{"mask-l-to":N()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":N()}],"mask-image-x-to-pos":[{"mask-x-to":N()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":N()}],"mask-image-y-to-pos":[{"mask-y-to":N()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[M7,x7]}],"mask-image-radial-from-pos":[{"mask-radial-from":N()}],"mask-image-radial-to-pos":[{"mask-radial-to":N()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[u7]}],"mask-image-conic-from-pos":[{"mask-conic-from":N()}],"mask-image-conic-to-pos":[{"mask-conic-to":N()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",M7,x7]}],filter:[{filter:["","none",M7,x7]}],blur:[{blur:D()}],brightness:[{brightness:[u7,M7,x7]}],contrast:[{contrast:[u7,M7,x7]}],"drop-shadow":[{"drop-shadow":["","none",d,P7,A7]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",u7,M7,x7]}],"hue-rotate":[{"hue-rotate":[u7,M7,x7]}],invert:[{invert:["",u7,M7,x7]}],saturate:[{saturate:[u7,M7,x7]}],sepia:[{sepia:["",u7,M7,x7]}],"backdrop-filter":[{"backdrop-filter":["","none",M7,x7]}],"backdrop-blur":[{"backdrop-blur":D()}],"backdrop-brightness":[{"backdrop-brightness":[u7,M7,x7]}],"backdrop-contrast":[{"backdrop-contrast":[u7,M7,x7]}],"backdrop-grayscale":[{"backdrop-grayscale":["",u7,M7,x7]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u7,M7,x7]}],"backdrop-invert":[{"backdrop-invert":["",u7,M7,x7]}],"backdrop-opacity":[{"backdrop-opacity":[u7,M7,x7]}],"backdrop-saturate":[{"backdrop-saturate":[u7,M7,x7]}],"backdrop-sepia":[{"backdrop-sepia":["",u7,M7,x7]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",M7,x7]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[u7,"initial",M7,x7]}],ease:[{ease:["linear","initial",v,M7,x7]}],delay:[{delay:[u7,M7,x7]}],animate:[{animate:["none",y,M7,x7]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,M7,x7]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[M7,x7,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",M7,x7]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",M7,x7]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[u7,C7,w7,S7]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function W7(e){return(W7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var G7=/^\s+/,q7=/\s+$/;function $7(e,t){if(t=t||{},(e=e||"")instanceof $7)return e;if(!(this instanceof $7))return new $7(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,s=!1,a=!1;"string"==typeof e&&(e=function(e){e=e.replace(G7,"").replace(q7,"").toLowerCase();var t,n=!1;if(uee[e])e=uee[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=See.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=See.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=See.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=See.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=See.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=See.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=See.hex8.exec(e))return{r:mee(t[1]),g:mee(t[2]),b:mee(t[3]),a:_ee(t[4]),format:n?"name":"hex8"};if(t=See.hex6.exec(e))return{r:mee(t[1]),g:mee(t[2]),b:mee(t[3]),format:n?"name":"hex"};if(t=See.hex4.exec(e))return{r:mee(t[1]+""+t[1]),g:mee(t[2]+""+t[2]),b:mee(t[3]+""+t[3]),a:_ee(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=See.hex3.exec(e))return{r:mee(t[1]+""+t[1]),g:mee(t[2]+""+t[2]),b:mee(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==W7(e)&&(Eee(e.r)&&Eee(e.g)&&Eee(e.b)?(l=e.r,c=e.g,u=e.b,t={r:255*dee(l,255),g:255*dee(c,255),b:255*dee(u,255)},s=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):Eee(e.h)&&Eee(e.s)&&Eee(e.v)?(r=vee(e.s),i=vee(e.v),t=function(e,t,n){e=6*dee(e,360),t=dee(t,100),n=dee(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),s=n*(1-i*t),a=n*(1-(1-i)*t),l=r%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],h=[o,o,a,n,n,s][l];return{r:255*c,g:255*u,b:255*h}}(e.h,r,i),s=!0,a="hsv"):Eee(e.h)&&Eee(e.s)&&Eee(e.l)&&(r=vee(e.s),o=vee(e.l),t=function(e,t,n){var r,i,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=dee(e,360),t=dee(t,100),n=dee(n,100),0===t)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;r=s(l,a,e+1/3),i=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),s=!0,a="hsl"),e.hasOwnProperty("a")&&(n=e.a));var l,c,u;return n=fee(n),{ok:s,format:e.format||a,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function X7(e,t,n){e=dee(e,255),t=dee(t,255),n=dee(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var l=o-s;switch(i=a>.5?l/(2-o-s):l/(o+s),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:a}}function Y7(e,t,n){e=dee(e,255),t=dee(t,255),n=dee(n,255);var r,i,o=Math.max(e,t,n),s=Math.min(e,t,n),a=o,l=o-s;if(i=0===o?0:l/o,o==s)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:a}}function K7(e,t,n,r){var i=[gee(Math.round(e).toString(16)),gee(Math.round(t).toString(16)),gee(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Z7(e,t,n,r){return[gee(yee(r)),gee(Math.round(e).toString(16)),gee(Math.round(t).toString(16)),gee(Math.round(n).toString(16))].join("")}function J7(e,t){t=0===t?0:t||10;var n=$7(e).toHsl();return n.s-=t/100,n.s=pee(n.s),$7(n)}function Q7(e,t){t=0===t?0:t||10;var n=$7(e).toHsl();return n.s+=t/100,n.s=pee(n.s),$7(n)}function eee(e){return $7(e).desaturate(100)}function tee(e,t){t=0===t?0:t||10;var n=$7(e).toHsl();return n.l+=t/100,n.l=pee(n.l),$7(n)}function nee(e,t){t=0===t?0:t||10;var n=$7(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),$7(n)}function ree(e,t){t=0===t?0:t||10;var n=$7(e).toHsl();return n.l-=t/100,n.l=pee(n.l),$7(n)}function iee(e,t){var n=$7(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,$7(n)}function oee(e){var t=$7(e).toHsl();return t.h=(t.h+180)%360,$7(t)}function see(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=$7(e).toHsl(),r=[$7(e)],i=360/t,o=1;o<t;o++)r.push($7({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function aee(e){var t=$7(e).toHsl(),n=t.h;return[$7(e),$7({h:(n+72)%360,s:t.s,l:t.l}),$7({h:(n+216)%360,s:t.s,l:t.l})]}function lee(e,t,n){t=t||6,n=n||30;var r=$7(e).toHsl(),i=360/n,o=[$7(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push($7(r));return o}function cee(e,t){t=t||6;for(var n=$7(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push($7({h:r,s:i,v:o})),o=(o+a)%1;return s}$7.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=fee(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Y7(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Y7(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=X7(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=X7(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return K7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[gee(Math.round(e).toString(16)),gee(Math.round(t).toString(16)),gee(Math.round(n).toString(16)),gee(yee(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*dee(this._r,255))+"%",g:Math.round(100*dee(this._g,255))+"%",b:Math.round(100*dee(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*dee(this._r,255))+"%, "+Math.round(100*dee(this._g,255))+"%, "+Math.round(100*dee(this._b,255))+"%)":"rgba("+Math.round(100*dee(this._r,255))+"%, "+Math.round(100*dee(this._g,255))+"%, "+Math.round(100*dee(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(hee[K7(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+Z7(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=$7(e);n="#"+Z7(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return $7(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(tee,arguments)},brighten:function(){return this._applyModification(nee,arguments)},darken:function(){return this._applyModification(ree,arguments)},desaturate:function(){return this._applyModification(J7,arguments)},saturate:function(){return this._applyModification(Q7,arguments)},greyscale:function(){return this._applyModification(eee,arguments)},spin:function(){return this._applyModification(iee,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(lee,arguments)},complement:function(){return this._applyCombination(oee,arguments)},monochromatic:function(){return this._applyCombination(cee,arguments)},splitcomplement:function(){return this._applyCombination(aee,arguments)},triad:function(){return this._applyCombination(see,[3])},tetrad:function(){return this._applyCombination(see,[4])}},$7.fromRatio=function(e,t){if("object"==W7(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:vee(e[r]));e=n}return $7(e,t)},$7.equals=function(e,t){return!(!e||!t)&&$7(e).toRgbString()==$7(t).toRgbString()},$7.random=function(){return $7.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},$7.mix=function(e,t,n){n=0===n?0:n||50;var r=$7(e).toRgb(),i=$7(t).toRgb(),o=n/100;return $7({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},$7.readability=function(e,t){var n=$7(e),r=$7(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},$7.isReadable=function(e,t,n){var r,i,o=$7.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},$7.mostReadable=function(e,t,n){var r,i,o,s,a=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<t.length;c++)(r=$7.readability(e,t[c]))>l&&(l=r,a=$7(t[c]));return $7.isReadable(e,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,$7.mostReadable(e,["#fff","#000"],n))};var uee=$7.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hee=$7.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(uee);function fee(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function dee(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function pee(e){return Math.min(1,Math.max(0,e))}function mee(e){return parseInt(e,16)}function gee(e){return 1==e.length?"0"+e:""+e}function vee(e){return e<=1&&(e=100*e+"%"),e}function yee(e){return Math.round(255*parseFloat(e)).toString(16)}function _ee(e){return mee(e)/255}var bee,xee,wee,See=(xee="[\\s|\\(]+("+(bee="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+bee+")[,|\\s]+("+bee+")\\s*\\)?",wee="[\\s|\\(]+("+bee+")[,|\\s]+("+bee+")[,|\\s]+("+bee+")[,|\\s]+("+bee+")\\s*\\)?",{CSS_UNIT:new RegExp(bee),rgb:new RegExp("rgb"+xee),rgba:new RegExp("rgba"+wee),hsl:new RegExp("hsl"+xee),hsla:new RegExp("hsla"+wee),hsv:new RegExp("hsv"+xee),hsva:new RegExp("hsva"+wee),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Eee(e){return!!See.CSS_UNIT.exec(e)}var Tee,Aee={};var Mee,Cee=(Tee||(Tee=1,(Mee=Mee||{}).stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),i=e.visit(t.style);return i&&(n+=" "+i),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(e){return e.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_calc:function(e){return"calc("+e.value+")"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_hsl:function(t){return e.visit_color("hsl("+t.value[0]+", "+t.value[1]+"%, "+t.value[2]+"%)",t)},visit_hsla:function(t){return e.visit_color("hsla("+t.value[0]+", "+t.value[1]+"%, "+t.value[2]+"%, "+t.value[3]+")",t)},visit_var:function(t){return e.visit_color("var("+t.value+")",t)},visit_color:function(t,n){var r=t,i=e.visit(n.length);return i&&(r+=" "+i),r},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(t){var n="",r=t.length;return t.forEach(function(t,i){n+=e.visit(t),i<r-1&&(n+=", ")}),n},visit_object:function(t){return t.width&&t.height?e.visit(t.width)+" "+e.visit(t.height):""},visit:function(t){if(!t)return"";if(t instanceof Array)return e.visit_array(t);if("object"!=typeof t||t.type){if(t.type){var n=e["visit_"+t.type];if(n)return n(t);throw Error("Missing visitor visit_"+t.type)}throw Error("Invalid node.")}return e.visit_object(t)}};return function(t){return e.visit(t)}}(),(Mee=Mee||{}).parse=function(){var e=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,t=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,i=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,o=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,s=/^(left|center|right|top|bottom)/i,a=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,h=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))rad/,f=/^\(/,d=/^\)/,p=/^,/,m=/^\#([0-9a-fA-F]+)/,g=/^([a-zA-Z]+)/,v=/^rgb/i,y=/^rgba/i,_=/^var/i,b=/^calc/i,x=/^(--[a-zA-Z0-9-,\s\#]+)/,w=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,S=/^hsl/i,E=/^hsla/i,T="";function A(e){var t=new Error(T+": "+e);throw t.source=T,t}function M(){var e=F(C);return T.length>0&&A("Invalid input not EOF"),e}function C(){return O("linear-gradient",e,I)||O("repeating-linear-gradient",t,I)||O("radial-gradient",n,k)||O("repeating-radial-gradient",r,k)}function O(e,t,n){return R(t,function(t){var r=n();return r&&(W(p)||A("Missing comma before color stops")),{type:e,orientation:r,colorStops:F(U)}})}function R(e,t){var n=W(e);if(n){W(f)||A("Missing (");var r=t(n);return W(d)||A("Missing )"),r}}function I(){var e=H("directional",i,1);if(e)return e;var t=H("position-keyword",s,1);return t?{type:"directional",value:t.value}:H("angular",u,1)||H("angular",h,1)}function k(){var e,t,n=P();return n&&((e=[]).push(n),t=T,W(p)&&((n=P())?e.push(n):T=t)),e}function P(){var e,t,n=((t=H("shape",/^(circle)/i,0))&&(t.style=j()||N()),t||((e=H("shape",/^(ellipse)/i,0))&&(e.style=L()||V()||N()),e));if(n)n.at=D();else{var r=N();if(r){n=r;var i=D();i&&(n.at=i)}else{var o=D();if(o)n={type:"default-radial",at:o};else{var s=L();s&&(n={type:"default-radial",at:s})}}}return n}function N(){return H("extent-keyword",o,1)}function D(){if(H("position",/^at/,0)){var e=L();return e||A("Missing positioning value"),e}}function L(){var e={x:V(),y:V()};if(e.x||e.y)return{type:"position",value:e}}function F(e){var t=e(),n=[];if(t)for(n.push(t);W(p);)(t=e())?n.push(t):A("One extra comma");return n}function U(){var e=H("hex",m,1)||R(E,function(){var e=z();W(p);var t=W(l),n=t?t[1]:null;W(p);var r=(t=W(l))?t[1]:null;W(p);var i=z();return n&&r||A("Expected percentage value for saturation and lightness in HSLA"),{type:"hsla",value:[e,n,r,i]}})||R(S,function(){W(l)&&A("HSL hue value must be a number in degrees (0-360) or normalized (-360 to 360), not a percentage");var e=z();W(p);var t=W(l),n=t?t[1]:null;W(p);var r=(t=W(l))?t[1]:null;return n&&r||A("Expected percentage value for saturation and lightness in HSL"),{type:"hsl",value:[e,n,r]}})||R(y,function(){return{type:"rgba",value:F(z)}})||R(v,function(){return{type:"rgb",value:F(z)}})||R(_,function(){return{type:"var",value:B()}})||H("literal",g,0);return e||A("Expected color definition"),e.length=V(),e}function B(){return W(x)[1]}function z(){return W(w)[1]}function V(){return H("%",l,1)||H("position-keyword",s,1)||R(b,function(){for(var e=1,t=0;e>0&&t<T.length;){var n=T.charAt(t);"("===n?e++:")"===n&&e--,t++}e>0&&A("Missing closing parenthesis in calc() expression");var r=T.substring(0,t-1);return G(t-1),{type:"calc",value:r}})||j()}function j(){return H("px",a,1)||H("em",c,1)}function H(e,t,n){var r=W(t);if(r)return{type:e,value:r[n]}}function W(e){var t,n;return(n=/^[\n\r\t\s]+/.exec(T))&&G(n[0].length),(t=e.exec(T))&&G(t[0].length),t}function G(e){T=T.substr(e)}return function(e){return(T=e.toString().trim()).endsWith(";")&&(T=T.slice(0,-1)),M()}}(),Aee.parse=Mee.parse,Aee.stringify=Mee.stringify),Aee),Oee="top",Ree="bottom",Iee="right",kee="left",Pee="auto",Nee=[Oee,Ree,Iee,kee],Dee="start",Lee="end",Fee="viewport",Uee="popper",Bee=Nee.reduce(function(e,t){return e.concat([t+"-"+Dee,t+"-"+Lee])},[]),zee=[].concat(Nee,[Pee]).reduce(function(e,t){return e.concat([t,t+"-"+Dee,t+"-"+Lee])},[]),Vee=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function jee(e){return e?(e.nodeName||"").toLowerCase():null}function Hee(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Wee(e){return e instanceof Hee(e).Element||e instanceof Element}function Gee(e){return e instanceof Hee(e).HTMLElement||e instanceof HTMLElement}function qee(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Hee(e).ShadowRoot||e instanceof ShadowRoot)}const $ee={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Gee(i)&&jee(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Gee(r)&&jee(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};function Xee(e){return e.split("-")[0]}var Yee=Math.max,Kee=Math.min,Zee=Math.round;function Jee(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Qee(){return!/^((?!chrome|android).)*safari/i.test(Jee())}function ete(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Gee(e)&&(i=e.offsetWidth>0&&Zee(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Zee(r.height)/e.offsetHeight||1);var s=(Wee(e)?Hee(e):window).visualViewport,a=!Qee()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,u=r.width/i,h=r.height/o;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function tte(e){var t=ete(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function nte(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&qee(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function rte(e){return Hee(e).getComputedStyle(e)}function ite(e){return["table","td","th"].indexOf(jee(e))>=0}function ote(e){return((Wee(e)?e.ownerDocument:e.document)||window.document).documentElement}function ste(e){return"html"===jee(e)?e:e.assignedSlot||e.parentNode||(qee(e)?e.host:null)||ote(e)}function ate(e){return Gee(e)&&"fixed"!==rte(e).position?e.offsetParent:null}function lte(e){for(var t=Hee(e),n=ate(e);n&&ite(n)&&"static"===rte(n).position;)n=ate(n);return n&&("html"===jee(n)||"body"===jee(n)&&"static"===rte(n).position)?t:n||function(e){var t=/firefox/i.test(Jee());if(/Trident/i.test(Jee())&&Gee(e)&&"fixed"===rte(e).position)return null;var n=ste(e);for(qee(n)&&(n=n.host);Gee(n)&&["html","body"].indexOf(jee(n))<0;){var r=rte(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function cte(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ute(e,t,n){return Yee(e,Kee(t,n))}function hte(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function fte(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function dte(e){return e.split("-")[1]}var pte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mte(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,f=s.x,d=void 0===f?0:f,p=s.y,m=void 0===p?0:p,g="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var v=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),_=kee,b=Oee,x=window;if(c){var w=lte(n),S="clientHeight",E="clientWidth";if(w===Hee(n)&&"static"!==rte(w=ote(n)).position&&"absolute"===a&&(S="scrollHeight",E="scrollWidth"),i===Oee||(i===kee||i===Iee)&&o===Lee)b=Ree,m-=(h&&w===x&&x.visualViewport?x.visualViewport.height:w[S])-r.height,m*=l?1:-1;if(i===kee||(i===Oee||i===Ree)&&o===Lee)_=Iee,d-=(h&&w===x&&x.visualViewport?x.visualViewport.width:w[E])-r.width,d*=l?1:-1}var T,A=Object.assign({position:a},c&&pte),M=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Zee(n*i)/i||0,y:Zee(r*i)/i||0}}({x:d,y:m},Hee(n)):{x:d,y:m};return d=M.x,m=M.y,l?Object.assign({},A,((T={})[b]=y?"0":"",T[_]=v?"0":"",T.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",T)):Object.assign({},A,((t={})[b]=y?m+"px":"",t[_]=v?d+"px":"",t.transform="",t))}var gte={passive:!0};var vte={left:"right",right:"left",bottom:"top",top:"bottom"};function yte(e){return e.replace(/left|right|bottom|top/g,function(e){return vte[e]})}var _te={start:"end",end:"start"};function bte(e){return e.replace(/start|end/g,function(e){return _te[e]})}function xte(e){var t=Hee(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function wte(e){return ete(ote(e)).left+xte(e).scrollLeft}function Ste(e){var t=rte(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Ete(e){return["html","body","#document"].indexOf(jee(e))>=0?e.ownerDocument.body:Gee(e)&&Ste(e)?e:Ete(ste(e))}function Tte(e,t){var n;void 0===t&&(t=[]);var r=Ete(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Hee(r),s=i?[o].concat(o.visualViewport||[],Ste(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(Tte(ste(s)))}function Ate(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Mte(e,t,n){return t===Fee?Ate(function(e,t){var n=Hee(e),r=ote(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var c=Qee();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+wte(e),y:l}}(e,n)):Wee(t)?function(e,t){var n=ete(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ate(function(e){var t,n=ote(e),r=xte(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Yee(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Yee(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+wte(e),l=-r.scrollTop;return"rtl"===rte(i||n).direction&&(a+=Yee(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(ote(e)))}function Cte(e,t,n,r){var i="clippingParents"===t?function(e){var t=Tte(ste(e)),n=["absolute","fixed"].indexOf(rte(e).position)>=0&&Gee(e)?lte(e):e;return Wee(n)?t.filter(function(e){return Wee(e)&&nte(e,n)&&"body"!==jee(e)}):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(t,n){var i=Mte(e,n,r);return t.top=Yee(i.top,t.top),t.right=Kee(i.right,t.right),t.bottom=Kee(i.bottom,t.bottom),t.left=Yee(i.left,t.left),t},Mte(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Ote(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Xee(i):null,s=i?dte(i):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Oee:t={x:a,y:n.y-r.height};break;case Ree:t={x:a,y:n.y+n.height};break;case Iee:t={x:n.x+n.width,y:l};break;case kee:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?cte(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Dee:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Lee:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Rte(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,u=void 0===c?Fee:c,h=n.elementContext,f=void 0===h?Uee:h,d=n.altBoundary,p=void 0!==d&&d,m=n.padding,g=void 0===m?0:m,v=hte("number"!=typeof g?g:fte(g,Nee)),y=f===Uee?"reference":Uee,_=e.rects.popper,b=e.elements[p?y:f],x=Cte(Wee(b)?b:b.contextElement||ote(e.elements.popper),l,u,s),w=ete(e.elements.reference),S=Ote({reference:w,element:_,placement:i}),E=Ate(Object.assign({},_,S)),T=f===Uee?E:w,A={top:x.top-T.top+v.top,bottom:T.bottom-x.bottom+v.bottom,left:x.left-T.left+v.left,right:T.right-x.right+v.right},M=e.modifiersData.offset;if(f===Uee&&M){var C=M[i];Object.keys(A).forEach(function(e){var t=[Iee,Ree].indexOf(e)>=0?1:-1,n=[Oee,Ree].indexOf(e)>=0?"y":"x";A[e]+=C[n]*t})}return A}const Ite={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,m=n.allowedAutoPlacements,g=t.options.placement,v=Xee(g),y=l||(v===g||!p?[yte(g)]:function(e){if(Xee(e)===Pee)return[];var t=yte(e);return[bte(e),t,bte(t)]}(g)),_=[g].concat(y).reduce(function(e,n){return e.concat(Xee(n)===Pee?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?zee:l,u=dte(r),h=u?a?Bee:Bee.filter(function(e){return dte(e)===u}):Nee,f=h.filter(function(e){return c.indexOf(e)>=0});0===f.length&&(f=h);var d=f.reduce(function(t,n){return t[n]=Rte(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[Xee(n)],t},{});return Object.keys(d).sort(function(e,t){return d[e]-d[t]})}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)},[]),b=t.rects.reference,x=t.rects.popper,w=new Map,S=!0,E=_[0],T=0;T<_.length;T++){var A=_[T],M=Xee(A),C=dte(A)===Dee,O=[Oee,Ree].indexOf(M)>=0,R=O?"width":"height",I=Rte(t,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),k=O?C?Iee:kee:C?Ree:Oee;b[R]>x[R]&&(k=yte(k));var P=yte(k),N=[];if(o&&N.push(I[M]<=0),a&&N.push(I[k]<=0,I[P]<=0),N.every(function(e){return e})){E=A,S=!1;break}w.set(A,N)}if(S)for(var D=function(e){var t=_.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},L=p?3:1;L>0;L--){if("break"===D(L))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function kte(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Pte(e){return[Oee,Iee,Ree,kee].some(function(t){return e[t]>=0})}function Nte(e,t,n){void 0===n&&(n=!1);var r,i,o=Gee(t),s=Gee(t)&&function(e){var t=e.getBoundingClientRect(),n=Zee(t.width)/e.offsetWidth||1,r=Zee(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=ote(t),l=ete(e,s,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==jee(t)||Ste(a))&&(c=(r=t)!==Hee(r)&&Gee(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:xte(r)),Gee(t)?((u=ete(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=wte(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Dte(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}var Lte={placement:"bottom",modifiers:[],strategy:"absolute"};function Fte(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Ute(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Lte:i;return function(e,t,n){void 0===n&&(n=o);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Lte,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){var i="function"==typeof n?n(a.options):n;h(),a.options=Object.assign({},o,a.options,i),a.scrollParents={reference:Wee(e)?Tte(e):e.contextElement?Tte(e.contextElement):[],popper:Tte(t)};var s,c,f=function(e){var t=Dte(e);return Vee.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((s=[].concat(r,a.options.modifiers),c=s.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return a.orderedModifiers=f.filter(function(e){return e.enabled}),a.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:a,name:t,instance:u,options:r}),s=function(){};l.push(o||s)}}),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(Fte(t,n)){a.rects={reference:Nte(t,lte(n),"fixed"===a.options.strategy),popper:tte(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(e){return a.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var i=a.orderedModifiers[r],o=i.fn,s=i.options,l=void 0===s?{}:s,h=i.name;"function"==typeof o&&(a=o({state:a,options:l,name:h,instance:u})||a)}else a.reset=!1,r=-1}}},update:(i=function(){return new Promise(function(e){u.forceUpdate(),e(a)})},function(){return s||(s=new Promise(function(e){Promise.resolve().then(function(){s=void 0,e(i())})})),s}),destroy:function(){h(),c=!0}};if(!Fte(e,t))return u;function h(){l.forEach(function(e){return e()}),l=[]}return u.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}var Bte=Ute({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,l=Hee(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,gte)}),a&&l.addEventListener("resize",n.update,gte),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,gte)}),a&&l.removeEventListener("resize",n.update,gte)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ote({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Xee(t.placement),variation:dte(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,mte(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,mte(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},$ee,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=zee.reduce(function(e,n){return e[n]=function(e,t,n){var r=Xee(e),i=[kee,Oee].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[kee,Iee].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e},{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}},Ite,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,m=void 0===p?0:p,g=Rte(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=Xee(t.placement),y=dte(t.placement),_=!y,b=cte(v),x="x"===b?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,T="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(w){if(o){var O,R="y"===b?Oee:kee,I="y"===b?Ree:Iee,k="y"===b?"height":"width",P=w[b],N=P+g[R],D=P-g[I],L=d?-E[k]/2:0,F=y===Dee?S[k]:E[k],U=y===Dee?-E[k]:-S[k],B=t.elements.arrow,z=d&&B?tte(B):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=V[R],H=V[I],W=ute(0,S[k],z[k]),G=_?S[k]/2-L-W-j-A.mainAxis:F-W-j-A.mainAxis,q=_?-S[k]/2+L+W+H+A.mainAxis:U+W+H+A.mainAxis,$=t.elements.arrow&&lte(t.elements.arrow),X=$?"y"===b?$.clientTop||0:$.clientLeft||0:0,Y=null!=(O=null==M?void 0:M[b])?O:0,K=P+q-Y,Z=ute(d?Kee(N,P+G-Y-X):N,P,d?Yee(D,K):D);w[b]=Z,C[b]=Z-P}if(a){var J,Q="x"===b?Oee:kee,ee="x"===b?Ree:Iee,te=w[x],ne="y"===x?"height":"width",re=te+g[Q],ie=te-g[ee],oe=-1!==[Oee,kee].indexOf(v),se=null!=(J=null==M?void 0:M[x])?J:0,ae=oe?re:te-S[ne]-E[ne]-se+A.altAxis,le=oe?te+S[ne]+E[ne]-se-A.altAxis:ie,ce=d&&oe?(he=ute(ae,te,ue=le))>ue?ue:he:ute(d?ae:re,te,d?le:ie);w[x]=ce,C[x]=ce-te}var ue,he;t.modifiersData[r]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Xee(n.placement),l=cte(a),c=[kee,Iee].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(e,t){return hte("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:fte(e,Nee))}(i.padding,n),h=tte(o),f="y"===l?Oee:kee,d="y"===l?Ree:Iee,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=lte(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,_=u[f],b=v-h[c]-u[d],x=v/2-h[c]/2+y,w=ute(_,x,b),S=l;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&nte(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Rte(t,{elementContext:"reference"}),a=Rte(t,{altBoundary:!0}),l=kte(s,r),c=kte(a,i,o),u=Pte(l),h=Pte(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]});function zte(e){return"[object Object]"===Object.prototype.toString.call(e)}function Vte(){return Vte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vte.apply(this,arguments)}function jte(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}const Hte={silent:!1,logLevel:"warn"},Wte=["validator"],Gte=Object.prototype,qte=Gte.toString,$te=Gte.hasOwnProperty,Xte=/^\s*function (\w+)/;function Yte(e){var t;const n=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:e;if(n){const e=n.toString().match(Xte);return e?e[1]:""}return""}const Kte=function(e){var t,n;return!1!==zte(e)&&(void 0===(t=e.constructor)||!1!==zte(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))};let Zte=e=>e;const Jte=(e,t)=>$te.call(e,t),Qte=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},ene=Array.isArray||function(e){return"[object Array]"===qte.call(e)},tne=e=>"[object Function]"===qte.call(e),nne=e=>Kte(e)&&Jte(e,"_vueTypes_name"),rne=e=>Kte(e)&&(Jte(e,"type")||["_vueTypes_name","validator","default","required"].some(t=>Jte(e,t)));function ine(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function one(e,t,n=!1){let r,i=!0,o="";r=Kte(e)?e:{type:e};const s=nne(r)?r._vueTypes_name+" - ":"";if(rne(r)&&null!==r.type){if(void 0===r.type||!0===r.type)return i;if(!r.required&&void 0===t)return i;ene(r.type)?(i=r.type.some(e=>!0===one(e,t,!0)),o=r.type.map(e=>Yte(e)).join(" or ")):(o=Yte(r),i="Array"===o?ene(t):"Object"===o?Kte(t):"String"===o||"Number"===o||"Boolean"===o||"Function"===o?function(e){if(null==e)return"";const t=e.constructor.toString().match(Xte);return t?t[1]:""}(t)===o:t instanceof r.type)}if(!i){const e=`${s}value "${t}" should be of type "${o}"`;return!1===n?(Zte(e),!1):e}if(Jte(r,"validator")&&tne(r.validator)){const e=Zte,o=[];if(Zte=e=>{o.push(e)},i=r.validator(t),Zte=e,!i){const e=(o.length>1?"* ":"")+o.join("\n* ");return o.length=0,!1===n?(Zte(e),i):e}}return i}function sne(e,t){const n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(e){return void 0===e?(Jte(this,"default")&&delete this.default,this):tne(e)||!0===one(this,e,!0)?(this.default=ene(e)?()=>[...e]:Kte(e)?()=>Object.assign({},e):e,this):(Zte(`${this._vueTypes_name} - invalid default value: "${e}"`),this)}}}),{validator:r}=n;return tne(r)&&(n.validator=ine(r,n)),n}function ane(e,t){const n=sne(e,t);return Object.defineProperty(n,"validate",{value(e){return tne(this.validator)&&Zte(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:\n${JSON.stringify(this)}`),this.validator=ine(e,this),this}})}function lne(e,t,n){const r=function(e){const t={};return Object.getOwnPropertyNames(e).forEach(n=>{t[n]=Object.getOwnPropertyDescriptor(e,n)}),Object.defineProperties({},t)}(t);if(r._vueTypes_name=e,!Kte(n))return r;const{validator:i}=n,o=jte(n,Wte);if(tne(i)){let{validator:e}=r;e&&(e=null!==(a=(s=e).__original)&&void 0!==a?a:s),r.validator=ine(e?function(t){return e.call(this,t)&&i.call(this,t)}:i,r)}var s,a;return Object.assign(r,o)}function cne(e){return e.replace(/^(?!\s*$)/gm,"  ")}function une(e,t="custom validation failed"){if("function"!=typeof e)throw new TypeError("[VueTypes error]: You must provide a function as argument");return sne(e.name||"<<anonymous function>>",{type:null,validator(n){const r=e(n);return r||Zte(`${this._vueTypes_name} - ${t}`),r}})}function hne(e){if(!ene(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const t=`oneOf - value should be one of "${e.join('", "')}".`,n=e.reduce((e,t)=>{if(null!=t){const n=t.constructor;-1===e.indexOf(n)&&e.push(n)}return e},[]);return sne("oneOf",{type:n.length>0?n:void 0,validator(n){const r=-1!==e.indexOf(n);return r||Zte(t),r}})}function fne(e){if(!ene(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");let t=!1,n=[];for(let i=0;i<e.length;i+=1){const r=e[i];if(rne(r)){if(nne(r)&&"oneOf"===r._vueTypes_name&&r.type){n=n.concat(r.type);continue}if(tne(r.validator)&&(t=!0),!0===r.type||!r.type){Zte('oneOfType - invalid usage of "true" or "null" as types.');continue}n=n.concat(r.type)}else n.push(r)}n=n.filter((e,t)=>n.indexOf(e)===t);const r=n.length>0?n:null;return sne("oneOfType",t?{type:r,validator(t){const n=[],r=e.some(e=>{const r=one(nne(e)&&"oneOf"===e._vueTypes_name?e.type||null:e,t,!0);return"string"==typeof r&&n.push(r),!0===r});return r||Zte(`oneOfType - provided value does not match any of the ${n.length} passed-in validators:\n${cne(n.join("\n"))}`),r}}:{type:r})}function dne(e){return sne("arrayOf",{type:Array,validator(t){let n="";const r=t.every(t=>(n=one(e,t,!0),!0===n));return r||Zte(`arrayOf - value validation error:\n${cne(n)}`),r}})}function pne(e){return sne("instanceOf",{type:e})}function mne(e){return sne("objectOf",{type:Object,validator(t){let n="";const r=Object.keys(t).every(r=>(n=one(e,t[r],!0),!0===n));return r||Zte(`objectOf - value validation error:\n${cne(n)}`),r}})}function gne(e){const t=Object.keys(e),n=t.filter(t=>{var n;return!(null===(n=e[t])||void 0===n||!n.required)}),r=sne("shape",{type:Object,validator(r){if(!Kte(r))return!1;const i=Object.keys(r);if(n.length>0&&n.some(e=>-1===i.indexOf(e))){const e=n.filter(e=>-1===i.indexOf(e));return Zte(1===e.length?`shape - required property "${e[0]}" is not defined.`:`shape - required properties "${e.join('", "')}" are not defined.`),!1}return i.every(n=>{if(-1===t.indexOf(n))return!0===this._vueTypes_isLoose||(Zte(`shape - shape definition does not include a "${n}" property. Allowed keys: "${t.join('", "')}".`),!1);const i=one(e[n],r[n],!0);return"string"==typeof i&&Zte(`shape - "${n}" property validation error:\n ${cne(i)}`),!0===i})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),r}const vne=["name","validate","getter"],yne=(()=>{var e;return(e=class{static get any(){return ane("any",{})}static get func(){return ane("function",{type:Function}).def(this.defaults.func)}static get bool(){return ane("boolean",{type:Boolean}).def(this.defaults.bool)}static get string(){return ane("string",{type:String}).def(this.defaults.string)}static get number(){return ane("number",{type:Number}).def(this.defaults.number)}static get array(){return ane("array",{type:Array}).def(this.defaults.array)}static get object(){return ane("object",{type:Object}).def(this.defaults.object)}static get integer(){return sne("integer",{type:Number,validator:e=>Qte(e)}).def(this.defaults.integer)}static get symbol(){return sne("symbol",{validator:e=>"symbol"==typeof e})}static get nullable(){return{type:null}}static extend(e){if(ene(e))return e.forEach(e=>this.extend(e)),this;const{name:t,validate:n=!1,getter:r=!1}=e,i=jte(e,vne);if(Jte(this,t))throw new TypeError(`[VueTypes error]: Type "${t}" already defined`);const{type:o}=i;if(nne(o))return delete i.type,Object.defineProperty(this,t,r?{get:()=>lne(t,o,i)}:{value(...e){const n=lne(t,o,i);return n.validator&&(n.validator=n.validator.bind(n,...e)),n}});let s;return s=r?{get(){const e=Object.assign({},i);return n?ane(t,e):sne(t,e)},enumerable:!0}:{value(...e){const r=Object.assign({},i);let o;return o=n?ane(t,r):sne(t,r),r.validator&&(o.validator=r.validator.bind(o,...e)),o},enumerable:!0},Object.defineProperty(this,t,s)}}).defaults={},e.sensibleDefaults=void 0,e.config=Hte,e.custom=une,e.oneOf=hne,e.instanceOf=pne,e.oneOfType=fne,e.arrayOf=dne,e.objectOf=mne,e.shape=gne,e.utils={validate:(e,t)=>!0===one(t,e,!0),toType:(e,t,n=!1)=>n?ane(e,t):sne(e,t)},e})();let _ne=class extends(function(e={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var t;return(t=class extends yne{static get sensibleDefaults(){return Vte({},this.defaults)}static set sensibleDefaults(t){this.defaults=!1!==t?Vte({},!0!==t?t:e):{}}}).defaults=Vte({},e),t}()){};var bne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function xne(e){var t={exports:{}};return e(t,t.exports),t.exports}var wne=function(e){return e&&e.Math==Math&&e},Sne=wne("object"==typeof globalThis&&globalThis)||wne("object"==typeof window&&window)||wne("object"==typeof self&&self)||wne("object"==typeof bne&&bne)||function(){return this}()||Function("return this")(),Ene=function(e){try{return!!e()}catch(t){return!0}},Tne=!Ene(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Ane={}.propertyIsEnumerable,Mne=Object.getOwnPropertyDescriptor,Cne={f:Mne&&!Ane.call({1:2},1)?function(e){var t=Mne(this,e);return!!t&&t.enumerable}:Ane},One=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Rne={}.toString,Ine=function(e){return Rne.call(e).slice(8,-1)},kne="".split,Pne=Ene(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==Ine(e)?kne.call(e,""):Object(e)}:Object,Nne=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Dne=function(e){return Pne(Nne(e))},Lne=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Fne=function(e,t){if(!Lne(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Lne(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Lne(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Lne(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Une={}.hasOwnProperty,Bne=function(e,t){return Une.call(e,t)},zne=Sne.document,Vne=Lne(zne)&&Lne(zne.createElement),jne=function(e){return Vne?zne.createElement(e):{}},Hne=!Tne&&!Ene(function(){return 7!=Object.defineProperty(jne("div"),"a",{get:function(){return 7}}).a}),Wne=Object.getOwnPropertyDescriptor,Gne={f:Tne?Wne:function(e,t){if(e=Dne(e),t=Fne(t,!0),Hne)try{return Wne(e,t)}catch(n){}if(Bne(e,t))return One(!Cne.f.call(e,t),e[t])}},qne=function(e){if(!Lne(e))throw TypeError(String(e)+" is not an object");return e},$ne=Object.defineProperty,Xne={f:Tne?$ne:function(e,t,n){if(qne(e),t=Fne(t,!0),qne(n),Hne)try{return $ne(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},Yne=Tne?function(e,t,n){return Xne.f(e,t,One(1,n))}:function(e,t,n){return e[t]=n,e},Kne=function(e,t){try{Yne(Sne,e,t)}catch(AI){Sne[e]=t}return t},Zne=Sne["__core-js_shared__"]||Kne("__core-js_shared__",{}),Jne=Function.toString;"function"!=typeof Zne.inspectSource&&(Zne.inspectSource=function(e){return Jne.call(e)});var Qne,ere,tre,nre=Zne.inspectSource,rre=Sne.WeakMap,ire="function"==typeof rre&&/native code/.test(nre(rre)),ore=xne(function(e){(e.exports=function(e,t){return Zne[e]||(Zne[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),sre=0,are=Math.random(),lre=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++sre+are).toString(36)},cre=ore("keys"),ure=function(e){return cre[e]||(cre[e]=lre(e))},hre={},fre=Sne.WeakMap;if(ire){var dre=Zne.state||(Zne.state=new fre),pre=dre.get,mre=dre.has,gre=dre.set;Qne=function(e,t){return t.facade=e,gre.call(dre,e,t),t},ere=function(e){return pre.call(dre,e)||{}},tre=function(e){return mre.call(dre,e)}}else{var vre=ure("state");hre[vre]=!0,Qne=function(e,t){return t.facade=e,Yne(e,vre,t),t},ere=function(e){return Bne(e,vre)?e[vre]:{}},tre=function(e){return Bne(e,vre)}}var yre,_re={set:Qne,get:ere,has:tre,enforce:function(e){return tre(e)?ere(e):Qne(e,{})},getterFor:function(e){return function(t){var n;if(!Lne(t)||(n=ere(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},bre=xne(function(e){var t=_re.get,n=_re.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var s,a=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||Bne(i,"name")||Yne(i,"name",t),(s=n(i)).source||(s.source=r.join("string"==typeof t?t:""))),e!==Sne?(a?!c&&e[t]&&(l=!0):delete e[t],l?e[t]=i:Yne(e,t,i)):l?e[t]=i:Kne(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||nre(this)})}),xre=Sne,wre=function(e){return"function"==typeof e?e:void 0},Sre=function(e,t){return arguments.length<2?wre(xre[e])||wre(Sne[e]):xre[e]&&xre[e][t]||Sne[e]&&Sne[e][t]},Ere=Math.ceil,Tre=Math.floor,Are=function(e){return isNaN(e=+e)?0:(e>0?Tre:Ere)(e)},Mre=Math.min,Cre=function(e){return e>0?Mre(Are(e),9007199254740991):0},Ore=Math.max,Rre=Math.min,Ire=function(e,t){var n=Are(e);return n<0?Ore(n+t,0):Rre(n,t)},kre={indexOf:(yre=!1,function(e,t,n){var r,i=Dne(e),o=Cre(i.length),s=Ire(n,o);if(yre&&t!=t){for(;o>s;)if((r=i[s++])!=r)return!0}else for(;o>s;s++)if((yre||s in i)&&i[s]===t)return yre||s||0;return!yre&&-1})},Pre=kre.indexOf,Nre=function(e,t){var n,r=Dne(e),i=0,o=[];for(n in r)!Bne(hre,n)&&Bne(r,n)&&o.push(n);for(;t.length>i;)Bne(r,n=t[i++])&&(~Pre(o,n)||o.push(n));return o},Dre=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lre=Dre.concat("length","prototype"),Fre={f:Object.getOwnPropertyNames||function(e){return Nre(e,Lre)}},Ure={f:Object.getOwnPropertySymbols},Bre=Sre("Reflect","ownKeys")||function(e){var t=Fre.f(qne(e)),n=Ure.f;return n?t.concat(n(e)):t},zre=function(e,t){for(var n=Bre(t),r=Xne.f,i=Gne.f,o=0;o<n.length;o++){var s=n[o];Bne(e,s)||r(e,s,i(t,s))}},Vre=/#|\.prototype\./,jre=function(e,t){var n=Wre[Hre(e)];return n==qre||n!=Gre&&("function"==typeof t?Ene(t):!!t)},Hre=jre.normalize=function(e){return String(e).replace(Vre,".").toLowerCase()},Wre=jre.data={},Gre=jre.NATIVE="N",qre=jre.POLYFILL="P",$re=jre,Xre=Gne.f,Yre=function(e,t){var n,r,i,o,s,a=e.target,l=e.global,c=e.stat;if(n=l?Sne:c?Sne[a]||Kne(a,{}):(Sne[a]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(s=Xre(n,r))&&s.value:n[r],!$re(l?r:a+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;zre(o,i)}(e.sham||i&&i.sham)&&Yne(o,"sham",!0),bre(n,r,o,e)}},Kre=function(e,t){var n=[][e];return!!n&&Ene(function(){n.call(null,t||function(){throw 1},1)})},Zre=Object.defineProperty,Jre={},Qre=function(e){throw e},eie=function(e,t){if(Bne(Jre,e))return Jre[e];t||(t={});var n=[][e],r=!!Bne(t,"ACCESSORS")&&t.ACCESSORS,i=Bne(t,0)?t[0]:Qre,o=Bne(t,1)?t[1]:void 0;return Jre[e]=!!n&&!Ene(function(){if(r&&!Tne)return!0;var e={length:-1};r?Zre(e,1,{enumerable:!0,get:Qre}):e[1]=1,n.call(e,i,o)})},tie=kre.indexOf,nie=[].indexOf,rie=!!nie&&1/[1].indexOf(1,-0)<0,iie=Kre("indexOf"),oie=eie("indexOf",{ACCESSORS:!0,1:0});function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aie(e,t,n){return n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,n),e}Yre({target:"Array",proto:!0,forced:rie||!iie||!oie},{indexOf:function(e){return rie?nie.apply(this,arguments)||0:tie(this,e,arguments.length>1?arguments[1]:void 0)}}),function(){function e(){sie(this,e)}aie(e,0,[{key:"isInBrowser",value:function(){return"undefined"!=typeof window}},{key:"isServer",value:function(){return"undefined"==typeof window}},{key:"getUA",value:function(){return e.isInBrowser()?window.navigator.userAgent.toLowerCase():""}},{key:"isMobile",value:function(){return/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion)}},{key:"isOpera",value:function(){return-1!==navigator.userAgent.indexOf("Opera")}},{key:"isIE",value:function(){var t=e.getUA();return""!==t&&t.indexOf("msie")>0}},{key:"isIE9",value:function(){var t=e.getUA();return""!==t&&t.indexOf("msie 9.0")>0}},{key:"isEdge",value:function(){var t=e.getUA();return""!==t&&t.indexOf("edge/")>0}},{key:"isChrome",value:function(){var t=e.getUA();return""!==t&&/chrome\/\d+/.test(t)&&!e.isEdge()}},{key:"isPhantomJS",value:function(){var t=e.getUA();return""!==t&&/phantomjs/.test(t)}},{key:"isFirefox",value:function(){var t=e.getUA();return""!==t&&/firefox/.test(t)}}])}();var lie=[].join,cie=Pne!=Object,uie=Kre("join",",");Yre({target:"Array",proto:!0,forced:cie||!uie},{join:function(e){return lie.call(Dne(this),void 0===e?",":e)}});var hie,fie,die=function(e){return Object(Nne(e))},pie=Array.isArray||function(e){return"Array"==Ine(e)},mie=!!Object.getOwnPropertySymbols&&!Ene(function(){return!String(Symbol())}),gie=mie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,vie=ore("wks"),yie=Sne.Symbol,_ie=gie?yie:yie&&yie.withoutSetter||lre,bie=function(e){return Bne(vie,e)||(mie&&Bne(yie,e)?vie[e]=yie[e]:vie[e]=_ie("Symbol."+e)),vie[e]},xie=bie("species"),wie=function(e,t){var n;return pie(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!pie(n.prototype)?Lne(n)&&null===(n=n[xie])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Sie=function(e,t,n){var r=Fne(t);r in e?Xne.f(e,r,One(0,n)):e[r]=n},Eie=Sre("navigator","userAgent")||"",Tie=Sne.process,Aie=Tie&&Tie.versions,Mie=Aie&&Aie.v8;Mie?fie=(hie=Mie.split("."))[0]+hie[1]:Eie&&(!(hie=Eie.match(/Edge\/(\d+)/))||hie[1]>=74)&&(hie=Eie.match(/Chrome\/(\d+)/))&&(fie=hie[1]);var Cie=fie&&+fie,Oie=bie("species"),Rie=function(e){return Cie>=51||!Ene(function(){var t=[];return(t.constructor={})[Oie]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Iie=Rie("splice"),kie=eie("splice",{ACCESSORS:!0,0:0,1:2}),Pie=Math.max,Nie=Math.min;Yre({target:"Array",proto:!0,forced:!Iie||!kie},{splice:function(e,t){var n,r,i,o,s,a,l=die(this),c=Cre(l.length),u=Ire(e,c),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=c-u):(n=h-2,r=Nie(Pie(Are(t),0),c-u)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=wie(l,r),o=0;o<r;o++)(s=u+o)in l&&Sie(i,o,l[s]);if(i.length=r,n<r){for(o=u;o<c-r;o++)a=o+n,(s=o+r)in l?l[a]=l[s]:delete l[a];for(o=c;o>c-r+n;o--)delete l[o-1]}else if(n>r)for(o=c-r;o>u;o--)a=o+n-1,(s=o+r-1)in l?l[a]=l[s]:delete l[a];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-r+n,i}});var Die={};Die[bie("toStringTag")]="z";var Lie="[object z]"===String(Die),Fie=bie("toStringTag"),Uie="Arguments"==Ine(function(){return arguments}()),Bie=Lie?Ine:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),Fie))?n:Uie?Ine(t):"Object"==(r=Ine(t))&&"function"==typeof t.callee?"Arguments":r},zie=Lie?{}.toString:function(){return"[object "+Bie(this)+"]"};Lie||bre(Object.prototype,"toString",zie,{unsafe:!0});var Vie=function(){var e=qne(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function jie(e,t){return RegExp(e,t)}var Hie,Wie,Gie={UNSUPPORTED_Y:Ene(function(){var e=jie("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:Ene(function(){var e=jie("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},qie=RegExp.prototype.exec,$ie=String.prototype.replace,Xie=qie,Yie=(Hie=/a/,Wie=/b*/g,qie.call(Hie,"a"),qie.call(Wie,"a"),0!==Hie.lastIndex||0!==Wie.lastIndex),Kie=Gie.UNSUPPORTED_Y||Gie.BROKEN_CARET,Zie=void 0!==/()??/.exec("")[1];(Yie||Zie||Kie)&&(Xie=function(e){var t,n,r,i,o=this,s=Kie&&o.sticky,a=Vie.call(o),l=o.source,c=0,u=e;return s&&(-1===(a=a.replace("y","")).indexOf("g")&&(a+="g"),u=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",a)),Zie&&(n=new RegExp("^"+l+"$(?!\\s)",a)),Yie&&(t=o.lastIndex),r=qie.call(s?n:o,u),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:Yie&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),Zie&&r&&r.length>1&&$ie.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var Jie=Xie;Yre({target:"RegExp",proto:!0,forced:/./.exec!==Jie},{exec:Jie});var Qie=RegExp.prototype,eoe=Qie.toString,toe=Ene(function(){return"/a/b"!=eoe.call({source:"a",flags:"b"})}),noe="toString"!=eoe.name;(toe||noe)&&bre(RegExp.prototype,"toString",function(){var e=qne(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in Qie)?Vie.call(e):n)},{unsafe:!0});var roe=bie("species"),ioe=!Ene(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),ooe="$0"==="a".replace(/./,"$0"),soe=bie("replace"),aoe=!!/./[soe]&&""===/./[soe]("a","$0"),loe=!Ene(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),coe=function(e,t,n,r){var i=bie(e),o=!Ene(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),s=o&&!Ene(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[roe]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t});if(!o||!s||"replace"===e&&(!ioe||!ooe||aoe)||"split"===e&&!loe){var a=/./[i],l=n(i,""[e],function(e,t,n,r,i){return t.exec===Jie?o&&!i?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:ooe,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:aoe}),c=l[0],u=l[1];bre(String.prototype,e,c),bre(RegExp.prototype,i,function(e,t){return u.call(e,this,t)})}r&&Yne(RegExp.prototype[i],"sham",!0)},uoe=bie("match"),hoe=function(e){var t;return Lne(e)&&(void 0!==(t=e[uoe])?!!t:"RegExp"==Ine(e))},foe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},doe=bie("species"),poe={charAt:function(e){return function(t,n){var r,i,o=String(Nne(t)),s=Are(n),a=o.length;return s<0||s>=a?e?"":void 0:(r=o.charCodeAt(s))<55296||r>56319||s+1===a||(i=o.charCodeAt(s+1))<56320||i>57343?e?o.charAt(s):r:e?o.slice(s,s+2):i-56320+(r-55296<<10)+65536}}(!0)},moe=poe.charAt,goe=function(e,t,n){return t+(n?moe(e,t).length:1)},voe=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==Ine(e))throw TypeError("RegExp#exec called on incompatible receiver");return Jie.call(e,t)},yoe=[].push,_oe=Math.min,boe=!Ene(function(){return!RegExp(4294967295,"y")});coe("split",0,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(Nne(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!hoe(e))return t.call(r,e,i);for(var o,s,a,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,h=new RegExp(e.source,c+"g");(o=Jie.call(h,r))&&!((s=h.lastIndex)>u&&(l.push(r.slice(u,o.index)),o.length>1&&o.index<r.length&&yoe.apply(l,o.slice(1)),a=o[0].length,u=s,l.length>=i));)h.lastIndex===o.index&&h.lastIndex++;return u===r.length?!a&&h.test("")||l.push(""):l.push(r.slice(u)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=Nne(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var s=qne(e),a=String(this),l=function(e,t){var n,r=qne(e).constructor;return void 0===r||null==(n=qne(r)[doe])?t:foe(n)}(s,RegExp),c=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(boe?"y":"g"),h=new l(boe?s:"^(?:"+s.source+")",u),f=void 0===i?4294967295:i>>>0;if(0===f)return[];if(0===a.length)return null===voe(h,a)?[a]:[];for(var d=0,p=0,m=[];p<a.length;){h.lastIndex=boe?p:0;var g,v=voe(h,boe?a:a.slice(p));if(null===v||(g=_oe(Cre(h.lastIndex+(boe?0:p)),a.length))===d)p=goe(a,p,c);else{if(m.push(a.slice(d,p)),m.length===f)return m;for(var y=1;y<=v.length-1;y++)if(m.push(v[y]),m.length===f)return m;p=d=g}}return m.push(a.slice(d)),m}]},!boe);var xoe="\t\n\v\f\r \u2028\u2029\ufeff",woe="["+xoe+"]",Soe=RegExp("^"+woe+woe+"*"),Eoe=RegExp(woe+woe+"*$"),Toe={trim:function(e){return function(t){var n=String(Nne(t));return 1&e&&(n=n.replace(Soe,"")),2&e&&(n=n.replace(Eoe,"")),n}}(3)},Aoe=Toe.trim;Yre({target:"String",proto:!0,forced:function(e){return Ene(function(){return!!xoe[e]()||""!=""[e]()||xoe[e].name!==e})}("trim")},{trim:function(){return Aoe(this)}});var Moe=Rie("slice"),Coe=eie("slice",{ACCESSORS:!0,0:0,1:2}),Ooe=bie("species"),Roe=[].slice,Ioe=Math.max;Yre({target:"Array",proto:!0,forced:!Moe||!Coe},{slice:function(e,t){var n,r,i,o=Dne(this),s=Cre(o.length),a=Ire(e,s),l=Ire(void 0===t?s:t,s);if(pie(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!pie(n.prototype)?Lne(n)&&null===(n=n[Ooe])&&(n=void 0):n=void 0,n===Array||void 0===n))return Roe.call(o,a,l);for(r=new(void 0===n?Array:n)(Ioe(l-a,0)),i=0;a<l;a++,i++)a in o&&Sie(r,i,o[a]);return r.length=i,r}});var koe=Object.keys||function(e){return Nre(e,Dre)},Poe=Ene(function(){koe(1)});Yre({target:"Object",stat:!0,forced:Poe},{keys:function(e){return koe(die(e))}});var Noe,Doe=bie("match"),Loe=Gne.f,Foe="".startsWith,Uoe=Math.min,Boe=function(e){var t=/./;try{"/./"[e](t)}catch(AI){try{return t[Doe]=!1,"/./"[e](t)}catch(n){}}return!1}("startsWith"),zoe=!(Boe||(Noe=Loe(String.prototype,"startsWith"),!Noe||Noe.writable));function Voe(e){return(Voe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Yre({target:"String",proto:!0,forced:!zoe&&!Boe},{startsWith:function(e){var t=String(Nne(this));!function(e){if(hoe(e))throw TypeError("The method doesn't accept regular expressions")}(e);var n=Cre(Uoe(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Foe?Foe.call(t,r,n):t.slice(n,n+r.length)===r}});var joe=function(e){return"string"==typeof e},Hoe=function(e){return null!==e&&"object"===Voe(e)},Woe=function(){function e(){sie(this,e)}return aie(e,0,[{key:"isWindow",value:function(e){return e===window}},{key:"addEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&n&&e.addEventListener(t,n,r)}},{key:"removeEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&n&&e.removeEventListener(t,n,r)}},{key:"triggerDragEvent",value:function(t,n){var r=!1,i=function(e){var t;null===(t=n.drag)||void 0===t||t.call(n,e)},o=function t(o){var s;e.removeEventListener(document,"mousemove",i),e.removeEventListener(document,"mouseup",t),document.onselectstart=null,document.ondragstart=null,r=!1,null===(s=n.end)||void 0===s||s.call(n,o)};e.addEventListener(t,"mousedown",function(t){var s;r||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},e.addEventListener(document,"mousemove",i),e.addEventListener(document,"mouseup",o),r=!0,null===(s=n.start)||void 0===s||s.call(n,t))})}},{key:"getBoundingClientRect",value:function(e){return e&&Hoe(e)&&1===e.nodeType?e.getBoundingClientRect():null}},{key:"hasClass",value:function(e,t){return!!(e&&Hoe(e)&&joe(t)&&1===e.nodeType)&&e.classList.contains(t.trim())}},{key:"addClass",value:function(t,n){if(t&&Hoe(t)&&joe(n)&&1===t.nodeType&&(n=n.trim(),!e.hasClass(t,n))){var r=t.className;t.className=r?r+" "+n:n}}},{key:"removeClass",value:function(e,t){if(e&&Hoe(e)&&joe(t)&&1===e.nodeType&&"string"==typeof e.className){t=t.trim();for(var n=e.className.trim().split(" "),r=n.length-1;r>=0;r--)n[r]=n[r].trim(),n[r]&&n[r]!==t||n.splice(r,1);e.className=n.join(" ")}}},{key:"toggleClass",value:function(e,t,n){e&&Hoe(e)&&joe(t)&&1===e.nodeType&&e.classList.toggle(t,n)}},{key:"replaceClass",value:function(t,n,r){t&&Hoe(t)&&joe(n)&&joe(r)&&1===t.nodeType&&(n=n.trim(),r=r.trim(),e.removeClass(t,n),e.addClass(t,r))}},{key:"getScrollTop",value:function(e){var t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}},{key:"setScrollTop",value:function(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}},{key:"getRootScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},{key:"setRootScrollTop",value:function(t){e.setScrollTop(window,t),e.setScrollTop(document.body,t)}},{key:"getElementTop",value:function(t,n){if(e.isWindow(t))return 0;var r=n?e.getScrollTop(n):e.getRootScrollTop();return t.getBoundingClientRect().top+r}},{key:"getVisibleHeight",value:function(t){return e.isWindow(t)?t.innerHeight:t.getBoundingClientRect().height}},{key:"isHidden",value:function(e){if(!e)return!1;var t=window.getComputedStyle(e),n="none"===t.display,r=null===e.offsetParent&&"fixed"!==t.position;return n||r}},{key:"triggerEvent",value:function(e,t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}}},{key:"calcAngle",value:function(e,t){var n=e.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,o=Math.abs(r-t.clientX),s=Math.abs(i-t.clientY),a=s/Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),l=Math.acos(a),c=Math.floor(180/(Math.PI/l));return t.clientX>r&&t.clientY>i&&(c=180-c),t.clientX==r&&t.clientY>i&&(c=180),t.clientX>r&&t.clientY==i&&(c=90),t.clientX<r&&t.clientY>i&&(c=180+c),t.clientX<r&&t.clientY==i&&(c=270),t.clientX<r&&t.clientY<i&&(c=360-c),c}},{key:"querySelector",value:function(e,t){return t?t.querySelector(e):document.querySelector(e)}},{key:"createElement",value:function(e){for(var t=document.createElement(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<r.length;o++)r[o]&&t.classList.add(r[o]);return t}},{key:"appendChild",value:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++)e.appendChild(t+1<1||arguments.length<=t+1?void 0:arguments[t+1])}},{key:"getWindow",value:function(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}},{key:"isElement",value:function(e){return e instanceof this.getWindow(e).Element||e instanceof Element}},{key:"isHTMLElement",value:function(e){return e instanceof this.getWindow(e).HTMLElement||e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return"undefined"!=typeof ShadowRoot&&(e instanceof this.getWindow(e).ShadowRoot||e instanceof ShadowRoot)}},{key:"getWindowScroll",value:function(e){var t=this.getWindow(e);return{scrollLeft:t.pageXOffset||0,scrollTop:t.pageYOffset||0}}}]),e}(),Goe=Math.floor,qoe="".replace,$oe=/\$([$&'`]|\d\d?|<[^>]*>)/g,Xoe=/\$([$&'`]|\d\d?)/g,Yoe=function(e,t,n,r,i,o){var s=n+e.length,a=r.length,l=Xoe;return void 0!==i&&(i=die(i),l=$oe),qoe.call(o,l,function(o,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":c=i[l.slice(1,-1)];break;default:var u=+l;if(0===u)return o;if(u>a){var h=Goe(u/10);return 0===h?o:h<=a?void 0===r[h-1]?l.charAt(1):r[h-1]+l.charAt(1):o}c=r[u-1]}return void 0===c?"":c})},Koe=Math.max,Zoe=Math.min;coe("replace",0,function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,s=i?"$":"$0";return[function(n,r){var i=Nne(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(s)){var a=n(t,e,this,r);if(a.done)return a.value}var l=qne(e),c=String(this),u="function"==typeof r;u||(r=String(r));var h=l.global;if(h){var f=l.unicode;l.lastIndex=0}for(var d=[];;){var p=voe(l,c);if(null===p)break;if(d.push(p),!h)break;""===String(p[0])&&(l.lastIndex=goe(c,Cre(l.lastIndex),f))}for(var m,g="",v=0,y=0;y<d.length;y++){p=d[y];for(var _=String(p[0]),b=Koe(Zoe(Are(p.index),c.length),0),x=[],w=1;w<p.length;w++)x.push(void 0===(m=p[w])?m:String(m));var S=p.groups;if(u){var E=[_].concat(x,b,c);void 0!==S&&E.push(S);var T=String(r.apply(void 0,E))}else T=Yoe(_,c,b,x,S,r);b>=v&&(g+=c.slice(v,b)+T,v=b+_.length)}return g+c.slice(v)}]}),function(){function e(){sie(this,e)}aie(e,0,[{key:"camelize",value:function(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}])}(),function(){function e(){sie(this,e)}aie(e,0,[{key:"_clone",value:function(){}}])}();var Joe=bie("isConcatSpreadable"),Qoe=Cie>=51||!Ene(function(){var e=[];return e[Joe]=!1,e.concat()[0]!==e}),ese=Rie("concat"),tse=function(e){if(!Lne(e))return!1;var t=e[Joe];return void 0!==t?!!t:pie(e)};Yre({target:"Array",proto:!0,forced:!Qoe||!ese},{concat:function(e){var t,n,r,i,o,s=die(this),a=wie(s,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(tse(o=-1===t?s:arguments[t])){if(l+(i=Cre(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in o&&Sie(a,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Sie(a,l++,o)}return a.length=l,a}});var nse,rse=function(e,t,n){if(foe(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},ise=[].push,ose=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,s=7==e,a=5==e||o;return function(l,c,u,h){for(var f,d,p=die(l),m=Pne(p),g=rse(c,u,3),v=Cre(m.length),y=0,_=h||wie,b=t?_(l,v):n||s?_(l,0):void 0;v>y;y++)if((a||y in m)&&(d=g(f=m[y],y,p),e))if(t)b[y]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:ise.call(b,f)}else switch(e){case 4:return!1;case 7:ise.call(b,f)}return o?-1:r||i?i:b}},sse={find:ose(5),findIndex:ose(6)},ase=Tne?Object.defineProperties:function(e,t){qne(e);for(var n,r=koe(t),i=r.length,o=0;i>o;)Xne.f(e,n=r[o++],t[n]);return e},lse=Sre("document","documentElement"),cse=ure("IE_PROTO"),use=function(){},hse=function(e){return"<script>"+e+"<\/script>"},fse=function(){try{nse=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var e,t;fse=nse?function(e){e.write(hse("")),e.close();var t=e.parentWindow.Object;return e=null,t}(nse):((t=jne("iframe")).style.display="none",lse.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(hse("document.F=Object")),e.close(),e.F);for(var n=Dre.length;n--;)delete fse.prototype[Dre[n]];return fse()};hre[cse]=!0;var dse=Object.create||function(e,t){var n;return null!==e?(use.prototype=qne(e),n=new use,use.prototype=null,n[cse]=e):n=fse(),void 0===t?n:ase(n,t)},pse=bie("unscopables"),mse=Array.prototype;null==mse[pse]&&Xne.f(mse,pse,{configurable:!0,value:dse(null)});var gse=function(e){mse[pse][e]=!0},vse=sse.find,yse=!0,_se=eie("find");"find"in[]&&Array(1).find(function(){yse=!1}),Yre({target:"Array",proto:!0,forced:yse||!_se},{find:function(e){return vse(this,e,arguments.length>1?arguments[1]:void 0)}}),gse("find");var bse=sse.findIndex,xse=!0,wse=eie("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){xse=!1}),Yre({target:"Array",proto:!0,forced:xse||!wse},{findIndex:function(e){return bse(this,e,arguments.length>1?arguments[1]:void 0)}}),gse("findIndex");var Sse=function(e,t,n,r,i,o,s,a){for(var l,c=i,u=0,h=!!s&&rse(s,a,3);u<r;){if(u in n){if(l=h?h(n[u],u,t):n[u],o>0&&pie(l))c=Sse(e,t,l,Cre(l.length),c,o-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[c]=l}c++}u++}return c},Ese=Sse;Yre({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=die(this),n=Cre(t.length),r=wie(t,0);return r.length=Ese(r,t,t,n,0,void 0===e?1:Are(e)),r}});var Tse=function(e){var t=e.return;if(void 0!==t)return qne(t.call(e)).value},Ase=function(e,t,n,r){try{return r?t(qne(n)[0],n[1]):t(n)}catch(i){throw Tse(e),i}},Mse={},Cse=bie("iterator"),Ose=Array.prototype,Rse=function(e){return void 0!==e&&(Mse.Array===e||Ose[Cse]===e)},Ise=bie("iterator"),kse=function(e){if(null!=e)return e[Ise]||e["@@iterator"]||Mse[Bie(e)]},Pse=bie("iterator"),Nse=!1;try{var Dse=0,Lse={next:function(){return{done:!!Dse++}},return:function(){Nse=!0}};Lse[Pse]=function(){return this},Array.from(Lse,function(){throw 2})}catch(yre){}var Fse=function(e,t){if(!Nse)return!1;var n=!1;try{var r={};r[Pse]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(i){}return n},Use=!Fse(function(e){Array.from(e)});Yre({target:"Array",stat:!0,forced:Use},{from:function(e){var t,n,r,i,o,s,a=die(e),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,h=void 0!==u,f=kse(a),d=0;if(h&&(u=rse(u,c>2?arguments[2]:void 0,2)),null==f||l==Array&&Rse(f))for(n=new l(t=Cre(a.length));t>d;d++)s=h?u(a[d],d):a[d],Sie(n,d,s);else for(o=(i=f.call(a)).next,n=new l;!(r=o.call(i)).done;d++)s=h?Ase(i,u,[r.value,d],!0):r.value,Sie(n,d,s);return n.length=d,n}});var Bse={left:function(e){return function(t,n,r,i){foe(n);var o=die(t),s=Pne(o),a=Cre(o.length),l=e?a-1:0,c=e?-1:1;if(r<2)for(;;){if(l in s){i=s[l],l+=c;break}if(l+=c,e?l<0:a<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:a>l;l+=c)l in s&&(i=n(i,s[l],l,o));return i}}(!1)},zse="process"==Ine(Sne.process),Vse=Bse.left,jse=Kre("reduce"),Hse=eie("reduce",{1:0});Yre({target:"Array",proto:!0,forced:!jse||!Hse||!zse&&Cie>79&&Cie<83},{reduce:function(e){return Vse(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}}),gse("flat");var Wse,Gse,qse,$se=!Ene(function(){return Object.isExtensible(Object.preventExtensions({}))}),Xse=xne(function(e){var t=Xne.f,n=lre("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!Lne(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Bne(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!Bne(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return $se&&s.REQUIRED&&i(e)&&!Bne(e,n)&&o(e),e}};hre[n]=!0}),Yse=function(e,t){this.stopped=e,this.result=t},Kse=function(e,t,n){var r,i,o,s,a,l,c,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=rse(t,u,1+h+d),m=function(e){return r&&Tse(r),new Yse(!0,e)},g=function(e){return h?(qne(e),d?p(e[0],e[1],m):p(e[0],e[1])):d?p(e,m):p(e)};if(f)r=e;else{if("function"!=typeof(i=kse(e)))throw TypeError("Target is not iterable");if(Rse(i)){for(o=0,s=Cre(e.length);s>o;o++)if((a=g(e[o]))&&a instanceof Yse)return a;return new Yse(!1)}r=i.call(e)}for(l=r.next;!(c=l.call(r)).done;){try{a=g(c.value)}catch(v){throw Tse(r),v}if("object"==typeof a&&a&&a instanceof Yse)return a}return new Yse(!1)},Zse=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Jse=Xne.f,Qse=bie("toStringTag"),eae=function(e,t,n){e&&!Bne(e=n?e:e.prototype,Qse)&&Jse(e,Qse,{configurable:!0,value:t})},tae=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return qne(n),function(e){if(!Lne(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),nae=function(e,t,n){for(var r in t)bre(e,r,t[r],n);return e},rae=!Ene(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),iae=ure("IE_PROTO"),oae=Object.prototype,sae=rae?Object.getPrototypeOf:function(e){return e=die(e),Bne(e,iae)?e[iae]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?oae:null},aae=bie("iterator"),lae=!1;[].keys&&("next"in(qse=[].keys())?(Gse=sae(sae(qse)))!==Object.prototype&&(Wse=Gse):lae=!0),(null==Wse||Ene(function(){var e={};return Wse[aae].call(e)!==e}))&&(Wse={}),Bne(Wse,aae)||Yne(Wse,aae,function(){return this});var cae={IteratorPrototype:Wse,BUGGY_SAFARI_ITERATORS:lae},uae=cae.IteratorPrototype,hae=function(){return this},fae=cae.IteratorPrototype,dae=cae.BUGGY_SAFARI_ITERATORS,pae=bie("iterator"),mae=function(){return this},gae=function(e,t,n,r,i,o,s){!function(e,t,n){var r=t+" Iterator";e.prototype=dse(uae,{next:One(1,n)}),eae(e,r,!1),Mse[r]=hae}(n,t,r);var a,l,c,u=function(e){if(e===i&&m)return m;if(!dae&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,d=e.prototype,p=d[pae]||d["@@iterator"]||i&&d[i],m=!dae&&p||u(i),g="Array"==t&&d.entries||p;if(g&&(a=sae(g.call(new e)),fae!==Object.prototype&&a.next&&(sae(a)!==fae&&(tae?tae(a,fae):"function"!=typeof a[pae]&&Yne(a,pae,mae)),eae(a,h,!0))),"values"==i&&p&&"values"!==p.name&&(f=!0,m=function(){return p.call(this)}),d[pae]!==m&&Yne(d,pae,m),Mse[t]=m,i)if(l={values:u("values"),keys:o?m:u("keys"),entries:u("entries")},s)for(c in l)(dae||f||!(c in d))&&bre(d,c,l[c]);else Yre({target:t,proto:!0,forced:dae||f},l);return l},vae=bie("species"),yae=Xne.f,_ae=Xse.fastKey,bae=_re.set,xae=_re.getterFor;!function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",s=Sne[e],a=s&&s.prototype,l=s,c={},u=function(e){var t=a[e];bre(a,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!Lne(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!Lne(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!Lne(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if($re(e,"function"!=typeof s||!(i||a.forEach&&!Ene(function(){(new s).entries().next()}))))l=n.getConstructor(t,e,r,o),Xse.REQUIRED=!0;else if($re(e,!0)){var h=new l,f=h[o](i?{}:-0,1)!=h,d=Ene(function(){h.has(1)}),p=Fse(function(e){new s(e)}),m=!i&&Ene(function(){for(var e=new s,t=5;t--;)e[o](t,t);return!e.has(-0)});p||((l=t(function(t,n){Zse(t,l,e);var i,a,c,u,h,f=(i=new s,a=t,c=l,tae&&"function"==typeof(u=a.constructor)&&u!==c&&Lne(h=u.prototype)&&h!==c.prototype&&tae(i,h),i);return null!=n&&Kse(n,f[o],{that:f,AS_ENTRIES:r}),f})).prototype=a,a.constructor=l),(d||m)&&(u("delete"),u("has"),r&&u("get")),(m||f)&&u(o),i&&a.clear&&delete a.clear}c[e]=l,Yre({global:!0,forced:l!=s},c),eae(l,e),i||n.setStrong(l,e,r)}("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,n,r){var i=e(function(e,o){Zse(e,i,t),bae(e,{type:t,index:dse(null),first:void 0,last:void 0,size:0}),Tne||(e.size=0),null!=o&&Kse(o,e[r],{that:e,AS_ENTRIES:n})}),o=xae(t),s=function(e,t,n){var r,i,s=o(e),l=a(e,t);return l?l.value=n:(s.last=l={index:i=_ae(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=l),r&&(r.next=l),Tne?s.size++:e.size++,"F"!==i&&(s.index[i]=l)),e},a=function(e,t){var n,r=o(e),i=_ae(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return nae(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Tne?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=a(t,e);if(r){var i=r.next,s=r.previous;delete n.index[r.index],r.removed=!0,s&&(s.next=i),i&&(i.previous=s),n.first==r&&(n.first=i),n.last==r&&(n.last=s),Tne?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=rse(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!a(this,e)}}),nae(i.prototype,n?{get:function(e){var t=a(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),Tne&&yae(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=xae(t),o=xae(r);gae(e,t,function(e,t){bae(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(e){var t=Sre(e),n=Xne.f;Tne&&t&&!t[vae]&&n(t,vae,{configurable:!0,get:function(){return this}})}(t)}});var wae=poe.charAt,Sae=_re.set,Eae=_re.getterFor("String Iterator");gae(String,"String",function(e){Sae(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=Eae(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=wae(n,r),t.index+=e.length,{value:e,done:!1})});var Tae={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Aae=_re.set,Mae=_re.getterFor("Array Iterator"),Cae=gae(Array,"Array",function(e,t){Aae(this,{type:"Array Iterator",target:Dne(e),index:0,kind:t})},function(){var e=Mae(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");Mse.Arguments=Mse.Array,gse("keys"),gse("values"),gse("entries");var Oae=bie("iterator"),Rae=bie("toStringTag"),Iae=Cae.values;for(var kae in Tae){var Pae=Sne[kae],Nae=Pae&&Pae.prototype;if(Nae){if(Nae[Oae]!==Iae)try{Yne(Nae,Oae,Iae)}catch(yre){Nae[Oae]=Iae}if(Nae[Rae]||Yne(Nae,Rae,kae),Tae[kae])for(var Dae in Cae)if(Nae[Dae]!==Cae[Dae])try{Yne(Nae,Dae,Cae[Dae])}catch(yre){Nae[Dae]=Cae[Dae]}}}!function(){function e(){sie(this,e)}aie(e,0,[{key:"deduplicate",value:function(e){return Array.from(new Set(e))}},{key:"flat",value:function(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e.flat(n):n;return t.concat(r)},[])}},{key:"find",value:function(e,t){return e.find(t)}},{key:"findIndex",value:function(e,t){return e.findIndex(t)}}])}(),function(){function e(){sie(this,e)}aie(e,0,[{key:"today",value:function(){return new Date}}])}(),function(){function e(){sie(this,e)}aie(e,0,[{key:"range",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"clamp",value:function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}}])}();var Lae=Object.defineProperty,Fae=(e,t,n)=>(((e,t,n)=>{t in e?Lae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Uae=e=>Math.round(100*e)/100;class Bae{constructor(e){Fae(this,"instance"),Fae(this,"alphaValue",0),Fae(this,"redValue",0),Fae(this,"greenValue",0),Fae(this,"blueValue",0),Fae(this,"hueValue",0),Fae(this,"saturationValue",0),Fae(this,"brightnessValue",0),Fae(this,"hslSaturationValue",0),Fae(this,"lightnessValue",0),Fae(this,"initAlpha",()=>{const e=this.instance.getAlpha();this.alphaValue=100*Math.min(1,e)}),Fae(this,"initLightness",()=>{const{s:e,l:t}=this.instance.toHsl();this.hslSaturationValue=Uae(e),this.lightnessValue=Uae(t)}),Fae(this,"initRgb",()=>{const{r:e,g:t,b:n}=this.instance.toRgb();this.redValue=Uae(e),this.greenValue=Uae(t),this.blueValue=Uae(n)}),Fae(this,"initHsb",()=>{const{h:e,s:t,v:n}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(e)),this.saturationValue=Uae(t),this.brightnessValue=Uae(n)}),Fae(this,"toHexString",()=>this.instance.toHexString()),Fae(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=$7(e),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(e){return this.instance.toString(e)}get hex(){return this.instance.toHex()}set hex(e){this.instance=$7(e),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(e){0===this.saturation&&0===this.brightness&&(this.saturationValue=1,this.brightnessValue=1),this.instance=$7({h:Uae(e),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=Uae(e)}get hue(){return this.hueValue}set saturation(e){this.instance=$7({h:this.hue,s:Uae(e),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=Uae(e)}get saturation(){return this.saturationValue}set brightness(e){this.instance=$7({h:this.hue,s:this.saturation,v:Uae(e),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=Uae(e)}get brightness(){return this.brightnessValue}set lightness(e){this.instance=$7({h:this.hue,s:this.hslSaturationValue,l:Uae(e),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=Uae(e)}get lightness(){return this.lightnessValue}set red(e){const t=this.instance.toRgb();this.instance=$7({...t,r:Uae(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=Uae(e)}get red(){return this.redValue}set green(e){const t=this.instance.toRgb();this.instance=$7({...t,g:Uae(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=Uae(e)}get green(){return this.greenValue}set blue(e){const t=this.instance.toRgb();this.instance=$7({...t,b:Uae(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=Uae(e)}get blue(){return this.blueValue}set alpha(e){this.instance.setAlpha(e/100),this.alphaValue=e}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,parseFloat((this.alpha/100).toFixed(2))]}get HSB(){return[this.hue,this.saturation,this.brightness,parseFloat((this.alpha/100).toFixed(2))]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,parseFloat((this.alpha/100).toFixed(2))]}}function zae(e,t,n,r){return`rgba(${[e,t,n,r/100].join(",")})`}const Vae=(e,t,n)=>t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e,jae="color-history",Hae=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Wae=Fr({name:"Alpha",props:{color:_ne.instanceOf(Bae),size:_ne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=en(null),r=en(null);let i=e.color||new Bae;const o=zt({red:i.red,green:i.green,blue:i.blue,alpha:i.alpha});ar(()=>e.color,e=>{e&&(i=e,x4(o,{red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}))},{deep:!0});const s=Gs(()=>({background:`linear-gradient(to right, ${zae(o.red,o.green,o.blue,0)} , ${zae(o.red,o.green,o.blue,100)})`})),a=()=>{if(n.value&&r.value){const e=o.alpha/100,t=n.value.getBoundingClientRect(),i=r.value.offsetWidth;return Math.round(e*(t.width-i)+i/2)}return 0},l=Gs(()=>({left:a()+"px",top:0})),c=e=>{if(e.stopPropagation(),n.value&&r.value){const s=n.value.getBoundingClientRect(),a=r.value.offsetWidth;let l=e.clientX-s.left;l=Math.max(a/2,l),l=Math.min(l,s.width-a/2);const c=Math.round((l-a/2)/(s.width-a)*100);i.alpha=c,o.alpha=c,t("change",c)}};return OO(()=>{const e={drag:e=>{c(e)},end:e=>{c(e)}};n.value&&r.value&&Woe.triggerDragEvent(n.value,e)}),{barElement:n,cursorElement:r,getCursorStyle:l,getBackgroundStyle:s,onClickSider:e=>{e.target!==n.value&&c(e)}}}}),Gae=[(e=>(Xn("data-v-18925ba6"),e=e(),Yn(),e))(()=>ds("div",{class:"vc-alpha-slider__bar-handle"},null,-1))];const qae=Hae(Wae,[["render",function(e,t,n,r,i,o){return ns(),as("div",{class:ee(["vc-alpha-slider","transparent",{"small-slider":"small"===e.size}])},[ds("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:Y(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[ds("div",{class:ee(["vc-alpha-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:Y(e.getCursorStyle)},Gae,6)],4)],2)}],["__scopeId","data-v-18925ba6"]]),$ae=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],Xae=Fr({name:"Palette",emits:["change"],setup:(e,{emit:t})=>({palettes:$ae,computedBgStyle:e=>"transparent"===e?e:"advance"===e?{}:{background:$7(e).toRgbString()},onColorChange:e=>{t("change",e)}})}),Yae={class:"vc-compact"},Kae=["onClick"];const Zae=Hae(Xae,[["render",function(e,t,n,r,i,o){return ns(),as("div",Yae,[(ns(!0),as(Ko,null,Oi(e.palettes,(t,n)=>(ns(),as("div",{key:n,class:"vc-compact__row"},[(ns(!0),as(Ko,null,Oi(t,(t,n)=>(ns(),as("div",{key:n,class:"vc-compact__color-cube--wrap",onClick:n=>e.onColorChange(t)},[ds("div",{class:ee(["vc-compact__color_cube",{advance:"advance"===t,transparent:"transparent"===t}]),style:Y(e.computedBgStyle(t))},null,6)],8,Kae))),128))]))),128))])}],["__scopeId","data-v-b969fd48"]]),Jae=Fr({name:"Board",props:{color:_ne.instanceOf(Bae),round:_ne.bool.def(!1),hide:_ne.bool.def(!0)},emits:["change"],setup(e,{emit:t}){var n,r,i;const o=Os(),s={h:(null==(n=e.color)?void 0:n.hue)||0,s:1,v:1},a=zt({hueColor:new Bae(s).toHexString(),saturation:(null==(r=e.color)?void 0:r.saturation)||0,brightness:(null==(i=e.color)?void 0:i.brightness)||0}),l=en(0),c=en(0),u=en(),h=Gs(()=>({top:l.value+"px",left:c.value+"px"})),f=()=>{if(o){const e=o.vnode.el;c.value=a.saturation*(null==e?void 0:e.clientWidth),l.value=(1-a.brightness)*(null==e?void 0:e.clientHeight)}};let d=!1;const p=e=>{if(o){const n=o.vnode.el,r=null==n?void 0:n.getBoundingClientRect();let i=e.clientX-r.left,s=e.clientY-r.top;i=Vae(i,0,r.width),s=Vae(s,0,r.height);const u=i/r.width,h=Vae(-s/r.height+1,0,1);c.value=i,l.value=s,a.saturation=u,a.brightness=h,t("change",u,h)}};return OO(()=>{o&&o.vnode.el&&u.value&&Dn(()=>{f()})}),RO(()=>e.color,e=>{x4(a,{hueColor:new Bae({h:e.hue,s:1,v:1}).toHexString(),saturation:e.saturation,brightness:e.brightness}),f()},{deep:!0}),{state:a,cursorElement:u,getCursorStyle:h,onClickBoard:e=>{d=!0,p(e)},onDrag:e=>{d&&p(e)},onDragEnd:()=>{d=!1}}}}),Qae=e=>(Xn("data-v-7f0cdcdf"),e=e(),Yn(),e),ele=Qae(()=>ds("div",{class:"vc-saturation__white"},null,-1)),tle=Qae(()=>ds("div",{class:"vc-saturation__black"},null,-1)),nle=[Qae(()=>ds("div",null,null,-1))];const rle=Hae(Jae,[["render",function(e,t,n,r,i,o){return ns(),as("div",{ref:"boardElement",class:ee(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:Y({backgroundColor:e.state.hueColor}),onMousedown:t[0]||(t[0]=(...t)=>e.onClickBoard&&e.onClickBoard(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.onDrag&&e.onDrag(...t)),onMouseup:t[2]||(t[2]=(...t)=>e.onDragEnd&&e.onDragEnd(...t))},[ele,tle,ds("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:Y(e.getCursorStyle)},nle,4)],38)}],["__scopeId","data-v-7f0cdcdf"]]),ile=Fr({name:"Hue",props:{color:_ne.instanceOf(Bae),size:_ne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=en(null),r=en(null);let i=e.color||new Bae;const o=zt({hue:i.hue||0});ar(()=>e.color,e=>{e&&(i=e,x4(o,{hue:i.hue}))},{deep:!0});const s=()=>{if(n.value&&r.value){const e=n.value.getBoundingClientRect(),t=r.value.offsetWidth;return 360===o.hue?e.width-t/2:o.hue%360*(e.width-t)/360+t/2}return 0},a=Gs(()=>({left:s()+"px",top:0})),l=e=>{if(e.stopPropagation(),n.value&&r.value){const s=n.value.getBoundingClientRect(),a=r.value.offsetWidth;let l=e.clientX-s.left;l=Math.min(l,s.width-a/2),l=Math.max(a/2,l);const c=Math.round((l-a/2)/(s.width-a)*360);i.hue=c,o.hue=c,t("change",c)}};return OO(()=>{const e={drag:e=>{l(e)},end:e=>{l(e)}};n.value&&r.value&&Woe.triggerDragEvent(n.value,e)}),{barElement:n,cursorElement:r,getCursorStyle:a,onClickSider:e=>{e.target!==n.value&&l(e)}}}}),ole=[(e=>(Xn("data-v-e1a08576"),e=e(),Yn(),e))(()=>ds("div",{class:"vc-hue-slider__bar-handle"},null,-1))];const sle=Hae(ile,[["render",function(e,t,n,r,i,o){return ns(),as("div",{class:ee(["vc-hue-slider",{"small-slider":"small"===e.size}])},[ds("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[ds("div",{class:ee(["vc-hue-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:Y(e.getCursorStyle)},ole,6)],512)],2)}],["__scopeId","data-v-e1a08576"]]),ale=Fr({name:"Lightness",props:{color:_ne.instanceOf(Bae),size:_ne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=en(null),r=en(null);let i=e.color||new Bae;const[o,s,a]=i.HSL,l=zt({hue:o,saturation:s,lightness:a});ar(()=>e.color,e=>{if(e){i=e;const[t,n,r]=i.HSL;x4(l,{hue:t,saturation:n,lightness:r})}},{deep:!0});const c=Gs(()=>{const e=$7({h:l.hue,s:l.saturation,l:.8}).toPercentageRgbString(),t=$7({h:l.hue,s:l.saturation,l:.6}).toPercentageRgbString(),n=$7({h:l.hue,s:l.saturation,l:.4}).toPercentageRgbString(),r=$7({h:l.hue,s:l.saturation,l:.2}).toPercentageRgbString();return{background:[`linear-gradient(to right, rgb(255, 255, 255), ${e}, ${t}, ${n}, ${r}, rgb(0, 0, 0))`,`-webkit-linear-gradient(left, rgb(255, 255, 255), ${e}, ${t}, ${n}, ${r}, rgb(0, 0, 0))`,`-moz-linear-gradient(left, rgb(255, 255, 255), ${e}, ${t}, ${n}, ${r}, rgb(0, 0, 0))`,`-ms-linear-gradient(left, rgb(255, 255, 255), ${e}, ${t}, ${n}, ${r}, rgb(0, 0, 0))`]}}),u=()=>{if(n.value&&r.value){const e=l.lightness,t=n.value.getBoundingClientRect(),i=r.value.offsetWidth;return(1-e)*(t.width-i)+i/2}return 0},h=Gs(()=>({left:u()+"px",top:0})),f=e=>{if(e.stopPropagation(),n.value&&r.value){const o=n.value.getBoundingClientRect(),s=r.value.offsetWidth;let a=e.clientX-o.left;a=Math.max(s/2,a),a=Math.min(a,o.width-s/2);const l=1-(a-s/2)/(o.width-s);i.lightness=l,t("change",l)}};return OO(()=>{const e={drag:e=>{f(e)},end:e=>{f(e)}};n.value&&r.value&&Woe.triggerDragEvent(n.value,e)}),{barElement:n,cursorElement:r,getCursorStyle:h,getBackgroundStyle:c,onClickSider:e=>{e.target!==n.value&&f(e)}}}}),lle=[(e=>(Xn("data-v-94a50a9e"),e=e(),Yn(),e))(()=>ds("div",{class:"vc-lightness-slider__bar-handle"},null,-1))];const cle=Hae(ale,[["render",function(e,t,n,r,i,o){return ns(),as("div",{class:ee(["vc-lightness-slider",{"small-slider":"small"===e.size}])},[ds("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:Y(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[ds("div",{class:ee(["vc-lightness-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:Y(e.getCursorStyle)},lle,6)],4)],2)}],["__scopeId","data-v-94a50a9e"]]),ule=Fr({name:"History",props:{colors:_ne.arrayOf(String).def(()=>[]),round:_ne.bool.def(!1)},emits:["change"],setup:(e,{emit:t})=>({onColorSelect:e=>{t("change",e)}})}),hle={key:0,class:"vc-colorPicker__record"},fle={class:"color-list"},dle=["onClick"];const ple=Hae(ule,[["render",function(e,t,n,r,i,o){return e.colors&&e.colors.length>0?(ns(),as("div",hle,[ds("div",fle,[(ns(!0),as(Ko,null,Oi(e.colors,(t,n)=>(ns(),as("div",{key:n,class:ee(["color-item","transparent",{"color-item__round":e.round}]),onClick:n=>e.onColorSelect(t)},[ds("div",{class:"color-item__display",style:Y({backgroundColor:t})},null,4)],10,dle))),128))])])):_s("",!0)}],["__scopeId","data-v-0f657238"]]),mle=Fr({name:"Display",props:{color:_ne.instanceOf(Bae),disableAlpha:_ne.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){var n,r,i,o;const{copy:s,copied:a,isSupported:l}=zO(),c=en("hex"),u=zt({color:e.color,hex:null==(n=e.color)?void 0:n.hex,alpha:Math.round((null==(r=e.color)?void 0:r.alpha)||100),rgba:null==(i=e.color)?void 0:i.RGB,previewBgColor:null==(o=e.color)?void 0:o.toRgbString()}),h=Gs(()=>({background:u.previewBgColor})),f=EO(e=>{if(!e.target.value)return;let n=parseInt(e.target.value.replace("%",""));n>100&&(e.target.value="100",n=100),n<0&&(e.target.value="0",n=0),isNaN(n)&&(e.target.value="100",n=100),!isNaN(n)&&u.color&&(u.color.alpha=n),t("change",u.color)},300),d=EO((e,n)=>{if(u.color)if("hex"===c.value){const n=e.target.value.replace("#","");$7(n).isValid()?[3,4].includes(n.length)&&(u.color.hex=n):u.color.hex="000000",t("change",u.color)}else if("rgba"===c.value&&3===n&&"0."===e.target.value.toString()&&u.rgba){u.rgba[n]=e.target.value;const[r,i,o,s]=u.rgba;u.color.hex=$7({r:r,g:i,b:o}).toHex(),u.color.alpha=Math.round(100*s),t("change",u.color)}},100),p=EO((e,n)=>{if(e.target.value){if("hex"===c.value){const t=e.target.value.replace("#","");$7(t).isValid()&&u.color&&[6,8].includes(t.length)&&(u.color.hex=t)}else if(void 0!==n&&u.rgba&&u.color){if(e.target.value<0&&(e.target.value=0),3===n&&((e.target.value>1||isNaN(e.target.value))&&(e.target.value=1),"0."===e.target.value.toString()))return;n<3&&e.target.value>255&&(e.target.value=255),u.rgba[n]=e.target.value;const[t,r,i,o]=u.rgba;u.color.hex=$7({r:t,g:r,b:i}).toHex(),u.color.alpha=Math.round(100*o)}t("change",u.color)}},300);return RO(()=>e.color,e=>{e&&(u.color=e,u.alpha=Math.round(u.color.alpha),u.hex=u.color.hex,u.rgba=u.color.RGB)},{deep:!0}),RO(()=>u.color,()=>{u.color&&(u.previewBgColor=u.color.toRgbString())},{deep:!0}),{state:u,getBgColorStyle:h,inputType:c,copied:a,onInputTypeChange:()=>{c.value="rgba"===c.value?"hex":"rgba"},onAlphaBlur:f,onInputChange:p,onBlurChange:d,onCopyColorStr:()=>{if(l&&u.color){const e="hex"===c.value?u.color.toString(100===u.color.alpha?"hex6":"hex8"):u.color.toRgbString();s(e||"")}}}}}),gle={class:"vc-display"},vle={class:"vc-current-color vc-transparent"},yle={key:0,class:"copy-text"},_le={key:0,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},ble={class:"vc-color-input"},xle={key:0,class:"vc-alpha-input"},wle=["value"],Sle={key:1,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},Ele=["value","onInput","onBlur"];const Tle=Hae(mle,[["render",function(e,t,n,r,i,o){return ns(),as("div",gle,[ds("div",vle,[ds("div",{class:"color-cube",style:Y(e.getBgColorStyle),onClick:t[0]||(t[0]=(...t)=>e.onCopyColorStr&&e.onCopyColorStr(...t))},[e.copied?(ns(),as("span",yle,"Copied!")):_s("",!0)],4)]),"hex"===e.inputType?(ns(),as("div",_le,[ds("div",ble,[Zn(ds("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.hex=t),maxlength:"8",onInput:t[2]||(t[2]=(...t)=>e.onInputChange&&e.onInputChange(...t)),onBlur:t[3]||(t[3]=(...t)=>e.onBlurChange&&e.onBlurChange(...t))},null,544),[[yl,e.state.hex]])]),e.disableAlpha?_s("",!0):(ns(),as("div",xle,[ds("input",{class:"vc-alpha-input__inner",value:e.state.alpha,onInput:t[4]||(t[4]=(...t)=>e.onAlphaBlur&&e.onAlphaBlur(...t))},null,40,wle),vs("% ")]))])):e.state.rgba?(ns(),as("div",Sle,[(ns(!0),as(Ko,null,Oi(e.state.rgba,(t,n)=>(ns(),as("div",{class:"vc-color-input",key:n},[ds("input",{value:t,onInput:t=>e.onInputChange(t,n),onBlur:t=>e.onBlurChange(t,n)},null,40,Ele)]))),128))])):_s("",!0),ds("div",{class:"vc-input-toggle",onClick:t[5]||(t[5]=(...t)=>e.onInputTypeChange&&e.onInputTypeChange(...t))},xe(e.inputType),1)])}],["__scopeId","data-v-7334ac20"]]),Ale=Fr({name:"FkColorPicker",components:{Display:Tle,Alpha:qae,Palette:Zae,Board:rle,Hue:sle,Lightness:cle,History:ple},props:{color:_ne.instanceOf(Bae),disableHistory:_ne.bool.def(!1),roundHistory:_ne.bool.def(!1),disableAlpha:_ne.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:t}){const n=e.color||new Bae,r=zt({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),i=en(!1),o=Gs(()=>({background:r.rgb})),s=QO(jae,[],{}),a=EO(()=>{if(e.disableHistory)return;const t=r.color.toRgbString();if(s.value=s.value.filter(e=>!$7.equals(e,t)),!s.value.includes(t)){for(;s.value.length>8;)s.value.pop();s.value.unshift(t)}},500);return RO(()=>e.color,e=>{e&&(r.color=e)},{deep:!0}),RO(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),a(),t("update:color",r.color),t("change",r.color)},{deep:!0}),{state:r,advancePanelShow:i,onBack:()=>{i.value=!1,t("advanceChange",!1)},onCompactChange:e=>{"advance"===e?(i.value=!0,t("advanceChange",!0)):(r.color.hex=e,t("advanceChange",!1))},onAlphaChange:e=>{r.color.alpha=e},onHueChange:e=>{r.color.hue=e},onBoardChange:(e,t)=>{r.color.saturation=e,r.color.brightness=t},onLightChange:e=>{r.color.lightness=e},onInputChange:e=>{const t=e.target.value.replace("#","");$7(t).isValid()&&(r.color.hex=t)},previewStyle:o,historyColors:s}}}),Mle={class:"vc-fk-colorPicker"},Cle={class:"vc-fk-colorPicker__inner"},Ole={class:"vc-fk-colorPicker__header"},Rle=[(e=>(Xn("data-v-48e3c224"),e=e(),Yn(),e))(()=>ds("div",{class:"back"},null,-1))];const Ile=Hae(Ale,[["render",function(e,t,n,r,i,o){const s=Si("Palette"),a=Si("Board"),l=Si("Hue"),c=Si("Lightness"),u=Si("Alpha"),h=Si("Display"),f=Si("History");return ns(),as("div",Mle,[ds("div",Cle,[ds("div",Ole,[e.advancePanelShow?(ns(),as("span",{key:0,style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},Rle)):_s("",!0)]),e.advancePanelShow?_s("",!0):(ns(),ls(s,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(ns(),ls(a,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):_s("",!0),e.advancePanelShow?(ns(),ls(l,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):_s("",!0),e.advancePanelShow?_s("",!0):(ns(),ls(c,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?_s("",!0):(ns(),ls(u,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),ps(h,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?_s("",!0):(ns(),ls(f,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-48e3c224"]]),kle=Fr({name:"ChromeColorPicker",components:{Display:Tle,Alpha:qae,Board:rle,Hue:sle,History:ple},props:{color:_ne.instanceOf(Bae),disableHistory:_ne.bool.def(!1),roundHistory:_ne.bool.def(!1),disableAlpha:_ne.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){const n=e.color||new Bae,r=zt({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),i=Gs(()=>({background:r.rgb})),o=QO(jae,[],{}),s=EO(()=>{if(e.disableHistory)return;const t=r.color.toRgbString();if(o.value=o.value.filter(e=>!$7.equals(e,t)),!o.value.includes(t)){for(;o.value.length>8;)o.value.pop();o.value.unshift(t)}},500);return RO(()=>e.color,e=>{e&&(r.color=e)},{deep:!0}),RO(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),s(),t("update:color",r.color),t("change",r.color)},{deep:!0}),{state:r,previewStyle:i,historyColors:o,onAlphaChange:e=>{r.color.alpha=e},onHueChange:e=>{r.color.hue=e},onBoardChange:(e,t)=>{r.color.saturation=e,r.color.brightness=t},onInputChange:e=>{void 0!==e.hex&&(r.color.hex=e.hex),void 0!==e.alpha&&(r.color.alpha=e.alpha)},onCompactChange:e=>{"advance"!==e&&(r.color.hex=e)}}}}),Ple={class:"vc-chrome-colorPicker"},Nle={class:"vc-chrome-colorPicker-body"},Dle={class:"chrome-controls"},Lle={class:"chrome-sliders"};const Fle=Hae(kle,[["render",function(e,t,n,r,i,o){const s=Si("Board"),a=Si("Hue"),l=Si("Alpha"),c=Si("Display"),u=Si("History");return ns(),as("div",Ple,[ps(s,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),ds("div",Nle,[ds("div",Dle,[ds("div",Lle,[ps(a,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?_s("",!0):(ns(),ls(l,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),ps(c,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?_s("",!0):(ns(),ls(u,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-2611d66c"]]),Ule="Vue3ColorPickerProvider";let Ble=!1;const zle=Fr({name:"Angle",props:{angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},emits:["update:angle","change"],setup(e,{emit:t}){const n=en(null),r=en(0);ar(()=>e.angle,e=>{r.value=e});const i=Gs(()=>({width:e.size+"px",height:e.size+"px",borderWidth:e.borderWidth+"px",borderColor:e.borderColor,transform:`rotate(${r.value}deg)`})),o=i=>{n.value&&(r.value=((e,t)=>{const n=e.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,o=Math.abs(r-t.clientX),s=Math.abs(i-t.clientY),a=s/Math.sqrt(Math.pow(o,2)+Math.pow(s,2)),l=Math.acos(a);let c=Math.floor(180/(Math.PI/l));return t.clientX>r&&t.clientY>i&&(c=180-c),t.clientX==r&&t.clientY>i&&(c=180),t.clientX>r&&t.clientY==i&&(c=90),t.clientX<r&&t.clientY>i&&(c=180+c),t.clientX<r&&t.clientY==i&&(c=270),t.clientX<r&&t.clientY<i&&(c=360-c),c})(n.value,i)%360,(()=>{let n=Number(r.value);isNaN(n)||(n=n>360||n<0?e.angle:n,r.value=360===n?0:n,t("update:angle",r.value),t("change",r.value))})())};return di(()=>{const e={drag:e=>{o(e)},end:e=>{o(e)}};n.value&&((e,t)=>{const n=function(e){var n;null==(n=t.drag)||n.call(t,e)},r=function(e){var i;document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",r,!1),document.onselectstart=null,document.ondragstart=null,Ble=!1,null==(i=t.end)||i.call(t,e)};e&&e.addEventListener("mousedown",e=>{var i;Ble||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",r,!1),Ble=!0,null==(i=t.start)||i.call(t,e))})})(n.value,e)}),()=>ps("div",{class:"bee-angle"},[ps("div",{class:"bee-angle__round",ref:n,style:i.value},null)])}}),Vle=Fr({name:"GradientColorPicker",components:{Angle:zle,Display:Tle,Alpha:qae,Palette:Zae,Board:rle,Hue:sle,Lightness:cle,History:ple},props:{startColor:_ne.instanceOf(Bae).isRequired,endColor:_ne.instanceOf(Bae).isRequired,startColorStop:_ne.number.def(0),endColorStop:_ne.number.def(100),angle:_ne.number.def(0),type:_ne.oneOf(["linear","radial"]).def("linear"),disableHistory:_ne.bool.def(!1),roundHistory:_ne.bool.def(!1),disableAlpha:_ne.bool.def(!1),pickerType:_ne.oneOf(["fk","chrome"]).def("fk")},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange","typeChange"],setup(e,{emit:t}){const n=zt({startActive:!0,startColor:e.startColor,endColor:e.endColor,startColorStop:e.startColorStop,endColorStop:e.endColorStop,angle:e.angle,type:e.type,startColorRgba:e.startColor.toRgbString(),endColorRgba:e.endColor.toRgbString()}),r=er(Ule),i=en("chrome"===e.pickerType),o=en(),s=en(),a=en();ar(()=>[e.startColor,e.endColor,e.angle],e=>{n.startColor=e[0],n.endColor=e[1],n.angle=e[2]}),ar(()=>e.type,e=>{n.type=e});const l=Gs({get:()=>n.startActive?n.startColor:n.endColor,set:e=>{n.startActive?n.startColor=e:n.endColor=e}}),c=Gs(()=>{if(a.value&&o.value){const e=n.startColorStop/100,t=a.value.getBoundingClientRect(),r=o.value.offsetWidth;return Math.round(e*(t.width-r)+r/2)}return 0}),u=Gs(()=>{if(a.value&&s.value){const e=n.endColorStop/100,t=a.value.getBoundingClientRect(),r=s.value.offsetWidth;return Math.round(e*(t.width-r)+r/2)}return 0}),h=Gs(()=>{let e=`background: linear-gradient(${n.angle}deg, ${n.startColorRgba} ${n.startColorStop}%, ${n.endColorRgba} ${n.endColorStop}%)`;return"radial"===n.type&&(e=`background: radial-gradient(circle, ${n.startColorRgba} ${n.startColorStop}%, ${n.endColorRgba} ${n.endColorStop}%)`),e}),f=e=>{var r;if(n.startActive=!0,a.value&&o.value){const i=null==(r=a.value)?void 0:r.getBoundingClientRect();let s=e.clientX-i.left;s=Math.max(o.value.offsetWidth/2,s),s=Math.min(s,i.width-o.value.offsetWidth/2),n.startColorStop=Math.round((s-o.value.offsetWidth/2)/(i.width-o.value.offsetWidth)*100),t("update:startColorStop",n.startColorStop),t("startColorStopChange",n.startColorStop)}},d=e=>{var r;if(n.startActive=!1,a.value&&s.value){const i=null==(r=a.value)?void 0:r.getBoundingClientRect();let o=e.clientX-i.left;o=Math.max(s.value.offsetWidth/2,o),o=Math.min(o,i.width-s.value.offsetWidth/2),n.endColorStop=Math.round((o-s.value.offsetWidth/2)/(i.width-s.value.offsetWidth)*100),t("update:endColorStop",n.endColorStop),t("endColorStopChange",n.endColorStop)}},p=()=>{n.startActive?(t("update:startColor",n.startColor),t("startColorChange",n.startColor)):(t("update:endColor",n.endColor),t("endColorChange",n.endColor))},m=QO(jae,[],{}),g=EO(()=>{if(e.disableHistory)return;const t=l.value.toRgbString();if(m.value=m.value.filter(e=>!$7.equals(e,t)),!m.value.includes(t)){for(;m.value.length>8;)m.value.pop();m.value.unshift(t)}},500);return OO(()=>{s.value&&o.value&&(Woe.triggerDragEvent(s.value,{drag:e=>{d(e)},end:e=>{d(e)}}),Woe.triggerDragEvent(o.value,{drag:e=>{f(e)},end:e=>{f(e)}}))}),RO(()=>n.startColor,e=>{n.startColorRgba=e.toRgbString()},{deep:!0}),RO(()=>n.endColor,e=>{n.endColorRgba=e.toRgbString()},{deep:!0}),RO(()=>l.value,()=>{g()},{deep:!0}),{startGradientRef:o,stopGradientRef:s,colorRangeRef:a,state:n,currentColor:l,getStartColorLeft:c,getEndColorLeft:u,gradientBg:h,advancePanelShow:i,onDegreeBlur:e=>{const r=e.target,i=parseInt(r.value.replace("",""));isNaN(i)||(n.angle=i%360),t("update:angle",n.angle),t("angleChange",n.angle)},onCompactChange:e=>{"advance"===e?(i.value=!0,t("advanceChange",!0)):(l.value.hex=e,t("advanceChange",!1)),p()},onAlphaChange:e=>{l.value.alpha=e,p()},onHueChange:e=>{l.value.hue=e,p()},onBoardChange:(e,t)=>{l.value.saturation=e,l.value.brightness=t,p()},onLightChange:e=>{l.value.lightness=e,p()},historyColors:m,onBack:()=>{i.value=!1,t("advanceChange",!1)},onDegreeChange:e=>{n.angle=e,t("update:angle",n.angle),t("angleChange",n.angle)},onDisplayChange:()=>{p()},onTypeChange:()=>{n.type="linear"===n.type?"radial":"linear",t("typeChange",n.type)},lang:null==r?void 0:r.lang}}}),jle=e=>(Xn("data-v-c4d6d6ea"),e=e(),Yn(),e),Hle={class:"vc-gradient-picker"},Wle={class:"vc-gradient-picker__header"},Gle={class:"vc-gradient__types"},qle={class:"vc-gradient-wrap__types"},$le={class:"vc-picker-degree-input vc-degree-input"},Xle={class:"vc-degree-input__control"},Yle=["value"],Kle={class:"vc-degree-input__panel"},Zle={class:"vc-degree-input__disk"},Jle={class:"vc-gradient-picker__body"},Qle={class:"vc-color-range",ref:"colorRangeRef"},ece={class:"vc-color-range__container"},tce={class:"vc-gradient__stop__container"},nce=["title"],rce=[jle(()=>ds("span",{class:"vc-gradient__stop--inner"},null,-1))],ice=["title"],oce=[jle(()=>ds("span",{class:"vc-gradient__stop--inner"},null,-1))];const sce=Hae(Vle,[["render",function(e,t,n,r,i,o){var s,a;const l=Si("Angle"),c=Si("Board"),u=Si("Hue"),h=Si("Palette"),f=Si("Lightness"),d=Si("Alpha"),p=Si("Display"),m=Si("History");return ns(),as("div",Hle,[ds("div",Wle,[ds("div",null,[Zn(ds("div",{class:"back",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},null,512),[[Oa,"fk"===e.pickerType&&e.advancePanelShow]])]),ds("div",Gle,[ds("div",qle,[(ns(),as(Ko,null,Oi(["linear","radial"],n=>ds("div",{class:ee(["vc-gradient__type",{active:e.state.type===n}]),key:n,onClick:t[1]||(t[1]=(...t)=>e.onTypeChange&&e.onTypeChange(...t))},xe(e.lang?e.lang[n]:n),3)),64))]),Zn(ds("div",$le,[ds("div",Xle,[ds("input",{value:e.state.angle,onBlur:t[2]||(t[2]=(...t)=>e.onDegreeBlur&&e.onDegreeBlur(...t))},null,40,Yle),vs("deg ")]),ds("div",Kle,[ds("div",Zle,[ps(l,{angle:e.state.angle,"onUpdate:angle":t[3]||(t[3]=t=>e.state.angle=t),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])],512),[[Oa,"linear"===e.state.type]])])]),ds("div",Jle,[ds("div",Qle,[ds("div",ece,[ds("div",{class:"vc-background",style:Y(e.gradientBg)},null,4),ds("div",tce,[ds("div",{class:ee(["vc-gradient__stop",{"vc-gradient__stop--current":e.state.startActive}]),ref:"startGradientRef",title:null==(s=e.lang)?void 0:s.start,style:Y({left:e.getStartColorLeft+"px",backgroundColor:e.state.startColorRgba})},rce,14,nce),ds("div",{class:ee(["vc-gradient__stop",{"vc-gradient__stop--current":!e.state.startActive}]),ref:"stopGradientRef",title:null==(a=e.lang)?void 0:a.end,style:Y({left:e.getEndColorLeft+"px",backgroundColor:e.state.endColorRgba})},oce,14,ice)])])],512)]),e.advancePanelShow?(ns(),ls(c,{key:0,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):_s("",!0),e.advancePanelShow?(ns(),ls(u,{key:1,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):_s("",!0),e.advancePanelShow?_s("",!0):(ns(),ls(h,{key:2,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?_s("",!0):(ns(),ls(f,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?_s("",!0):(ns(),ls(d,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),ps(p,{color:e.currentColor,"disable-alpha":e.disableAlpha,onChange:e.onDisplayChange},null,8,["color","disable-alpha","onChange"]),e.disableHistory?_s("",!0):(ns(),ls(m,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}],["__scopeId","data-v-c4d6d6ea"]]),ace=Fr({name:"WrapContainer",props:{theme:_ne.oneOf(["white","black"]).def("white"),showTab:_ne.bool.def(!1),activeKey:_ne.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:t}){const n=zt({activeKey:e.activeKey}),r=er(Ule);return RO(()=>e.activeKey,e=>{n.activeKey=e}),{state:n,onActiveKeyChange:e=>{n.activeKey=e,t("update:activeKey",e),t("change",e)},lang:null==r?void 0:r.lang}}}),lce={class:"vc-colorpicker--container"},cce={key:0,class:"vc-colorpicker--tabs"},uce={class:"vc-colorpicker--tabs__inner"},hce={class:"vc-btn__content"},fce={class:"vc-btn__content"};const dce=Hae(ace,[["render",function(e,t,n,r,i,o){var s,a;return ns(),as("div",{class:ee(["vc-colorpicker",e.theme])},[ds("div",lce,[e.showTab?(ns(),as("div",cce,[ds("div",uce,[ds("div",{class:ee(["vc-colorpicker--tabs__btn",{"vc-btn-active":"pure"===e.state.activeKey}]),onClick:t[0]||(t[0]=t=>e.onActiveKeyChange("pure"))},[ds("button",null,[ds("div",hce,xe(null==(s=e.lang)?void 0:s.pure),1)])],2),ds("div",{class:ee(["vc-colorpicker--tabs__btn",{"vc-btn-active":"gradient"===e.state.activeKey}]),onClick:t[1]||(t[1]=t=>e.onActiveKeyChange("gradient"))},[ds("button",null,[ds("div",fce,xe(null==(a=e.lang)?void 0:a.gradient),1)])],2),ds("div",{class:"vc-colorpicker--tabs__bg",style:Y({width:"50%",left:`calc(${"gradient"===e.state.activeKey?50:0}%)`})},null,4)])])):_s("",!0),Ri(e.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-0492277d"]]),pce={En:{start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},"ZH-cn":{start:"",end:"",pure:"",gradient:"",linear:"",radial:""}},mce={isWidget:_ne.bool.def(!1),pickerType:_ne.oneOf(["fk","chrome"]).def("fk"),shape:_ne.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:_ne.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:_ne.bool.def(!1),disableHistory:_ne.bool.def(!1),roundHistory:_ne.bool.def(!1),useType:_ne.oneOf(["pure","gradient","both"]).def("pure"),activeKey:_ne.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:_ne.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:_ne.number.def(100),theme:_ne.oneOf(["white","black"]).def("white"),blurClose:_ne.bool.def(!1),defaultPopup:_ne.bool.def(!1)},gce=Fr({name:"ColorPicker",components:{FkColorPicker:Ile,ChromeColorPicker:Fle,GradientColorPicker:sce,WrapContainer:dce},inheritAttrs:!1,props:mce,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(e,{emit:t}){Qn(Ule,{lang:Gs(()=>pce[e.lang||"ZH-cn"])});const n=!!Fi().extra,r=zt({pureColor:e.pureColor||"",activeKey:"gradient"===e.useType?"gradient":e.activeKey,isAdvanceMode:!1}),i=new Bae("#000"),o=new Bae("#000"),s=new Bae(r.pureColor),a=zt({startColor:i,endColor:o,startColorStop:0,endColorStop:100,angle:0,type:"linear",gradientColor:e.gradientColor}),l=en(s),c=en(e.defaultPopup),u=en(null),h=en(null);let f=null;const d=Gs(()=>({background:"gradient"!==r.activeKey?$7(r.pureColor).toRgbString():a.gradientColor})),p=Gs(()=>"gradient"===r.activeKey?sce.name:"fk"===e.pickerType?Ile.name:Fle.name),m=e=>{r.isAdvanceMode=e},g=Gs(()=>{const t={disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,pickerType:e.pickerType};return"gradient"===r.activeKey?{...t,startColor:a.startColor,endColor:a.endColor,angle:a.angle,type:a.type,startColorStop:a.startColorStop,endColorStop:a.endColorStop,onStartColorChange:e=>{a.startColor=e,b()},onEndColorChange:e=>{a.endColor=e,b()},onStartColorStopChange:e=>{a.startColorStop=e,b()},onEndColorStopChange:e=>{a.endColorStop=e,b()},onAngleChange:e=>{a.angle=e,b()},onTypeChange:e=>{a.type=e,b()},onAdvanceChange:m}:{...t,disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:l.value,onChange:S,onAdvanceChange:m}}),v=()=>{c.value=!1},y=EO(()=>{!e.isWidget&&e.blurClose&&v()},100);LO(h,()=>{v()});const _=()=>{var e,t,n,r;try{const[i]=Cee.parse(a.gradientColor);if(i&&i.type.includes("gradient")&&i.colorStops.length>=2){const o=i.colorStops[0],s=i.colorStops[1];a.startColorStop=Number(null==(e=o.length)?void 0:e.value)||0,a.endColorStop=Number(null==(t=s.length)?void 0:t.value)||0,"linear-gradient"===i.type&&"angular"===(null==(n=i.orientation)?void 0:n.type)&&(a.angle=Number(null==(r=i.orientation)?void 0:r.value)||0),a.type=i.type.split("-")[0];const[l,c,u,h]=o.value,[f,d,p,m]=s.value;a.startColor=new Bae({r:Number(l),g:Number(c),b:Number(u),a:Number(h)}),a.endColor=new Bae({r:Number(f),g:Number(d),b:Number(p),a:Number(m)})}}catch(i){}},b=EO(()=>{const e=x();try{a.gradientColor=Cee.stringify(e),t("update:gradientColor",a.gradientColor),t("gradientColorChange",a.gradientColor)}catch(n){}},e.debounce),x=()=>{const e=[],t=a.startColor.RGB.map(e=>e.toString()),n=a.endColor.RGB.map(e=>e.toString()),r=[{type:"rgba",value:[t[0],t[1],t[2],t[3]],length:{value:a.startColorStop+"",type:"%"}},{type:"rgba",value:[n[0],n[1],n[2],n[3]],length:{value:a.endColorStop+"",type:"%"}}];return"linear"===a.type?e.push({type:"linear-gradient",orientation:{type:"angular",value:a.angle+""},colorStops:r}):"radial"===a.type&&e.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:r}),e},w=()=>{u.value&&h.value&&(f=Bte(u.value,h.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},S=t=>{l.value=t,r.pureColor=t.toString(e.format),E()},E=EO(()=>{t("update:pureColor",r.pureColor),t("pureColorChange",r.pureColor)},e.debounce);return OO(()=>{_(),f||w()}),RO(()=>e.gradientColor,e=>{e!=a.gradientColor&&(a.gradientColor=e)}),RO(()=>a.gradientColor,()=>{_()}),RO(()=>e.activeKey,e=>{r.activeKey=e}),RO(()=>e.useType,e=>{"gradient"!==r.activeKey&&"gradient"===e?r.activeKey="gradient":r.activeKey="pure"}),RO(()=>e.pureColor,e=>{$7.equals(e,r.pureColor)||(r.pureColor=e,l.value=new Bae(e))},{deep:!0}),{colorCubeRef:u,pickerRef:h,showPicker:c,colorInstance:l,getBgColorStyle:d,getComponentName:p,getBindArgs:g,state:r,hasExtra:n,onColorChange:S,onShowPicker:()=>{c.value=!0,f?f.update():w()},onActiveKeyChange:e=>{r.activeKey=e,t("update:activeKey",e),t("activeKeyChange",e)},onAutoClose:y}}}),vce={key:0,class:"vc-color-extra"},yce={key:0,class:"vc-color-extra"};const _ce=Hae(gce,[["render",function(e,t,n,r,i,o){const s=Si("WrapContainer");return ns(),as(Ko,null,[e.isWidget?(ns(),ls(s,{key:0,"active-key":e.state.activeKey,"onUpdate:activeKey":t[0]||(t[0]=t=>e.state.activeKey=t),"show-tab":"both"===e.useType,style:Y({zIndex:e.zIndex}),theme:e.theme,onChange:e.onActiveKeyChange},{default:Kn(()=>[(ns(),ls(Ti(e.getComponentName),Ss({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?(ns(),as("div",vce,[Ri(e.$slots,"extra",{},void 0,!0)])):_s("",!0)]),_:3},8,["active-key","show-tab","style","theme","onChange"])):_s("",!0),e.isWidget?_s("",!0):(ns(),as(Ko,{key:1},[ds("div",{class:ee(["vc-color-wrap transparent",{round:"circle"===e.shape}]),ref:"colorCubeRef"},[ds("div",{class:"current-color",style:Y(e.getBgColorStyle),onClick:t[1]||(t[1]=(...t)=>e.onShowPicker&&e.onShowPicker(...t))},null,4)],2),(ns(),ls(br,{to:e.pickerContainer},[Zn(ds("div",{ref:"pickerRef",style:Y({zIndex:e.zIndex}),onMouseleave:t[3]||(t[3]=(...t)=>e.onAutoClose&&e.onAutoClose(...t))},[e.showPicker?(ns(),ls(s,{key:0,"show-tab":"both"===e.useType&&!e.state.isAdvanceMode,theme:e.theme,"active-key":e.state.activeKey,"onUpdate:activeKey":t[2]||(t[2]=t=>e.state.activeKey=t),onChange:e.onActiveKeyChange},{default:Kn(()=>[(ns(),ls(Ti(e.getComponentName),Ss({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?(ns(),as("div",yce,[Ri(e.$slots,"extra",{},void 0,!0)])):_s("",!0)]),_:3},8,["show-tab","theme","active-key","onChange"])):_s("",!0)],36),[[Oa,e.showPicker]])],8,["to"]))],64))],64)}],["__scopeId","data-v-354ca836"]]);function bce(e,t,n){function r(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:s,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);const i=s.prototype,o=Object.keys(i);for(let e=0;e<o.length;e++){const t=o[e];t in n||(n[t]=i[t].bind(n))}}const i=n?.Parent??Object;class o extends i{}function s(e){var t;const i=n?.Parent?new o:this;r(i,e),(t=i._zod).deferred??(t.deferred=[]);for(const n of i._zod.deferred)n();return i}return Object.defineProperty(o,"name",{value:e}),Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}class xce extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class wce extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Sce={};function Ece(e){return Sce}function Tce(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function Ace(e,t){return"bigint"==typeof t?t.toString():t}function Mce(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Cce(e){return null==e}function Oce(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Rce=Symbol("evaluating");function Ice(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Rce)return void 0===r&&(r=Rce,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function kce(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Pce(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function Nce(e){return JSON.stringify(e)}const Dce="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Lce(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const Fce=Mce(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function Uce(e){if(!1===Lce(e))return!1;const t=e.constructor;if(void 0===t)return!0;if("function"!=typeof t)return!0;const n=t.prototype;return!1!==Lce(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function Bce(e){return Uce(e)?{...e}:Array.isArray(e)?[...e]:e}const zce=new Set(["string","number","symbol"]);function Vce(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function jce(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}const Hce={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Wce(e,t=0){if(!0===e.aborted)return!0;for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function Gce(e,t){return t.map(t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t})}function qce(e){return"string"==typeof e?e:e?.message}function $ce(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=qce(e.inst?._zod.def?.error?.(e))??qce(t?.error?.(e))??qce(n.customError?.(e))??qce(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function Xce(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function Yce(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}const Kce=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ace,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Zce=bce("$ZodError",Kce),Jce=bce("$ZodError",Kce,{Parent:Error});const Qce=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new xce;if(s.issues.length){const t=new(i?.Err??e)(s.issues.map(e=>$ce(e,o,Ece())));throw Dce(t,i?.callee),t}return s.value},eue=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const t=new(i?.Err??e)(s.issues.map(e=>$ce(e,o,Ece())));throw Dce(t,i?.callee),t}return s.value},tue=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new xce;return o.issues.length?{success:!1,error:new(e??Zce)(o.issues.map(e=>$ce(e,i,Ece())))}:{success:!0,data:o.value}},nue=tue(Jce),rue=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>$ce(e,i,Ece())))}:{success:!0,data:o.value}},iue=rue(Jce),oue=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qce(e)(t,n,i)},sue=e=>(t,n,r)=>Qce(e)(t,n,r),aue=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return eue(e)(t,n,i)},lue=e=>async(t,n,r)=>eue(e)(t,n,r),cue=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return tue(e)(t,n,i)},uue=e=>(t,n,r)=>tue(e)(t,n,r),hue=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return rue(e)(t,n,i)},fue=e=>async(t,n,r)=>rue(e)(t,n,r),due=/^-?\d+$/,pue=/^-?\d+(?:\.\d+)?$/,mue=bce("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),gue={number:"number",bigint:"bigint",object:"date"},vue=bce("$ZodCheckLessThan",(e,t)=>{mue.init(e,t);const n=gue[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),yue=bce("$ZodCheckGreaterThan",(e,t)=>{mue.init(e,t);const n=gue[typeof t.value];e._zod.onattach.push(e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:"object"==typeof t.value?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),_ue=bce("$ZodCheckMultipleOf",(e,t)=>{mue.init(e,t),e._zod.onattach.push(e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}const o=n>i?n:i;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),bue=bce("$ZodCheckNumberFormat",(e,t)=>{mue.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,o]=Hce[t.format];e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,r.minimum=i,r.maximum=o,n&&(r.pattern=due)}),e._zod.check=s=>{const a=s.value;if(n){if(!Number.isInteger(a))return void s.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:a,inst:e});if(!Number.isSafeInteger(a))return void(a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}))}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inclusive:!0,inst:e,continue:!t.abort})}}),xue=bce("$ZodCheckMaxLength",(e,t)=>{var n;mue.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Cce(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=Xce(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),wue=bce("$ZodCheckMinLength",(e,t)=>{var n;mue.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Cce(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=Xce(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Sue=bce("$ZodCheckLengthEquals",(e,t)=>{var n;mue.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!Cce(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const o=Xce(r),s=i>t.length;n.issues.push({origin:o,...s?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Eue=bce("$ZodCheckOverwrite",(e,t)=>{mue.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class Tue{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const i of r)this.content.push(i)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const Aue={major:4,minor:3,patch:5},Mue=bce("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Aue;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const t of i._zod.onattach)t(e);if(0===r.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,i=Wce(e);for(const o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,s=o._zod.check(e);if(s instanceof Promise&&!1===n?.async)throw new xce;if(r||s instanceof Promise)r=(r??Promise.resolve()).then(async()=>{await s;e.issues.length!==t&&(i||(i=Wce(e,t)))});else{if(e.issues.length===t)continue;i||(i=Wce(e,t))}}return r?r.then(()=>e):e},n=(n,i,o)=>{if(Wce(n))return n.aborted=!0,n;const s=t(i,r,o);if(s instanceof Promise){if(!1===o.async)throw new xce;return s.then(t=>e._zod.parse(t,o))}return e._zod.parse(s,o)};e._zod.run=(i,o)=>{if(o.skipChecks)return e._zod.parse(i,o);if("backward"===o.direction){const t=e._zod.parse({value:i.value,issues:[]},{...o,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,i,o)):n(t,i,o)}const s=e._zod.parse(i,o);if(s instanceof Promise){if(!1===o.async)throw new xce;return s.then(e=>t(e,r,o))}return t(s,r,o)}}Ice(e,"~standard",()=>({validate:t=>{try{const n=nue(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return iue(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}))}),Cue=bce("$ZodNumber",(e,t)=>{Mue.init(e,t),e._zod.pattern=e._zod.bag.pattern??pue,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(s){}const i=n.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),Oue=bce("$ZodNumberFormat",(e,t)=>{bue.init(e,t),Cue.init(e,t)}),Rue=bce("$ZodUnknown",(e,t)=>{Mue.init(e,t),e._zod.parse=e=>e}),Iue=bce("$ZodNever",(e,t)=>{Mue.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function kue(e,t,n){e.issues.length&&t.issues.push(...Gce(n,e.issues)),t.value[n]=e.value}const Pue=bce("$ZodArray",(e,t)=>{Mue.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let e=0;e<i.length;e++){const s=i[e],a=t.element._zod.run({value:s,issues:[]},r);a instanceof Promise?o.push(a.then(t=>kue(t,n,e))):kue(a,n,e)}return o.length?Promise.all(o).then(()=>n):n}});function Nue(e,t,n,r,i){if(e.issues.length){if(i&&!(n in r))return;t.issues.push(...Gce(n,e.issues))}void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Due(e){const t=Object.keys(e.shape);for(const i of t)if(!e.shape?.[i]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${i}": expected a Zod schema`);const n=(r=e.shape,Object.keys(r).filter(e=>"optional"===r[e]._zod.optin&&"optional"===r[e]._zod.optout));var r;return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Lue(e,t,n,r,i,o){const s=[],a=i.keySet,l=i.catchall._zod,c=l.def.type,u="optional"===l.optout;for(const h in t){if(a.has(h))continue;if("never"===c){s.push(h);continue}const i=l.run({value:t[h],issues:[]},r);i instanceof Promise?e.push(i.then(e=>Nue(e,n,h,t,u))):Nue(i,n,h,t,u)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const Fue=bce("$ZodObject",(e,t)=>{Mue.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=Mce(()=>Due(t));Ice(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const i=Lce,o=t.catchall;let s;e._zod.parse=(t,n)=>{s??(s=r.value);const a=t.value;if(!i(a))return t.issues.push({expected:"object",code:"invalid_type",input:a,inst:e}),t;t.value={};const l=[],c=s.shape;for(const e of s.keys){const r=c[e],i="optional"===r._zod.optout,o=r._zod.run({value:a[e],issues:[]},n);o instanceof Promise?l.push(o.then(n=>Nue(n,t,e,a,i))):Nue(o,t,e,a,i)}return o?Lue(l,a,t,n,r.value,e):l.length?Promise.all(l).then(()=>t):t}}),Uue=bce("$ZodObjectJIT",(e,t)=>{Fue.init(e,t);const n=e._zod.parse,r=Mce(()=>Due(t));let i;const o=Lce,s=!Sce.jitless,a=s&&Fce.value,l=t.catchall;let c;e._zod.parse=(u,h)=>{c??(c=r.value);const f=u.value;return o(f)?s&&a&&!1===h?.async&&!0!==h.jitless?(i||(i=(e=>{const t=new Tue(["shape","payload","ctx"]),n=r.value,i=e=>{const t=Nce(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const o=Object.create(null);let s=0;for(const r of n.keys)o[r]="key_"+s++;t.write("const newResult = {};");for(const r of n.keys){const n=o[r],s=Nce(r),a=e[r],l="optional"===a?._zod?.optout;t.write(`const ${n} = ${i(r)};`),l?t.write(`\n        if (${n}.issues.length) {\n          if (${s} in input) {\n            payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${s}, ...iss.path] : [${s}]\n            })));\n          }\n        }\n        \n        if (${n}.value === undefined) {\n          if (${s} in input) {\n            newResult[${s}] = undefined;\n          }\n        } else {\n          newResult[${s}] = ${n}.value;\n        }\n        \n      `):t.write(`\n        if (${n}.issues.length) {\n          payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${s}, ...iss.path] : [${s}]\n          })));\n        }\n        \n        if (${n}.value === undefined) {\n          if (${s} in input) {\n            newResult[${s}] = undefined;\n          }\n        } else {\n          newResult[${s}] = ${n}.value;\n        }\n        \n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const a=t.compile();return(t,n)=>a(e,t,n)})(t.shape)),u=i(u,h),l?Lue([],f,u,h,c,e):u):n(u,h):(u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u)}});function Bue(e,t,n,r){for(const o of e)if(0===o.issues.length)return t.value=o.value,t;const i=e.filter(e=>!Wce(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>$ce(e,r,Ece())))}),t)}const zue=bce("$ZodUnion",(e,t)=>{Mue.init(e,t),Ice(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),Ice(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),Ice(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Ice(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>Oce(e.source)).join("|")})$`)}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let s=!1;const a=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},o);if(t instanceof Promise)a.push(t),s=!0;else{if(0===t.issues.length)return t;a.push(t)}}return s?Promise.all(a).then(t=>Bue(t,i,e,o)):Bue(a,i,e,o)}}),Vue=bce("$ZodIntersection",(e,t)=>{Mue.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([t,n])=>Hue(e,t,n)):Hue(e,i,o)}});function jue(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(Uce(e)&&Uce(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const o of r){const n=jue(e[o],t[o]);if(!n.valid)return{valid:!1,mergeErrorPath:[o,...n.mergeErrorPath]};i[o]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=jue(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Hue(e,t,n){const r=new Map;let i;for(const a of t.issues)if("unrecognized_keys"===a.code){i??(i=a);for(const e of a.keys)r.has(e)||r.set(e,{}),r.get(e).l=!0}else e.issues.push(a);for(const a of n.issues)if("unrecognized_keys"===a.code)for(const e of a.keys)r.has(e)||r.set(e,{}),r.get(e).r=!0;else e.issues.push(a);const o=[...r].filter(([,e])=>e.l&&e.r).map(([e])=>e);if(o.length&&i&&e.issues.push({...i,keys:o}),Wce(e))return e;const s=jue(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const Wue=bce("$ZodEnum",(e,t)=>{Mue.init(e,t);const n=Tce(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(e=>zce.has(typeof e)).map(e=>"string"==typeof e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}}),Gue=bce("$ZodTransform",(e,t)=>{Mue.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new wce(e.constructor.name);const i=t.transform(n.value,n);if(r.async){return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n))}if(i instanceof Promise)throw new xce;return n.value=i,n}});function que(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const $ue=bce("$ZodOptional",(e,t)=>{Mue.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ice(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ice(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Oce(e.source)})?$`):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>que(t,e.value)):que(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),Xue=bce("$ZodExactOptional",(e,t)=>{$ue.init(e,t),Ice(e._zod,"values",()=>t.innerType._zod.values),Ice(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(e,n)=>t.innerType._zod.run(e,n)}),Yue=bce("$ZodNullable",(e,t)=>{Mue.init(e,t),Ice(e._zod,"optin",()=>t.innerType._zod.optin),Ice(e._zod,"optout",()=>t.innerType._zod.optout),Ice(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Oce(e.source)}|null)$`):void 0}),Ice(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),Kue=bce("$ZodDefault",(e,t)=>{Mue.init(e,t),e._zod.optin="optional",Ice(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Zue(e,t)):Zue(r,t)}});function Zue(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Jue=bce("$ZodPrefault",(e,t)=>{Mue.init(e,t),e._zod.optin="optional",Ice(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Que=bce("$ZodNonOptional",(e,t)=>{Mue.init(e,t),Ice(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>ehe(t,e)):ehe(i,e)}});function ehe(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const the=bce("$ZodCatch",(e,t)=>{Mue.init(e,t),Ice(e._zod,"optin",()=>t.innerType._zod.optin),Ice(e._zod,"optout",()=>t.innerType._zod.optout),Ice(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>$ce(e,n,Ece()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>$ce(e,n,Ece()))},input:e.value}),e.issues=[]),e)}}),nhe=bce("$ZodPipe",(e,t)=>{Mue.init(e,t),Ice(e._zod,"values",()=>t.in._zod.values),Ice(e._zod,"optin",()=>t.in._zod.optin),Ice(e._zod,"optout",()=>t.out._zod.optout),Ice(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>rhe(e,t.in,n)):rhe(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>rhe(e,t.out,n)):rhe(r,t.out,n)}});function rhe(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ihe=bce("$ZodReadonly",(e,t)=>{Mue.init(e,t),Ice(e._zod,"propValues",()=>t.innerType._zod.propValues),Ice(e._zod,"values",()=>t.innerType._zod.values),Ice(e._zod,"optin",()=>t.innerType?._zod?.optin),Ice(e._zod,"optout",()=>t.innerType?._zod?.optout),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(ohe):ohe(r)}});function ohe(e){return e.value=Object.freeze(e.value),e}const she=bce("$ZodCustom",(e,t)=>{mue.init(e,t),Mue.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>ahe(t,n,r,e));ahe(i,n,r,e)}});function ahe(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(Yce(e))}}var lhe;class che{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];return this._map.set(e,n),n&&"object"==typeof n&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};delete n.id;const r={...n,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}(lhe=globalThis).__zod_globalRegistry??(lhe.__zod_globalRegistry=new che);const uhe=globalThis.__zod_globalRegistry;function hhe(e,t){return new e({type:"number",checks:[],...jce(t)})}function fhe(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...jce(t)})}function dhe(e){return new e({type:"unknown"})}function phe(e,t){return new e({type:"never",...jce(t)})}function mhe(e,t){return new vue({check:"less_than",...jce(t),value:e,inclusive:!1})}function ghe(e,t){return new vue({check:"less_than",...jce(t),value:e,inclusive:!0})}function vhe(e,t){return new yue({check:"greater_than",...jce(t),value:e,inclusive:!1})}function yhe(e,t){return new yue({check:"greater_than",...jce(t),value:e,inclusive:!0})}function _he(e,t){return new _ue({check:"multiple_of",...jce(t),value:e})}function bhe(e,t){return new xue({check:"max_length",...jce(t),maximum:e})}function xhe(e,t){return new wue({check:"min_length",...jce(t),minimum:e})}function whe(e,t){return new Sue({check:"length_equals",...jce(t),length:e})}function She(e){return new Eue({check:"overwrite",tx:e})}function Ehe(e,t,n){return new e({type:"array",element:t,...jce(n)})}function The(e,t,n){return new e({type:"custom",check:"custom",fn:t,...jce(n)})}function Ahe(e){const t=Mhe(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(Yce(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(Yce(r))}},e(n.value,n)));return t}function Mhe(e,t){const n=new mue({check:"custom",...jce(t)});return n._zod.check=e,n}function Che(e){let t=e?.target??"draft-2020-12";return"draft-4"===t&&(t="draft-04"),"draft-7"===t&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:e?.metadata??uhe,target:t,unrepresentable:e?.unrepresentable??"throw",override:e?.override??(()=>{}),io:e?.io??"output",counter:0,seen:new Map,cycles:e?.cycles??"ref",reused:e?.reused??"inline",external:e?.external??void 0}}function Ohe(e,t,n={path:[],schemaPath:[]}){var r;const i=e._zod.def,o=t.seen.get(e);if(o){o.count++;return n.schemaPath.includes(e)&&(o.cycle=n.path),o.schema}const s={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,s);const a=e._zod.toJSONSchema?.();if(a)s.schema=a;else{const r={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,r);else{const n=s.schema,o=t.processors[i.type];if(!o)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);o(e,t,n,r)}const o=e._zod.parent;o&&(s.ref||(s.ref=o),Ohe(o,t,r),t.seen.get(o).isParent=!0)}const l=t.metadataRegistry.get(e);l&&Object.assign(s.schema,l),"input"===t.io&&khe(e)&&(delete s.schema.examples,delete s.schema.default),"input"===t.io&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault;return t.seen.get(e).schema}function Rhe(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const o of e.seen.entries()){const t=e.metadataRegistry.get(o[0])?.id;if(t){const e=r.get(t);if(e&&e!==o[0])throw new Error(`Duplicate schema id "${t}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(t,o[0])}}const i=t=>{if(t[1].schema.$ref)return;const r=t[1],{ref:i,defId:o}=(t=>{const r="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){const n=e.external.registry.get(t[0])?.id,i=e.external.uri??(e=>e);if(n)return{ref:i(n)};const o=t[1].defId??t[1].schema.id??"schema"+e.counter++;return t[1].defId=o,{defId:o,ref:`${i("__shared")}#/${r}/${o}`}}if(t[1]===n)return{ref:"#"};const i=`#/${r}/`,o=t[1].schema.id??"__schema"+e.counter++;return{defId:o,ref:i+o}})(t);r.def={...r.schema},o&&(r.defId=o);const s=r.schema;for(const e in s)delete s[e];s.$ref=i};if("throw"===e.cycles)for(const o of e.seen.entries()){const e=o[1];if(e.cycle)throw new Error(`Cycle detected: #/${e.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const o of e.seen.entries()){const n=o[1];if(t===o[0]){i(o);continue}if(e.external){const n=e.external.registry.get(o[0])?.id;if(t!==o[0]&&n){i(o);continue}}const r=e.metadataRegistry.get(o[0])?.id;r?i(o):(n.cycle||n.count>1&&"ref"===e.reused)&&i(o)}}function Ihe(e,t){const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=t=>{const n=e.seen.get(t);if(null===n.ref)return;const i=n.def??n.schema,o={...i},s=n.ref;if(n.ref=null,s){r(s);const n=e.seen.get(s),a=n.schema;!a.$ref||"draft-07"!==e.target&&"draft-04"!==e.target&&"openapi-3.0"!==e.target?Object.assign(i,a):(i.allOf=i.allOf??[],i.allOf.push(a)),Object.assign(i,o);if(t._zod.parent===s)for(const e in i)"$ref"!==e&&"allOf"!==e&&(e in o||delete i[e]);if(a.$ref)for(const e in i)"$ref"!==e&&"allOf"!==e&&e in n.def&&JSON.stringify(i[e])===JSON.stringify(n.def[e])&&delete i[e]}const a=t._zod.parent;if(a&&a!==s){r(a);const t=e.seen.get(a);if(t?.schema.$ref&&(i.$ref=t.schema.$ref,t.def))for(const e in i)"$ref"!==e&&"allOf"!==e&&e in t.def&&JSON.stringify(i[e])===JSON.stringify(t.def[e])&&delete i[e]}e.override({zodSchema:t,jsonSchema:i,path:n.path??[]})};for(const a of[...e.seen.entries()].reverse())r(a[0]);const i={};if("draft-2020-12"===e.target?i.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?i.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?i.$schema="http://json-schema.org/draft-04/schema#":e.target,e.external?.uri){const n=e.external.registry.get(t)?.id;if(!n)throw new Error("Schema is missing an `id` property");i.$id=e.external.uri(n)}Object.assign(i,n.def??n.schema);const o=e.external?.defs??{};for(const a of e.seen.entries()){const e=a[1];e.def&&e.defId&&(o[e.defId]=e.def)}e.external||Object.keys(o).length>0&&("draft-2020-12"===e.target?i.$defs=o:i.definitions=o);try{const n=JSON.parse(JSON.stringify(i));return Object.defineProperty(n,"~standard",{value:{...t["~standard"],jsonSchema:{input:Phe(t,"input",e.processors),output:Phe(t,"output",e.processors)}},enumerable:!1,writable:!1}),n}catch(s){throw new Error("Error converting schema to JSON.")}}function khe(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if("transform"===r.type)return!0;if("array"===r.type)return khe(r.element,n);if("set"===r.type)return khe(r.valueType,n);if("lazy"===r.type)return khe(r.getter(),n);if("promise"===r.type||"optional"===r.type||"nonoptional"===r.type||"nullable"===r.type||"readonly"===r.type||"default"===r.type||"prefault"===r.type)return khe(r.innerType,n);if("intersection"===r.type)return khe(r.left,n)||khe(r.right,n);if("record"===r.type||"map"===r.type)return khe(r.keyType,n)||khe(r.valueType,n);if("pipe"===r.type)return khe(r.in,n)||khe(r.out,n);if("object"===r.type){for(const e in r.shape)if(khe(r.shape[e],n))return!0;return!1}if("union"===r.type){for(const e of r.options)if(khe(e,n))return!0;return!1}if("tuple"===r.type){for(const e of r.items)if(khe(e,n))return!0;return!(!r.rest||!khe(r.rest,n))}return!1}const Phe=(e,t,n={})=>r=>{const{libraryOptions:i,target:o}=r??{},s=Che({...i??{},target:o,io:t,processors:n});return Ohe(e,s),Rhe(s,e),Ihe(s,e)},Nhe=(e,t,n,r)=>{const i=e._zod.def;Ohe(i.innerType,t,r);t.seen.get(e).ref=i.innerType},Dhe=bce("ZodError",(e,t)=>{Zce.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t=e=>e.message){const n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>r({issues:e}));else if("invalid_key"===i.code)r({issues:i.issues});else if("invalid_element"===i.code)r({issues:i.issues});else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Ace,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Ace,2)}},isEmpty:{get:()=>0===e.issues.length}})},{Parent:Error}),Lhe=Qce(Dhe),Fhe=eue(Dhe),Uhe=tue(Dhe),Bhe=rue(Dhe),zhe=oue(Dhe),Vhe=sue(Dhe),jhe=aue(Dhe),Hhe=lue(Dhe),Whe=cue(Dhe),Ghe=uue(Dhe),qhe=hue(Dhe),$he=fue(Dhe),Xhe=bce("ZodType",(e,t)=>(Mue.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Phe(e,"input"),output:Phe(e,"output")}}),e.toJSONSchema=((e,t={})=>n=>{const r=Che({...n,processors:t});return Ohe(e,r),Rhe(r,e),Ihe(r,e)})(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Pce(t,{checks:[...t.checks??[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),{parent:!0}),e.with=e.check,e.clone=(t,n)=>Vce(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>Lhe(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Uhe(e,t,n),e.parseAsync=async(t,n)=>Fhe(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Bhe(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>zhe(e,t,n),e.decode=(t,n)=>Vhe(e,t,n),e.encodeAsync=async(t,n)=>jhe(e,t,n),e.decodeAsync=async(t,n)=>Hhe(e,t,n),e.safeEncode=(t,n)=>Whe(e,t,n),e.safeDecode=(t,n)=>Ghe(e,t,n),e.safeEncodeAsync=async(t,n)=>qhe(e,t,n),e.safeDecodeAsync=async(t,n)=>$he(e,t,n),e.refine=(t,n)=>e.check(function(e,t={}){return The(xfe,e,t)}(t,n)),e.superRefine=t=>e.check(Ahe(t)),e.overwrite=t=>e.check(She(t)),e.optional=()=>ufe(e),e.exactOptional=()=>new hfe({type:"optional",innerType:e}),e.nullable=()=>dfe(e),e.nullish=()=>ufe(dfe(e)),e.nonoptional=t=>function(e,t){return new gfe({type:"nonoptional",innerType:e,...jce(t)})}(e,t),e.array=()=>{return Ehe(nfe,e,t);var t},e.or=t=>{return new ofe({type:"union",options:[e,t],...jce(n)});var n},e.and=t=>new sfe({type:"intersection",left:e,right:t}),e.transform=t=>_fe(e,new lfe({type:"transform",transform:t})),e.default=t=>{return n=t,new pfe({type:"default",innerType:e,get defaultValue(){return"function"==typeof n?n():Bce(n)}});var n},e.prefault=t=>{return n=t,new mfe({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof n?n():Bce(n)}});var n},e.catch=t=>{return new vfe({type:"catch",innerType:e,catchValue:"function"==typeof(n=t)?n:()=>n});var n},e.pipe=t=>_fe(e,t),e.readonly=()=>new bfe({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return uhe.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>uhe.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return uhe.get(e);const n=e.clone();return uhe.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=t=>t(e),e)),Yhe=bce("ZodNumber",(e,t)=>{Cue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,{minimum:i,maximum:o,format:s,multipleOf:a,exclusiveMaximum:l,exclusiveMinimum:c}=e._zod.bag;"string"==typeof s&&s.includes("int")?r.type="integer":r.type="number","number"==typeof c&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.minimum=c,r.exclusiveMinimum=!0):r.exclusiveMinimum=c),"number"==typeof i&&(r.minimum=i,"number"==typeof c&&"draft-04"!==t.target&&(c>=i?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof l&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.maximum=l,r.exclusiveMaximum=!0):r.exclusiveMaximum=l),"number"==typeof o&&(r.maximum=o,"number"==typeof l&&"draft-04"!==t.target&&(l<=o?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof a&&(r.multipleOf=a)})(e,t,n),e.gt=(t,n)=>e.check(vhe(t,n)),e.gte=(t,n)=>e.check(yhe(t,n)),e.min=(t,n)=>e.check(yhe(t,n)),e.lt=(t,n)=>e.check(mhe(t,n)),e.lte=(t,n)=>e.check(ghe(t,n)),e.max=(t,n)=>e.check(ghe(t,n)),e.int=t=>e.check(Jhe(t)),e.safe=t=>e.check(Jhe(t)),e.positive=t=>e.check(vhe(0,t)),e.nonnegative=t=>e.check(yhe(0,t)),e.negative=t=>e.check(mhe(0,t)),e.nonpositive=t=>e.check(ghe(0,t)),e.multipleOf=(t,n)=>e.check(_he(t,n)),e.step=(t,n)=>e.check(_he(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Khe(e){return hhe(Yhe,e)}const Zhe=bce("ZodNumberFormat",(e,t)=>{Oue.init(e,t),Yhe.init(e,t)});function Jhe(e){return fhe(Zhe,e)}const Qhe=bce("ZodUnknown",(e,t)=>{Rue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function efe(){return dhe(Qhe)}const tfe=bce("ZodNever",(e,t)=>{Iue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.not={}})(0,0,t)});const nfe=bce("ZodArray",(e,t)=>{Pue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=n,o=e._zod.def,{minimum:s,maximum:a}=e._zod.bag;"number"==typeof s&&(i.minItems=s),"number"==typeof a&&(i.maxItems=a),i.type="array",i.items=Ohe(o.element,t,{...r,path:[...r.path,"items"]})})(e,t,n,r),e.element=t.element,e.min=(t,n)=>e.check(xhe(t,n)),e.nonempty=t=>e.check(xhe(1,t)),e.max=(t,n)=>e.check(bhe(t,n)),e.length=(t,n)=>e.check(whe(t,n)),e.unwrap=()=>e.element});const rfe=bce("ZodObject",(e,t)=>{Uue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=n,o=e._zod.def;i.type="object",i.properties={};const s=o.shape;for(const c in s)i.properties[c]=Ohe(s[c],t,{...r,path:[...r.path,"properties",c]});const a=new Set(Object.keys(s)),l=new Set([...a].filter(e=>{const n=o.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));l.size>0&&(i.required=Array.from(l)),"never"===o.catchall?._zod.def.type?i.additionalProperties=!1:o.catchall?o.catchall&&(i.additionalProperties=Ohe(o.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):"output"===t.io&&(i.additionalProperties=!1)})(e,t,n,r),Ice(e,"shape",()=>t.shape),e.keyof=()=>function(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new afe({type:"enum",entries:n,...jce(t)})}(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:efe()}),e.loose=()=>e.clone({...e._zod.def,catchall:efe()}),e.strict=()=>{return e.clone({...e._zod.def,catchall:phe(tfe,t)});var t},e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!Uce(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const n=e._zod.def.shape;for(const e in t)if(void 0!==Object.getOwnPropertyDescriptor(n,e))throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=Pce(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return kce(this,"shape",n),n}});return Vce(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!Uce(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Pce(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return kce(this,"shape",n),n}});return Vce(e,n)}(e,t),e.merge=t=>function(e,t){const n=Pce(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return kce(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Vce(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");return Vce(e,Pce(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error(`Unrecognized key: "${r}"`);t[r]&&(e[r]=n.shape[r])}return kce(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=Pce(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return kce(this,"shape",r),r},checks:[]});return Vce(e,i)}(e,t),e.partial=(...t)=>function(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const i=Pce(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return kce(this,"shape",i),i},checks:[]});return Vce(t,i)}(cfe,e,t[0]),e.required=(...t)=>function(e,t,n){const r=Pce(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in i))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return kce(this,"shape",i),i}});return Vce(t,r)}(gfe,e,t[0])});function ife(e,t){const n={type:"object",shape:e??{},...jce(t)};return new rfe(n)}const ofe=bce("ZodUnion",(e,t)=>{zue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=!1===i.inclusive,s=i.options.map((e,n)=>Ohe(e,t,{...r,path:[...r.path,o?"oneOf":"anyOf",n]}));o?n.oneOf=s:n.anyOf=s})(e,t,n,r),e.options=t.options});const sfe=bce("ZodIntersection",(e,t)=>{Vue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=Ohe(i.left,t,{...r,path:[...r.path,"allOf",0]}),s=Ohe(i.right,t,{...r,path:[...r.path,"allOf",1]}),a=e=>"allOf"in e&&1===Object.keys(e).length,l=[...a(o)?o.allOf:[o],...a(s)?s.allOf:[s]];n.allOf=l})(e,t,n,r)});const afe=bce("ZodEnum",(e,t)=>{Wue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=Tce(e._zod.def.entries);r.every(e=>"number"==typeof e)&&(n.type="number"),r.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=r})(e,0,n),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const o of e){if(!n.has(o))throw new Error(`Key ${o} not found in enum`);i[o]=t.entries[o]}return new afe({...t,checks:[],...jce(r),entries:i})},e.exclude=(e,r)=>{const i={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete i[t]}return new afe({...t,checks:[],...jce(r),entries:i})}});const lfe=bce("ZodTransform",(e,t)=>{Gue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema")})(0,e),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new wce(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push(Yce(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),n.issues.push(Yce(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});const cfe=bce("ZodOptional",(e,t)=>{$ue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Nhe(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function ufe(e){return new cfe({type:"optional",innerType:e})}const hfe=bce("ZodExactOptional",(e,t)=>{Xue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>Nhe(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});const ffe=bce("ZodNullable",(e,t)=>{Yue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=Ohe(i.innerType,t,r),s=t.seen.get(e);"openapi-3.0"===t.target?(s.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function dfe(e){return new ffe({type:"nullable",innerType:e})}const pfe=bce("ZodDefault",(e,t)=>{Kue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Ohe(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const mfe=bce("ZodPrefault",(e,t)=>{Jue.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Ohe(i.innerType,t,r),t.seen.get(e).ref=i.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});const gfe=bce("ZodNonOptional",(e,t)=>{Que.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Ohe(i.innerType,t,r),t.seen.get(e).ref=i.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});const vfe=bce("ZodCatch",(e,t)=>{the.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;let o;Ohe(i.innerType,t,r),t.seen.get(e).ref=i.innerType;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const yfe=bce("ZodPipe",(e,t)=>{nhe.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o="input"===t.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;Ohe(o,t,r),t.seen.get(e).ref=o})(e,t,0,r),e.in=t.in,e.out=t.out});function _fe(e,t){return new yfe({type:"pipe",in:e,out:t})}const bfe=bce("ZodReadonly",(e,t)=>{ihe.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;Ohe(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.readOnly=!0})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});const xfe=bce("ZodCustom",(e,t)=>{she.init(e,t),Xhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")})(0,e)});const wfe={};function Sfe(e,t){"string"!=typeof t&&(t=Sfe.defaultChars);const n=function(e){let t=wfe[e];if(t)return t;t=wfe[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);t.push(e)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(e){let t="";for(let r=0,i=e.length;r<i;r+=3){const o=parseInt(e.slice(r+1,r+3),16);if(o<128)t+=n[o];else{if(192==(224&o)&&r+3<i){const n=parseInt(e.slice(r+4,r+6),16);if(128==(192&n)){const e=o<<6&1984|63&n;t+=e<128?"":String.fromCharCode(e),r+=3;continue}}if(224==(240&o)&&r+6<i){const n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16);if(128==(192&n)&&128==(192&i)){const e=o<<12&61440|n<<6&4032|63&i;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),r+=6;continue}}if(240==(248&o)&&r+9<i){const n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),s=parseInt(e.slice(r+10,r+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&s)){let e=o<<18&1835008|n<<12&258048|i<<6&4032|63&s;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),r+=9;continue}}t+=""}}return t})}Sfe.defaultChars=";/?:@&=+$,#",Sfe.componentChars="";const Efe={};function Tfe(e,t,n){"string"!=typeof t&&(n=t,t=Tfe.defaultChars),void 0===n&&(n=!0);const r=function(e){let t=Efe[e];if(t)return t;t=Efe[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);/^[0-9a-z]$/i.test(e)?t.push(e):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let i="";for(let o=0,s=e.length;o<s;o++){const t=e.charCodeAt(o);if(n&&37===t&&o+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))i+=e.slice(o,o+3),o+=2;else if(t<128)i+=r[t];else if(t>=55296&&t<=57343){if(t>=55296&&t<=56319&&o+1<s){const t=e.charCodeAt(o+1);if(t>=56320&&t<=57343){i+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(e[o])}return i}function Afe(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function Mfe(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}Tfe.defaultChars=";/?:@&=+$,-_.!~*'()#",Tfe.componentChars="-_.!~*'()";const Cfe=/^([a-z0-9.+-]+:)/i,Ofe=/:[0-9]*$/,Rfe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ife=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),kfe=["'"].concat(Ife),Pfe=["%","/","?",";","#"].concat(kfe),Nfe=["/","?","#"],Dfe=/^[+a-z0-9A-Z_-]{0,63}$/,Lfe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ffe={javascript:!0,"javascript:":!0},Ufe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Bfe(e,t){if(e&&e instanceof Mfe)return e;const n=new Mfe;return n.parse(e,t),n}Mfe.prototype.parse=function(e,t){let n,r,i,o=e;if(o=o.trim(),!t&&1===e.split("#").length){const e=Rfe.exec(o);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let s=Cfe.exec(o);if(s&&(s=s[0],n=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(t||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||s&&Ffe[s]||(o=o.substr(2),this.slashes=!0)),!Ffe[s]&&(i||s&&!Ufe[s])){let e,t,n=-1;for(let a=0;a<Nfe.length;a++)r=o.indexOf(Nfe[a]),-1!==r&&(-1===n||r<n)&&(n=r);t=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==t&&(e=o.slice(0,t),o=o.slice(t+1),this.auth=e),n=-1;for(let a=0;a<Pfe.length;a++)r=o.indexOf(Pfe[a]),-1!==r&&(-1===n||r<n)&&(n=r);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const s="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!s){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(Dfe)){let r="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?r+="x":r+=n[e];if(!r.match(Dfe)){const r=e.slice(0,t),i=e.slice(t+1),s=n.match(Lfe);s&&(r.push(s[1]),i.unshift(s[2])),i.length&&(o=i.join(".")+o),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),s&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");-1!==a&&(this.hash=o.substr(a),o=o.slice(0,a));const l=o.indexOf("?");return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),Ufe[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},Mfe.prototype.parseHost=function(e){let t=Ofe.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const zfe=Object.freeze(Object.defineProperty({__proto__:null,decode:Sfe,encode:Tfe,format:Afe,parse:Bfe},Symbol.toStringTag,{value:"Module"})),Vfe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,jfe=/[\0-\x1F\x7F-\x9F]/,Hfe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Wfe=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Gfe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,qfe=Object.freeze(Object.defineProperty({__proto__:null,Any:Vfe,Cc:jfe,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:Hfe,S:Wfe,Z:Gfe},Symbol.toStringTag,{value:"Module"})),$fe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Xfe=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Yfe;const Kfe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Zfe=null!==(Yfe=String.fromCodePoint)&&void 0!==Yfe?Yfe:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var Jfe,Qfe;(Qfe=Jfe||(Jfe={}))[Qfe.NUM=35]="NUM",Qfe[Qfe.SEMI=59]="SEMI",Qfe[Qfe.EQUALS=61]="EQUALS",Qfe[Qfe.ZERO=48]="ZERO",Qfe[Qfe.NINE=57]="NINE",Qfe[Qfe.LOWER_A=97]="LOWER_A",Qfe[Qfe.LOWER_F=102]="LOWER_F",Qfe[Qfe.LOWER_X=120]="LOWER_X",Qfe[Qfe.LOWER_Z=122]="LOWER_Z",Qfe[Qfe.UPPER_A=65]="UPPER_A",Qfe[Qfe.UPPER_F=70]="UPPER_F",Qfe[Qfe.UPPER_Z=90]="UPPER_Z";var ede,tde,nde,rde,ide,ode;function sde(e){return e>=Jfe.ZERO&&e<=Jfe.NINE}function ade(e){return e>=Jfe.UPPER_A&&e<=Jfe.UPPER_F||e>=Jfe.LOWER_A&&e<=Jfe.LOWER_F}function lde(e){return e===Jfe.EQUALS||function(e){return e>=Jfe.UPPER_A&&e<=Jfe.UPPER_Z||e>=Jfe.LOWER_A&&e<=Jfe.LOWER_Z||sde(e)}(e)}(tde=ede||(ede={}))[tde.VALUE_LENGTH=49152]="VALUE_LENGTH",tde[tde.BRANCH_LENGTH=16256]="BRANCH_LENGTH",tde[tde.JUMP_TABLE=127]="JUMP_TABLE",(rde=nde||(nde={}))[rde.EntityStart=0]="EntityStart",rde[rde.NumericStart=1]="NumericStart",rde[rde.NumericDecimal=2]="NumericDecimal",rde[rde.NumericHex=3]="NumericHex",rde[rde.NamedEntity=4]="NamedEntity",(ode=ide||(ide={}))[ode.Legacy=0]="Legacy",ode[ode.Strict=1]="Strict",ode[ode.Attribute=2]="Attribute";class cde{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=nde.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=ide.Strict}startEntity(e){this.decodeMode=e,this.state=nde.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case nde.EntityStart:return e.charCodeAt(t)===Jfe.NUM?(this.state=nde.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=nde.NamedEntity,this.stateNamedEntity(e,t));case nde.NumericStart:return this.stateNumericStart(e,t);case nde.NumericDecimal:return this.stateNumericDecimal(e,t);case nde.NumericHex:return this.stateNumericHex(e,t);case nde.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===Jfe.LOWER_X?(this.state=nde.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=nde.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const i=n-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!sde(r)&&!ade(r))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!sde(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Jfe.SEMI)this.consumed+=1;else if(this.decodeMode===ide.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Kfe.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==Jfe.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],i=(r&ede.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const o=e.charCodeAt(t);if(this.treeIndex=hde(n,r,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return 0===this.result||this.decodeMode===ide.Attribute&&(0===i||lde(o))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],i=(r&ede.VALUE_LENGTH)>>14,0!==i){if(o===Jfe.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==ide.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&ede.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~ede.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case nde.NamedEntity:return 0===this.result||this.decodeMode===ide.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case nde.NumericDecimal:return this.emitNumericEntity(0,2);case nde.NumericHex:return this.emitNumericEntity(0,3);case nde.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case nde.EntityStart:return 0}}}function ude(e){let t="";const n=new cde(e,e=>t+=Zfe(e));return function(e,r){let i=0,o=0;for(;(o=e.indexOf("&",o))>=0;){t+=e.slice(i,o),n.startEntity(r);const s=n.write(e,o+1);if(s<0){i=o+n.end();break}i=o+s,o=0===s?i+1:i}const s=t+e.slice(i);return t="",s}}function hde(e,t,n,r){const i=(t&ede.BRANCH_LENGTH)>>7,o=t&ede.JUMP_TABLE;if(0===i)return 0!==o&&r===o?n:-1;if(o){const t=r-o;return t<0||t>=i?-1:e[n+t]-1}let s=n,a=s+i-1;for(;s<=a;){const t=s+a>>>1,n=e[t];if(n<r)s=t+1;else{if(!(n>r))return e[t+i];a=t-1}}return-1}const fde=ude($fe);function dde(e,t=ide.Legacy){return fde(e,t)}function pde(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}ude(Xfe);const mde=Object.prototype.hasOwnProperty;function gde(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function vde(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function yde(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function _de(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const bde=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,xde=new RegExp(bde.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),wde=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function Sde(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(xde,function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&wde.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return yde(n)?_de(n):e}const n=dde(e);return n!==e?n:e}(e,n)})}const Ede=/[&<>"]/,Tde=/[&<>"]/g,Ade={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Mde(e){return Ade[e]}function Cde(e){return Ede.test(e)?e.replace(Tde,Mde):e}const Ode=/[.?*+^$[\]\\(){}|-]/g;function Rde(e){switch(e){case 9:case 32:return!0}return!1}function Ide(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function kde(e){return Hfe.test(e)||Wfe.test(e)}function Pde(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Nde(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const Dde={mdurl:zfe,ucmicro:qfe},Lde=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:vde,assign:gde,escapeHtml:Cde,escapeRE:function(e){return e.replace(Ode,"\\$&")},fromCodePoint:_de,has:function(e,t){return mde.call(e,t)},isMdAsciiPunct:Pde,isPunctChar:kde,isSpace:Rde,isString:pde,isValidEntityCode:yde,isWhiteSpace:Ide,lib:Dde,normalizeReference:Nde,unescapeAll:Sde,unescapeMd:function(e){return e.indexOf("\\")<0?e:e.replace(bde,"$1")}},Symbol.toStringTag,{value:"Module"}));const Fde=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(e,t,n){let r,i=t;const o={ok:!1,pos:0,str:""};if(60===e.charCodeAt(i)){for(i++;i<n;){if(r=e.charCodeAt(i),10===r)return o;if(60===r)return o;if(62===r)return o.pos=i+1,o.str=Sde(e.slice(t+1,i)),o.ok=!0,o;92===r&&i+1<n?i+=2:i++}return o}let s=0;for(;i<n&&(r=e.charCodeAt(i),32!==r)&&!(r<32||127===r);)if(92===r&&i+1<n){if(32===e.charCodeAt(i+1))break;i+=2}else{if(40===r&&(s++,s>32))return o;if(41===r){if(0===s)break;s--}i++}return t===i||0!==s||(o.str=Sde(e.slice(t,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(e,t,n){let r,i,o,s;const a=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<a;){if(o=e.src.charCodeAt(e.pos),93===o&&(r--,0===r)){i=!0;break}if(s=e.pos,e.md.inline.skipToken(e),91===o)if(s===e.pos-1)r++;else if(n)return e.pos=l,-1}let c=-1;return i&&(c=e.pos),e.pos=l,c},parseLinkTitle:function(e,t,n,r){let i,o=t;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)s.str=r.str,s.marker=r.marker;else{if(o>=n)return s;let r=e.charCodeAt(o);if(34!==r&&39!==r&&40!==r)return s;t++,o++,40===r&&(r=41),s.marker=r}for(;o<n;){if(i=e.charCodeAt(o),i===s.marker)return s.pos=o+1,s.str+=Sde(e.slice(t,o)),s.ok=!0,s;if(40===i&&41===s.marker)return s;92===i&&o+1<n&&o++,o++}return s.can_continue=!0,s.str+=Sde(e.slice(t,o)),s}},Symbol.toStringTag,{value:"Module"})),Ude={};function Bde(){this.rules=gde({},Ude)}function zde(){this.__rules__=[],this.__cache__=null}function Vde(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function jde(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}Ude.code_inline=function(e,t,n,r,i){const o=e[t];return"<code"+i.renderAttrs(o)+">"+Cde(o.content)+"</code>"},Ude.code_block=function(e,t,n,r,i){const o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+Cde(e[t].content)+"</code></pre>\n"},Ude.fence=function(e,t,n,r,i){const o=e[t],s=o.info?Sde(o.info).trim():"";let a,l="",c="";if(s){const e=s.split(/(\s+)/g);l=e[0],c=e.slice(2).join("")}if(a=n.highlight&&n.highlight(o.content,l,c)||Cde(o.content),0===a.indexOf("<pre"))return a+"\n";if(s){const e=o.attrIndex("class"),t=o.attrs?o.attrs.slice():[];e<0?t.push(["class",n.langPrefix+l]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+l);const r={attrs:t};return`<pre><code${i.renderAttrs(r)}>${a}</code></pre>\n`}return`<pre><code${i.renderAttrs(o)}>${a}</code></pre>\n`},Ude.image=function(e,t,n,r,i){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(e,t,n)},Ude.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},Ude.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},Ude.text=function(e,t){return Cde(e[t].content)},Ude.html_block=function(e,t){return e[t].content},Ude.html_inline=function(e,t){return e[t].content},Bde.prototype.renderAttrs=function(e){let t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+Cde(e.attrs[t][0])+'="'+Cde(e.attrs[t][1])+'"';return r},Bde.prototype.renderToken=function(e,t,n){const r=e[t];let i="";if(r.hidden)return"";r.block&&-1!==r.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===r.nesting?"</":"<")+r.tag,i+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(r.block&&(o=!0,1===r.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===r.tag)&&(o=!1)}return i+=o?">\n":">",i},Bde.prototype.renderInline=function(e,t,n){let r="";const i=this.rules;for(let o=0,s=e.length;o<s;o++){const s=e[o].type;void 0!==i[s]?r+=i[s](e,o,t,n,this):r+=this.renderToken(e,o,t)}return r},Bde.prototype.renderInlineAsText=function(e,t,n){let r="";for(let i=0,o=e.length;i<o;i++)switch(e[i].type){case"text":case"html_inline":case"html_block":r+=e[i].content;break;case"image":r+=this.renderInlineAsText(e[i].children,t,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},Bde.prototype.render=function(e,t,n){let r="";const i=this.rules;for(let o=0,s=e.length;o<s;o++){const s=e[o].type;"inline"===s?r+=this.renderInline(e[o].children,t,n):void 0!==i[s]?r+=i[s](e,o,t,n,this):r+=this.renderToken(e,o,t,n)}return r},zde.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},zde.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},zde.prototype.at=function(e,t,n){const r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},zde.prototype.before=function(e,t,n,r){const i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},zde.prototype.after=function(e,t,n,r){const i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},zde.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},zde.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},zde.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},zde.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},zde.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},Vde.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return-1},Vde.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},Vde.prototype.attrSet=function(e,t){const n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},Vde.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},Vde.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},jde.prototype.Token=Vde;const Hde=/\r\n?|\n/g,Wde=/\0/g;function Gde(e){return/^<a[>\s]/i.test(e)}function qde(e){return/^<\/a\s*>/i.test(e)}const $de=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Xde=/\((c|tm|r)\)/i,Yde=/\((c|tm|r)\)/gi,Kde={c:"",r:"",tm:""};function Zde(e,t){return Kde[t.toLowerCase()]}function Jde(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||(r.content=r.content.replace(Yde,Zde)),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}function Qde(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||$de.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}const epe=/['"]/,tpe=/['"]/g;function npe(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function rpe(e,t){let n;const r=[];for(let i=0;i<e.length;i++){const o=e[i],s=e[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=s);n--);if(r.length=n+1,"text"!==o.type)continue;let a=o.content,l=0,c=a.length;e:for(;l<c;){tpe.lastIndex=l;const u=tpe.exec(a);if(!u)break;let h=!0,f=!0;l=u.index+1;const d="'"===u[0];let p=32;if(u.index-1>=0)p=a.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n--)if(e[n].content){p=e[n].content.charCodeAt(e[n].content.length-1);break}let m=32;if(l<c)m=a.charCodeAt(l);else for(n=i+1;n<e.length&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n++)if(e[n].content){m=e[n].content.charCodeAt(0);break}const g=Pde(p)||kde(String.fromCharCode(p)),v=Pde(m)||kde(String.fromCharCode(m)),y=Ide(p),_=Ide(m);if(_?h=!1:v&&(y||g||(h=!1)),y?f=!1:g&&(_||v||(f=!1)),34===m&&'"'===u[0]&&p>=48&&p<=57&&(f=h=!1),h&&f&&(h=g,f=v),h||f){if(f)for(n=r.length-1;n>=0;n--){let h=r[n];if(r[n].level<s)break;if(h.single===d&&r[n].level===s){let s,f;h=r[n],d?(s=t.md.options.quotes[2],f=t.md.options.quotes[3]):(s=t.md.options.quotes[0],f=t.md.options.quotes[1]),o.content=npe(o.content,u.index,f),e[h.token].content=npe(e[h.token].content,h.pos,s),l+=f.length-1,h.token===i&&(l+=s.length-1),a=o.content,c=a.length,r.length=n;continue e}}h?r.push({token:i,pos:u.index,single:d,level:s}):f&&d&&(o.content=npe(o.content,u.index,""))}else d&&(o.content=npe(o.content,u.index,""))}}}const ipe=[["normalize",function(e){let t;t=e.src.replace(Hde,"\n"),t=t.replace(Wde,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const r=t[n];"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}],["linkify",function(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if("inline"!==t[n].type||!e.md.linkify.pretest(t[n].content))continue;let r=t[n].children,i=0;for(let o=r.length-1;o>=0;o--){const s=r[o];if("link_close"!==s.type){if("html_inline"===s.type&&(Gde(s.content)&&i>0&&i--,qde(s.content)&&i++),!(i>0)&&"text"===s.type&&e.md.linkify.test(s.content)){const i=s.content;let a=e.md.linkify.match(i);const l=[];let c=s.level,u=0;a.length>0&&0===a[0].index&&o>0&&"text_special"===r[o-1].type&&(a=a.slice(1));for(let t=0;t<a.length;t++){const n=a[t].url,r=e.md.normalizeLink(n);if(!e.md.validateLink(r))continue;let o=a[t].text;o=a[t].schema?"mailto:"!==a[t].schema||/^mailto:/i.test(o)?e.md.normalizeLinkText(o):e.md.normalizeLinkText("mailto:"+o).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+o).replace(/^http:\/\//,"");const s=a[t].index;if(s>u){const t=new e.Token("text","",0);t.content=i.slice(u,s),t.level=c,l.push(t)}const h=new e.Token("link_open","a",1);h.attrs=[["href",r]],h.level=c++,h.markup="linkify",h.info="auto",l.push(h);const f=new e.Token("text","",0);f.content=o,f.level=c,l.push(f);const d=new e.Token("link_close","a",-1);d.level=--c,d.markup="linkify",d.info="auto",l.push(d),u=a[t].lastIndex}if(u<i.length){const t=new e.Token("text","",0);t.content=i.slice(u),t.level=c,l.push(t)}t[n].children=r=vde(r,o,l)}}else for(o--;r[o].level!==s.level&&"link_open"!==r[o].type;)o--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(Xde.test(e.tokens[t].content)&&Jde(e.tokens[t].children),$de.test(e.tokens[t].content)&&Qde(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&epe.test(e.tokens[t].content)&&rpe(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const r=e.tokens,i=r.length;for(let o=0;o<i;o++){if("inline"!==r[o].type)continue;const e=r[o].children,i=e.length;for(t=0;t<i;t++)"text_special"===e[t].type&&(e[t].type="text");for(t=n=0;t<i;t++)"text"===e[t].type&&t+1<i&&"text"===e[t+1].type?e[t+1].content=e[t].content+e[t+1].content:(t!==n&&(e[n]=e[t]),n++);t!==n&&(e.length=n)}}]];function ope(){this.ruler=new zde;for(let e=0;e<ipe.length;e++)this.ruler.push(ipe[e][0],ipe[e][1])}function spe(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,s=0,a=0,l=0,c=i.length,u=!1;s<c;s++){const e=i.charCodeAt(s);if(!u){if(Rde(e)){a++,9===e?l+=4-l%4:l++;continue}u=!0}10!==e&&s!==c-1||(10!==e&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),u=!1,a=0,l=0,o=s+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}ope.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)},ope.prototype.State=jde,spe.prototype.push=function(e,t,n){const r=new Vde(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},spe.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},spe.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},spe.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!Rde(this.src.charCodeAt(e)))break}return e},spe.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Rde(this.src.charCodeAt(--e)))return e+1;return e},spe.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},spe.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},spe.prototype.getLines=function(e,t,n,r){if(e>=t)return"";const i=new Array(t-e);for(let o=0,s=e;s<t;s++,o++){let e=0;const a=this.bMarks[s];let l,c=a;for(l=s+1<t||r?this.eMarks[s]+1:this.eMarks[s];c<l&&e<n;){const t=this.src.charCodeAt(c);if(Rde(t))9===t?e+=4-(e+this.bsCount[s])%4:e++;else{if(!(c-a<this.tShift[s]))break;e++}c++}i[o]=e>n?new Array(e-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return i.join("")},spe.prototype.Token=Vde;function ape(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function lpe(e){const t=[],n=e.length;let r=0,i=e.charCodeAt(r),o=!1,s=0,a="";for(;r<n;)124===i&&(o?(a+=e.substring(s,r-1),s=r):(t.push(a+e.substring(s,r)),a="",s=r+1)),o=92===i,r++,i=e.charCodeAt(r);return t.push(a+e.substring(s)),t}function cpe(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(r++);if(42!==i&&45!==i&&43!==i)return-1;if(r<n){if(!Rde(e.src.charCodeAt(r)))return-1}return r}function upe(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let i=n;if(i+1>=r)return-1;let o=e.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=r)return-1;if(o=e.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<r&&(o=e.src.charCodeAt(i),!Rde(o))?-1:i}const hpe="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",fpe="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",dpe=new RegExp("^(?:"+hpe+"|"+fpe+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),ppe=new RegExp("^(?:"+hpe+"|"+fpe+")"),mpe=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(ppe.source+"\\s*$"),/^$/,!1]];const gpe=[["table",function(e,t,n,r){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent)return!1;if(e.sCount[i]-e.blkIndent>=4)return!1;let o=e.bMarks[i]+e.tShift[i];if(o>=e.eMarks[i])return!1;const s=e.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s)return!1;if(o>=e.eMarks[i])return!1;const a=e.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a&&!Rde(a))return!1;if(45===s&&Rde(a))return!1;for(;o<e.eMarks[i];){const t=e.src.charCodeAt(o);if(124!==t&&45!==t&&58!==t&&!Rde(t))return!1;o++}let l=ape(e,t+1),c=l.split("|");const u=[];for(let v=0;v<c.length;v++){const e=c[v].trim();if(!e){if(0===v||v===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?u.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?u.push("left"):u.push("")}if(l=ape(e,t).trim(),-1===l.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;c=lpe(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const h=c.length;if(0===h||h!==u.length)return!1;if(r)return!0;const f=e.parentType;e.parentType="table";const d=e.md.block.ruler.getRules("blockquote"),p=[t,0];e.push("table_open","table",1).map=p,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let v=0;v<c.length;v++){const t=e.push("th_open","th",1);u[v]&&(t.attrs=[["style","text-align:"+u[v]]]);const n=e.push("inline","",0);n.content=c[v].trim(),n.children=[],e.push("th_close","th",-1)}let m;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let g=0;for(i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let r=!1;for(let t=0,o=d.length;t<o;t++)if(d[t](e,i,n,!0)){r=!0;break}if(r)break;if(l=ape(e,i).trim(),!l)break;if(e.sCount[i]-e.blkIndent>=4)break;if(c=lpe(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=h-c.length,g>65536)break;if(i===t+2){e.push("tbody_open","tbody",1).map=m=[t+2,0]}e.push("tr_open","tr",1).map=[i,i+1];for(let t=0;t<h;t++){const n=e.push("td_open","td",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const r=e.push("inline","",0);r.content=c[t]?c[t].trim():"",r.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return m&&(e.push("tbody_close","tbody",-1),m[1]=i),e.push("table_close","table",-1),p[1]=i,e.parentType=f,e.line=i,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,i=r;for(;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;r++,i=r}e.line=i;const o=e.push("code_block","code",0);return o.content=e.getLines(t,i,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}],["fence",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(i+3>o)return!1;const s=e.src.charCodeAt(i);if(126!==s&&96!==s)return!1;let a=i;i=e.skipChars(i,s);let l=i-a;if(l<3)return!1;const c=e.src.slice(a,i),u=e.src.slice(i,o);if(96===s&&u.indexOf(String.fromCharCode(s))>=0)return!1;if(r)return!0;let h=t,f=!1;for(;(h++,!(h>=n))&&(i=a=e.bMarks[h]+e.tShift[h],o=e.eMarks[h],!(i<o&&e.sCount[h]<e.blkIndent));)if(e.src.charCodeAt(i)===s&&!(e.sCount[h]-e.blkIndent>=4||(i=e.skipChars(i,s),i-a<l||(i=e.skipSpaces(i),i<o)))){f=!0;break}l=e.sCount[t],e.line=h+(f?1:0);const d=e.push("fence","code",0);return d.info=u,d.content=e.getLines(t+1,h,l,!0),d.markup=c,d.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(i))return!1;if(r)return!0;const a=[],l=[],c=[],u=[],h=e.md.block.ruler.getRules("blockquote"),f=e.parentType;e.parentType="blockquote";let d,p=!1;for(d=t;d<n;d++){const t=e.sCount[d]<e.blkIndent;if(i=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],i>=o)break;if(62===e.src.charCodeAt(i++)&&!t){let t,n,r=e.sCount[d]+1;32===e.src.charCodeAt(i)?(i++,r++,n=!1,t=!0):9===e.src.charCodeAt(i)?(t=!0,(e.bsCount[d]+r)%4==3?(i++,r++,n=!1):n=!0):t=!1;let s=r;for(a.push(e.bMarks[d]),e.bMarks[d]=i;i<o;){const t=e.src.charCodeAt(i);if(!Rde(t))break;9===t?s+=4-(s+e.bsCount[d]+(n?1:0))%4:s++,i++}p=i>=o,l.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(t?1:0),c.push(e.sCount[d]),e.sCount[d]=s-r,u.push(e.tShift[d]),e.tShift[d]=i-e.bMarks[d];continue}if(p)break;let r=!1;for(let i=0,o=h.length;i<o;i++)if(h[i](e,d,n,!0)){r=!0;break}if(r){e.lineMax=d,0!==e.blkIndent&&(a.push(e.bMarks[d]),l.push(e.bsCount[d]),u.push(e.tShift[d]),c.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}a.push(e.bMarks[d]),l.push(e.bsCount[d]),u.push(e.tShift[d]),c.push(e.sCount[d]),e.sCount[d]=-1}const m=e.blkIndent;e.blkIndent=0;const g=e.push("blockquote_open","blockquote",1);g.markup=">";const v=[t,0];g.map=v,e.md.block.tokenize(e,t,d),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=s,e.parentType=f,v[1]=e.line;for(let y=0;y<u.length;y++)e.bMarks[y+t]=a[y],e.tShift[y+t]=u[y],e.sCount[y+t]=c[y],e.bsCount[y+t]=l[y];return e.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,r){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(o++);if(42!==s&&45!==s&&95!==s)return!1;let a=1;for(;o<i;){const t=e.src.charCodeAt(o++);if(t!==s&&!Rde(t))return!1;t===s&&a++}if(a<3)return!1;if(r)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(a+1).join(String.fromCharCode(s)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,r){let i,o,s,a,l=t,c=!0;if(e.sCount[l]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let u,h,f,d=!1;if(r&&"paragraph"===e.parentType&&e.sCount[l]>=e.blkIndent&&(d=!0),(f=upe(e,l))>=0){if(u=!0,s=e.bMarks[l]+e.tShift[l],h=Number(e.src.slice(s,f-1)),d&&1!==h)return!1}else{if(!((f=cpe(e,l))>=0))return!1;u=!1}if(d&&e.skipSpaces(f)>=e.eMarks[l])return!1;if(r)return!0;const p=e.src.charCodeAt(f-1),m=e.tokens.length;u?(a=e.push("ordered_list_open","ol",1),1!==h&&(a.attrs=[["start",h]])):a=e.push("bullet_list_open","ul",1);const g=[l,0];a.map=g,a.markup=String.fromCharCode(p);let v=!1;const y=e.md.block.ruler.getRules("list"),_=e.parentType;for(e.parentType="list";l<n;){o=f,i=e.eMarks[l];const t=e.sCount[l]+f-(e.bMarks[l]+e.tShift[l]);let r=t;for(;o<i;){const t=e.src.charCodeAt(o);if(9===t)r+=4-(r+e.bsCount[l])%4;else{if(32!==t)break;r++}o++}const h=o;let d;d=h>=i?1:r-t,d>4&&(d=1);const m=t+d;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(p);const g=[l,0];a.map=g,u&&(a.info=e.src.slice(s,f-1));const _=e.tight,b=e.tShift[l],x=e.sCount[l],w=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=m,e.tight=!0,e.tShift[l]=h-e.bMarks[l],e.sCount[l]=r,h>=i&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),e.tight&&!v||(c=!1),v=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[l]=b,e.sCount[l]=x,e.tight=_,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(p),l=e.line,g[1]=l,l>=n)break;if(e.sCount[l]<e.blkIndent)break;if(e.sCount[l]-e.blkIndent>=4)break;let S=!1;for(let i=0,o=y.length;i<o;i++)if(y[i](e,l,n,!0)){S=!0;break}if(S)break;if(u){if(f=upe(e,l),f<0)break;s=e.bMarks[l]+e.tShift[l]}else if(f=cpe(e,l),f<0)break;if(p!==e.src.charCodeAt(f-1))break}return a=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(p),g[1]=l,e.line=l,e.parentType=_,c&&function(e,t){const n=e.level+2;for(let r=t+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===n&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,m),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],s=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(i))return!1;function a(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let r=!1;if(e.sCount[t]-e.blkIndent>3&&(r=!0),e.sCount[t]<0&&(r=!0),!r){const r=e.md.block.ruler.getRules("reference"),i=e.parentType;e.parentType="reference";let o=!1;for(let s=0,a=r.length;s<a;s++)if(r[s](e,t,n,!0)){o=!0;break}if(e.parentType=i,o)return null}const i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(i,o+1)}let l=e.src.slice(i,o+1);o=l.length;let c=-1;for(i=1;i<o;i++){const e=l.charCodeAt(i);if(91===e)return!1;if(93===e){c=i;break}if(10===e){const e=a(s);null!==e&&(l+=e,o=l.length,s++)}else if(92===e&&(i++,i<o&&10===l.charCodeAt(i))){const e=a(s);null!==e&&(l+=e,o=l.length,s++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(i=c+2;i<o;i++){const e=l.charCodeAt(i);if(10===e){const e=a(s);null!==e&&(l+=e,o=l.length,s++)}else if(!Rde(e))break}const u=e.md.helpers.parseLinkDestination(l,i,o);if(!u.ok)return!1;const h=e.md.normalizeLink(u.str);if(!e.md.validateLink(h))return!1;i=u.pos;const f=i,d=s,p=i;for(;i<o;i++){const e=l.charCodeAt(i);if(10===e){const e=a(s);null!==e&&(l+=e,o=l.length,s++)}else if(!Rde(e))break}let m,g=e.md.helpers.parseLinkTitle(l,i,o);for(;g.can_continue;){const t=a(s);if(null===t)break;l+=t,i=o,o=l.length,s++,g=e.md.helpers.parseLinkTitle(l,i,o,g)}for(i<o&&p!==i&&g.ok?(m=g.str,i=g.pos):(m="",i=f,s=d);i<o;){if(!Rde(l.charCodeAt(i)))break;i++}if(i<o&&10!==l.charCodeAt(i)&&m)for(m="",i=f,s=d;i<o;){if(!Rde(l.charCodeAt(i)))break;i++}if(i<o&&10!==l.charCodeAt(i))return!1;const v=Nde(l.slice(1,c));return!!v&&(r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[v]&&(e.env.references[v]={title:m,href:h}),e.line=s),!0)}],["html_block",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(i))return!1;let s=e.src.slice(i,o),a=0;for(;a<mpe.length&&!mpe[a][0].test(s);a++);if(a===mpe.length)return!1;if(r)return mpe[a][2];let l=t+1;if(!mpe[a][1].test(s))for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(i=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],s=e.src.slice(i,o),mpe[a][1].test(s)){0!==s.length&&l++;break}e.line=l;const c=e.push("html_block","",0);return c.map=[t,l],c.content=e.getLines(t,l,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(i);if(35!==s||i>=o)return!1;let a=1;for(s=e.src.charCodeAt(++i);35===s&&i<o&&a<=6;)a++,s=e.src.charCodeAt(++i);if(a>6||i<o&&!Rde(s))return!1;if(r)return!0;o=e.skipSpacesBack(o,i);const l=e.skipCharsBack(o,35,i);l>i&&Rde(e.src.charCodeAt(l-1))&&(o=l),e.line=t+1;const c=e.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[t,e.line];const u=e.push("inline","",0);return u.content=e.src.slice(i,o).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let o,s=0,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let t=e.bMarks[a]+e.tShift[a];const n=e.eMarks[a];if(t<n&&(o=e.src.charCodeAt(t),(45===o||61===o)&&(t=e.skipChars(t,o),t=e.skipSpaces(t),t>=n))){s=61===o?1:2;break}}if(e.sCount[a]<0)continue;let t=!1;for(let i=0,o=r.length;i<o;i++)if(r[i](e,a,n,!0)){t=!0;break}if(t)break}if(!s)return!1;const l=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const c=e.push("heading_open","h"+String(s),1);c.markup=String.fromCharCode(o),c.map=[t,e.line];const u=e.push("inline","",0);return u.content=l,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(s),-1).markup=String.fromCharCode(o),e.parentType=i,!0}],["paragraph",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]<0)continue;let t=!1;for(let i=0,s=r.length;i<s;i++)if(r[i](e,o,n,!0)){t=!0;break}if(t)break}const s=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o,e.push("paragraph_open","p",1).map=[t,e.line];const a=e.push("inline","",0);return a.content=s,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}]];function vpe(){this.ruler=new zde;for(let e=0;e<gpe.length;e++)this.ruler.push(gpe[e][0],gpe[e][1],{alt:(gpe[e][2]||[]).slice()})}function ype(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function _pe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}vpe.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),i=r.length,o=e.md.options.maxNesting;let s=t,a=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.sCount[s]<e.blkIndent);){if(e.level>=o){e.line=n;break}const t=e.line;let l=!1;for(let o=0;o<i;o++)if(l=r[o](e,s,n,!1),l){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),s=e.line,s<n&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}},vpe.prototype.parse=function(e,t,n,r){if(!e)return;const i=new this.State(e,t,n,r);this.tokenize(i,i.line,i.lineMax)},vpe.prototype.State=spe,ype.prototype.pushPending=function(){const e=new Vde("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},ype.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new Vde(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},ype.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===r;)o++;const s=o-e,a=o<n?this.src.charCodeAt(o):32,l=Pde(i)||kde(String.fromCharCode(i)),c=Pde(a)||kde(String.fromCharCode(a)),u=Ide(i),h=Ide(a),f=!h&&(!c||u||l),d=!u&&(!l||h||c);return{can_open:f&&(t||!d||l),can_close:d&&(t||!f||c),length:s}},ype.prototype.Token=Vde;const bpe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const xpe=[];for(let $=0;$<256;$++)xpe.push(0);function wpe(e,t){let n;const r=[],i=t.length;for(let o=0;o<i;o++){const i=t[o];if(126!==i.marker)continue;if(-1===i.end)continue;const s=t[i.end];n=e.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[s.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[s.token-1].type&&"~"===e.tokens[s.token-1].content&&r.push(s.token-1)}for(;r.length;){const t=r.pop();let i=t+1;for(;i<e.tokens.length&&"s_close"===e.tokens[i].type;)i++;i--,t!==i&&(n=e.tokens[i],e.tokens[i]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){xpe[e.charCodeAt(0)]=1});const Spe={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(126!==r)return!1;const i=e.scanDelims(e.pos,!0);let o=i.length;const s=String.fromCharCode(r);if(o<2)return!1;let a;o%2&&(a=e.push("text","",0),a.content=s,o--);for(let l=0;l<o;l+=2)a=e.push("text","",0),a.content=s+s,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;wpe(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&wpe(e,t[r].delimiters)}};function Epe(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const i=t[r.end],o=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===i.token+1,s=String.fromCharCode(r.marker),a=e.tokens[r.token];a.type=o?"strong_open":"em_open",a.tag=o?"strong":"em",a.nesting=1,a.markup=o?s+s:s,a.content="";const l=e.tokens[i.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?s+s:s,l.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--)}}const Tpe={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(95!==r&&42!==r)return!1;const i=e.scanDelims(e.pos,42===r);for(let o=0;o<i.length;o++){e.push("text","",0).content=String.fromCharCode(r),e.delimiters.push({marker:r,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Epe(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Epe(e,t[r].delimiters)}};const Ape=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Mpe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const Cpe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Ope=/^&([a-z][a-z0-9]{1,31});/i;function Rpe(e){const t={},n=e.length;if(!n)return;let r=0,i=-2;const o=[];for(let s=0;s<n;s++){const n=e[s];if(o.push(0),e[r].marker===n.marker&&i===n.token-1||(r=s),i=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[n.marker][(n.open?3:0)+n.length%3];let l=r-o[r]-1,c=l;for(;l>a;l-=o[l]+1){const t=e[l];if(t.marker===n.marker&&(t.open&&t.end<0)){let r=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(r=!0)),!r){const r=l>0&&!e[l-1].open?o[l-1]+1:0;o[s]=s-l+r,o[l]=r,n.open=!1,t.end=s,t.close=!1,c=-1,i=-2;break}}}-1!==c&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const Ipe=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!_pe(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const r=e.pending.match(bpe);if(!r)return!1;const i=r[1],o=e.md.linkify.matchAtStart(e.src.slice(n-i.length));if(!o)return!1;let s=o.url;if(s.length<=i.length)return!1;s=s.replace(/\*+$/,"");const a=e.md.normalizeLink(s);if(!e.md.validateLink(a))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const t=e.push("link_open","a",1);t.attrs=[["href",a]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(s);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=s.length-i.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const r=e.pending.length-1,i=e.posMax;if(!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){let t=r-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&Rde(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const r=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=r)return!1;let i=e.src.charCodeAt(n);if(10===i){for(t||e.push("hardbreak","br",0),n++;n<r&&(i=e.src.charCodeAt(n),Rde(i));)n++;return e.pos=n,!0}let o=e.src[n];if(i>=55296&&i<=56319&&n+1<r){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(o+=e.src[n+1],n++)}const s="\\"+o;if(!t){const t=e.push("text_special","",0);i<256&&0!==xpe[i]?t.content=o:t.content=s,t.markup=s,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const r=n;n++;const i=e.posMax;for(;n<i&&96===e.src.charCodeAt(n);)n++;const o=e.src.slice(r,n),s=o.length;if(e.backticksScanned&&(e.backticks[s]||0)<=r)return t||(e.pending+=o),e.pos+=s,!0;let a,l=n;for(;-1!==(a=e.src.indexOf("`",l));){for(l=a+1;l<i&&96===e.src.charCodeAt(l);)l++;const r=l-a;if(r===s){if(!t){const t=e.push("code_inline","code",0);t.markup=o,t.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[r]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}],["strikethrough",Spe.tokenize],["emphasis",Tpe.tokenize],["link",function(e,t){let n,r,i,o,s="",a="",l=e.pos,c=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const u=e.pos,h=e.posMax,f=e.pos+1,d=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(d<0)return!1;let p=d+1;if(p<h&&40===e.src.charCodeAt(p)){for(c=!1,p++;p<h&&(n=e.src.charCodeAt(p),Rde(n)||10===n);p++);if(p>=h)return!1;if(l=p,i=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),i.ok){for(s=e.md.normalizeLink(i.str),e.md.validateLink(s)?p=i.pos:s="",l=p;p<h&&(n=e.src.charCodeAt(p),Rde(n)||10===n);p++);if(i=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<h&&l!==p&&i.ok)for(a=i.str,p=i.pos;p<h&&(n=e.src.charCodeAt(p),Rde(n)||10===n);p++);}(p>=h||41!==e.src.charCodeAt(p))&&(c=!0),p++}if(c){if(void 0===e.env.references)return!1;if(p<h&&91===e.src.charCodeAt(p)?(l=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?r=e.src.slice(l,p++):p=d+1):p=d+1,r||(r=e.src.slice(f,d)),o=e.env.references[Nde(r)],!o)return e.pos=u,!1;s=o.href,a=o.title}if(!t){e.pos=f,e.posMax=d;const t=[["href",s]];e.push("link_open","a",1).attrs=t,a&&t.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=h,!0}],["image",function(e,t){let n,r,i,o,s,a,l,c,u="";const h=e.pos,f=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const d=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(o=p+1,o<f&&40===e.src.charCodeAt(o)){for(o++;o<f&&(n=e.src.charCodeAt(o),Rde(n)||10===n);o++);if(o>=f)return!1;for(c=o,a=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),a.ok&&(u=e.md.normalizeLink(a.str),e.md.validateLink(u)?o=a.pos:u=""),c=o;o<f&&(n=e.src.charCodeAt(o),Rde(n)||10===n);o++);if(a=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<f&&c!==o&&a.ok)for(l=a.str,o=a.pos;o<f&&(n=e.src.charCodeAt(o),Rde(n)||10===n);o++);else l="";if(o>=f||41!==e.src.charCodeAt(o))return e.pos=h,!1;o++}else{if(void 0===e.env.references)return!1;if(o<f&&91===e.src.charCodeAt(o)?(c=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?i=e.src.slice(c,o++):o=p+1):o=p+1,i||(i=e.src.slice(d,p)),s=e.env.references[Nde(i)],!s)return e.pos=h,!1;u=s.href,l=s.title}if(!t){r=e.src.slice(d,p);const t=[];e.md.inline.parse(r,e.md,e.env,t);const n=e.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=t,n.content=r,l&&i.push(["title",l])}return e.pos=o,e.posMax=f,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const r=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const o=e.src.slice(r+1,n);if(Mpe.test(o)){const n=e.md.normalizeLink(o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=o.length+2,!0}if(Ape.test(o)){const n=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=o.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(60!==e.src.charCodeAt(r)||r+2>=n)return!1;const i=e.src.charCodeAt(r+1);if(33!==i&&63!==i&&47!==i&&!function(e){const t=32|e;return t>=97&&t<=122}(i))return!1;const o=e.src.slice(r).match(dpe);if(!o)return!1;if(!t){const t=e.push("html_inline","",0);t.content=o[0],s=t.content,/^<a[>\s]/i.test(s)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var s;return e.pos+=o[0].length,!0}],["entity",function(e,t){const n=e.pos,r=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=r)return!1;if(35===e.src.charCodeAt(n+1)){const r=e.src.slice(n).match(Cpe);if(r){if(!t){const t="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=e.push("text_special","",0);n.content=yde(t)?_de(t):_de(65533),n.markup=r[0],n.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(Ope);if(r){const n=dde(r[0]);if(n!==r[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=r[0],t.info="entity"}return e.pos+=r[0].length,!0}}}return!1}]],kpe=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;Rpe(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&Rpe(t[r].delimiters)}],["strikethrough",Spe.postProcess],["emphasis",Tpe.postProcess],["fragments_join",function(e){let t,n,r=0;const i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)i[t].nesting<0&&r--,i[t].level=r,i[t].nesting>0&&r++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}]];function Ppe(){this.ruler=new zde;for(let e=0;e<Ipe.length;e++)this.ruler.push(Ipe[e][0],Ipe[e][1]);this.ruler2=new zde;for(let e=0;e<kpe.length;e++)this.ruler2.push(kpe[e][0],kpe[e][1])}function Npe(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function Dpe(e){return Object.prototype.toString.call(e)}function Lpe(e){return"[object Function]"===Dpe(e)}function Fpe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}Ppe.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,i=e.md.options.maxNesting,o=e.cache;if(void 0!==o[t])return void(e.pos=o[t]);let s=!1;if(e.level<i){for(let a=0;a<r;a++)if(e.level++,s=n[a](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,o[t]=e.pos},Ppe.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,i=e.md.options.maxNesting;for(;e.pos<r;){const o=e.pos;let s=!1;if(e.level<i)for(let r=0;r<n;r++)if(s=t[r](e,!1),s){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(s){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Ppe.prototype.parse=function(e,t,n,r){const i=new this.State(e,t,n,r);this.tokenize(i);const o=this.ruler2.getRules(""),s=o.length;for(let a=0;a<s;a++)o[a](i)},Ppe.prototype.State=ype;const Upe={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const Bpe={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},zpe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Vpe(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=Vfe.source,t.src_Cc=jfe.source,t.src_Z=Gfe.source,t.src_P=Hfe.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const i=[];function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){const n=e.__schemas__[t];if(null===n)return;const r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===Dpe(n))return!function(e){return"[object RegExp]"===Dpe(e)}(n.validate)?Lpe(n.validate)?r.validate=n.validate:o(t,n):r.validate=function(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(Lpe(n.normalize)?r.normalize=n.normalize:n.normalize?o(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Dpe(e)}(n)?o(t,n):i.push(t)}),i.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const s=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(Fpe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function jpe(e,t){const n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function Hpe(e,t){const n=new jpe(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Wpe(e,t){if(!(this instanceof Wpe))return new Wpe(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||Upe.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=Npe({},Upe,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Npe({},Bpe,e),this.__compiled__={},this.__tlds__=zpe,this.__tlds_replaced__=!1,this.re={},Vpe(this)}Wpe.prototype.add=function(e,t){return this.__schemas__[e]=t,Vpe(this),this},Wpe.prototype.set=function(e){return this.__opts__=Npe(this.__opts__,e),this},Wpe.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,r,i,o,s,a,l,c;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(i=this.testSchemaAt(e,t[2],a.lastIndex),i){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,s=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&s>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=s))),this.__index__>=0},Wpe.prototype.pretest=function(e){return this.re.pretest.test(e)},Wpe.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},Wpe.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(Hpe(this,n)),n=this.__last_index__);let r=n?e.slice(n):e;for(;this.test(r);)t.push(Hpe(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},Wpe.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,Hpe(this,0)):null},Wpe.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),Vpe(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Vpe(this),this)},Wpe.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},Wpe.prototype.onCompile=function(){};const Gpe=2147483647,qpe=36,$pe=/^xn--/,Xpe=/[^\0-\x7F]/,Ype=/[\x2E\u3002\uFF0E\uFF61]/g,Kpe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Zpe=Math.floor,Jpe=String.fromCharCode;function Qpe(e){throw new RangeError(Kpe[e])}function eme(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(Ype,".")).split("."),t).join(".");return r+i}function tme(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const nme=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:qpe},rme=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},ime=function(e,t,n){let r=0;for(e=n?Zpe(e/700):e>>1,e+=Zpe(e/t);e>455;r+=qpe)e=Zpe(e/35);return Zpe(r+36*e/(e+38))},ome=function(e){const t=[],n=e.length;let r=0,i=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let a=0;a<s;++a)e.charCodeAt(a)>=128&&Qpe("not-basic"),t.push(e.charCodeAt(a));for(let a=s>0?s+1:0;a<n;){const s=r;for(let t=1,i=qpe;;i+=qpe){a>=n&&Qpe("invalid-input");const s=nme(e.charCodeAt(a++));s>=qpe&&Qpe("invalid-input"),s>Zpe((Gpe-r)/t)&&Qpe("overflow"),r+=s*t;const l=i<=o?1:i>=o+26?26:i-o;if(s<l)break;const c=qpe-l;t>Zpe(Gpe/c)&&Qpe("overflow"),t*=c}const l=t.length+1;o=ime(r-s,l,0==s),Zpe(r/l)>Gpe-i&&Qpe("overflow"),i+=Zpe(r/l),r%=l,t.splice(r++,0,i)}return String.fromCodePoint(...t)},sme=function(e){const t=[],n=(e=tme(e)).length;let r=128,i=0,o=72;for(const l of e)l<128&&t.push(Jpe(l));const s=t.length;let a=s;for(s&&t.push("-");a<n;){let n=Gpe;for(const t of e)t>=r&&t<n&&(n=t);const l=a+1;n-r>Zpe((Gpe-i)/l)&&Qpe("overflow"),i+=(n-r)*l,r=n;for(const c of e)if(c<r&&++i>Gpe&&Qpe("overflow"),c===r){let e=i;for(let n=qpe;;n+=qpe){const r=n<=o?1:n>=o+26?26:n-o;if(e<r)break;const i=e-r,s=qpe-r;t.push(Jpe(rme(r+i%s,0))),e=Zpe(i/s)}t.push(Jpe(rme(e,0))),o=ime(i,l,a===s),i=0,++a}++i,++r}return t.join("")},ame=function(e){return eme(e,function(e){return Xpe.test(e)?"xn--"+sme(e):e})},lme=function(e){return eme(e,function(e){return $pe.test(e)?ome(e.slice(4).toLowerCase()):e})},cme={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},ume=/^(vbscript|javascript|file|data):/,hme=/^data:image\/(gif|png|jpeg|webp);/;function fme(e){const t=e.trim().toLowerCase();return!ume.test(t)||hme.test(t)}const dme=["http:","https:","mailto:"];function pme(e){const t=Bfe(e,!0);if(t.hostname&&(!t.protocol||dme.indexOf(t.protocol)>=0))try{t.hostname=ame(t.hostname)}catch(n){}return Tfe(Afe(t))}function mme(e){const t=Bfe(e,!0);if(t.hostname&&(!t.protocol||dme.indexOf(t.protocol)>=0))try{t.hostname=lme(t.hostname)}catch(n){}return Sfe(Afe(t),Sfe.defaultChars+"%")}function gme(e,t){if(!(this instanceof gme))return new gme(e,t);t||pde(e)||(t=e||{},e="default"),this.inline=new Ppe,this.block=new vpe,this.core=new ope,this.renderer=new Bde,this.linkify=new Wpe,this.validateLink=fme,this.normalizeLink=pme,this.normalizeLinkText=mme,this.utils=Lde,this.helpers=gde({},Fde),this.options={},this.configure(e),t&&this.set(t)}gme.prototype.set=function(e){return gde(this.options,e),this},gme.prototype.configure=function(e){const t=this;if(pde(e)){const t=e;if(!(e=cme[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this},gme.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},gme.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},gme.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},gme.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},gme.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},gme.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},gme.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};export{YO as $,ZO as A,hO as B,lR as C,zR as D,fO as E,fR as F,Il as G,Qn as H,JO as I,Si as J,ls as K,Y as L,dR as M,ee as N,ys as O,cL as P,gi as Q,Kn as R,gB as S,Zn as T,Oa as U,Ko as V,Oi as W,da as X,yl as Y,wl as Z,Qt as _,ds as a,ife as a$,BB as a0,zW as a1,Td as a2,wf as a3,UW as a4,Dn as a5,XB as a6,qB as a7,zB as a8,jv as a9,SO as aA,T5 as aB,zt as aC,Ss as aD,s9 as aE,b5 as aF,P5 as aG,f9 as aH,h9 as aI,E5 as aJ,pR as aK,l9 as aL,XO as aM,m9 as aN,a9 as aO,X4 as aP,te as aQ,ms as aR,y9 as aS,S9 as aT,E9 as aU,T9 as aV,TO as aW,cR as aX,aR as aY,_9 as aZ,_ce as a_,zp as aa,JB as ab,nz as ac,KB as ad,YB as ae,uO as af,FC as ag,zl as ah,Jl as ai,pc as aj,Qw as ak,oE as al,vs as am,tQ as an,GJ as ao,_l as ap,c4 as aq,M1 as ar,uR as as,w4 as at,W4 as au,ka as av,H7 as aw,M9 as ax,z5 as ay,R9 as az,Gs as b,Khe as b0,hR as b1,mR as b2,gR as b3,gme as b4,Ai as b5,as as c,Fr as d,wM as e,di as f,_s as g,on as h,xe as i,Ri as j,er as k,SM as l,Vi as m,ps as n,ns as o,hc as p,CR as q,en as r,Yt as s,hn as t,io as u,NR as v,ER as w,fc as x,vi as y,ar as z};
